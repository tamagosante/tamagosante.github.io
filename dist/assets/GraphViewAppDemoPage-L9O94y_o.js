import{r as C,j as m,R as Se}from"./react-vendor-BOZDwKwV.js";import{B as Ae}from"./Breadcrumbs-S61b4Rvs.js";import"./radix-ui-DhHtVSYQ.js";import"./index-Cmkaodfg.js";import"./utils-CGefl9Xh.js";import"./ui-utils-BxIQ3qGg.js";import"./icons-Cf9puwNc.js";const Me=-50,je=40,Ie="#3b82f6",Te="#6b7280",Le=10,Ge=60,Oe={chargeStrength:Me,linkDistance:je,nodeColor:Ie,edgeColor:Te,nodeRadius:Le,minDistance:Ge},Pe=e=>{const[n,t]=C.useState(()=>{const r=localStorage.getItem("graphControls");if(r)try{return JSON.parse(r)}catch(o){console.error("Failed to parse saved graph controls",o)}return Oe}),i=C.useCallback((r,o,a)=>{t(s=>{const l={...s,[r]:o};return a&&(r==="chargeStrength"&&a.force("charge").strength(o),r==="linkDistance"&&a.force("link").distance(o),r==="minDistance"&&a.force("collide").radius(o),a.alpha(.3).restart()),localStorage.setItem("graphControls",JSON.stringify(l)),l})},[]);return{controls:n,handleControlChange:i}};function $e(e,n){var t,i=1;e==null&&(e=0),n==null&&(n=0);function r(){var o,a=t.length,s,l=0,c=0;for(o=0;o<a;++o)s=t[o],l+=s.x,c+=s.y;for(l=(l/a-e)*i,c=(c/a-n)*i,o=0;o<a;++o)s=t[o],s.x-=l,s.y-=c}return r.initialize=function(o){t=o},r.x=function(o){return arguments.length?(e=+o,r):e},r.y=function(o){return arguments.length?(n=+o,r):n},r.strength=function(o){return arguments.length?(i=+o,r):i},r}function We(e){const n=+this._x.call(null,e),t=+this._y.call(null,e);return ge(this.cover(n,t),n,t,e)}function ge(e,n,t,i){if(isNaN(n)||isNaN(t))return e;var r,o=e._root,a={data:i},s=e._x0,l=e._y0,c=e._x1,x=e._y1,y,p,u,v,h,f,g,w;if(!o)return e._root=a,e;for(;o.length;)if((h=n>=(y=(s+c)/2))?s=y:c=y,(f=t>=(p=(l+x)/2))?l=p:x=p,r=o,!(o=o[g=f<<1|h]))return r[g]=a,e;if(u=+e._x.call(null,o.data),v=+e._y.call(null,o.data),n===u&&t===v)return a.next=o,r?r[g]=a:e._root=a,e;do r=r?r[g]=new Array(4):e._root=new Array(4),(h=n>=(y=(s+c)/2))?s=y:c=y,(f=t>=(p=(l+x)/2))?l=p:x=p;while((g=f<<1|h)===(w=(v>=p)<<1|u>=y));return r[w]=o,r[g]=a,e}function Fe(e){var n,t,i=e.length,r,o,a=new Array(i),s=new Array(i),l=1/0,c=1/0,x=-1/0,y=-1/0;for(t=0;t<i;++t)isNaN(r=+this._x.call(null,n=e[t]))||isNaN(o=+this._y.call(null,n))||(a[t]=r,s[t]=o,r<l&&(l=r),r>x&&(x=r),o<c&&(c=o),o>y&&(y=o));if(l>x||c>y)return this;for(this.cover(l,c).cover(x,y),t=0;t<i;++t)ge(this,a[t],s[t],e[t]);return this}function Be(e,n){if(isNaN(e=+e)||isNaN(n=+n))return this;var t=this._x0,i=this._y0,r=this._x1,o=this._y1;if(isNaN(t))r=(t=Math.floor(e))+1,o=(i=Math.floor(n))+1;else{for(var a=r-t||1,s=this._root,l,c;t>e||e>=r||i>n||n>=o;)switch(c=(n<i)<<1|e<t,l=new Array(4),l[c]=s,s=l,a*=2,c){case 0:r=t+a,o=i+a;break;case 1:t=r-a,o=i+a;break;case 2:r=t+a,i=o-a;break;case 3:t=r-a,i=o-a;break}this._root&&this._root.length&&(this._root=s)}return this._x0=t,this._y0=i,this._x1=r,this._y1=o,this}function ze(){var e=[];return this.visit(function(n){if(!n.length)do e.push(n.data);while(n=n.next)}),e}function Xe(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function G(e,n,t,i,r){this.node=e,this.x0=n,this.y0=t,this.x1=i,this.y1=r}function He(e,n,t){var i,r=this._x0,o=this._y0,a,s,l,c,x=this._x1,y=this._y1,p=[],u=this._root,v,h;for(u&&p.push(new G(u,r,o,x,y)),t==null?t=1/0:(r=e-t,o=n-t,x=e+t,y=n+t,t*=t);v=p.pop();)if(!(!(u=v.node)||(a=v.x0)>x||(s=v.y0)>y||(l=v.x1)<r||(c=v.y1)<o))if(u.length){var f=(a+l)/2,g=(s+c)/2;p.push(new G(u[3],f,g,l,c),new G(u[2],a,g,f,c),new G(u[1],f,s,l,g),new G(u[0],a,s,f,g)),(h=(n>=g)<<1|e>=f)&&(v=p[p.length-1],p[p.length-1]=p[p.length-1-h],p[p.length-1-h]=v)}else{var w=e-+this._x.call(null,u.data),_=n-+this._y.call(null,u.data),d=w*w+_*_;if(d<t){var N=Math.sqrt(t=d);r=e-N,o=n-N,x=e+N,y=n+N,i=u.data}}return i}function Ue(e){if(isNaN(x=+this._x.call(null,e))||isNaN(y=+this._y.call(null,e)))return this;var n,t=this._root,i,r,o,a=this._x0,s=this._y0,l=this._x1,c=this._y1,x,y,p,u,v,h,f,g;if(!t)return this;if(t.length)for(;;){if((v=x>=(p=(a+l)/2))?a=p:l=p,(h=y>=(u=(s+c)/2))?s=u:c=u,n=t,!(t=t[f=h<<1|v]))return this;if(!t.length)break;(n[f+1&3]||n[f+2&3]||n[f+3&3])&&(i=n,g=f)}for(;t.data!==e;)if(r=t,!(t=t.next))return this;return(o=t.next)&&delete t.next,r?(o?r.next=o:delete r.next,this):n?(o?n[f]=o:delete n[f],(t=n[0]||n[1]||n[2]||n[3])&&t===(n[3]||n[2]||n[1]||n[0])&&!t.length&&(i?i[g]=t:this._root=t),this):(this._root=o,this)}function Re(e){for(var n=0,t=e.length;n<t;++n)this.remove(e[n]);return this}function Ye(){return this._root}function Ve(){var e=0;return this.visit(function(n){if(!n.length)do++e;while(n=n.next)}),e}function Ze(e){var n=[],t,i=this._root,r,o,a,s,l;for(i&&n.push(new G(i,this._x0,this._y0,this._x1,this._y1));t=n.pop();)if(!e(i=t.node,o=t.x0,a=t.y0,s=t.x1,l=t.y1)&&i.length){var c=(o+s)/2,x=(a+l)/2;(r=i[3])&&n.push(new G(r,c,x,s,l)),(r=i[2])&&n.push(new G(r,o,x,c,l)),(r=i[1])&&n.push(new G(r,c,a,s,x)),(r=i[0])&&n.push(new G(r,o,a,c,x))}return this}function Ke(e){var n=[],t=[],i;for(this._root&&n.push(new G(this._root,this._x0,this._y0,this._x1,this._y1));i=n.pop();){var r=i.node;if(r.length){var o,a=i.x0,s=i.y0,l=i.x1,c=i.y1,x=(a+l)/2,y=(s+c)/2;(o=r[0])&&n.push(new G(o,a,s,x,y)),(o=r[1])&&n.push(new G(o,x,s,l,y)),(o=r[2])&&n.push(new G(o,a,y,x,c)),(o=r[3])&&n.push(new G(o,x,y,l,c))}t.push(i)}for(;i=t.pop();)e(i.node,i.x0,i.y0,i.x1,i.y1);return this}function Je(e){return e[0]}function Qe(e){return arguments.length?(this._x=e,this):this._x}function qe(e){return e[1]}function et(e){return arguments.length?(this._y=e,this):this._y}function re(e,n,t){var i=new ie(n??Je,t??qe,NaN,NaN,NaN,NaN);return e==null?i:i.addAll(e)}function ie(e,n,t,i,r,o){this._x=e,this._y=n,this._x0=t,this._y0=i,this._x1=r,this._y1=o,this._root=void 0}function se(e){for(var n={data:e.data},t=n;e=e.next;)t=t.next={data:e.data};return n}var P=re.prototype=ie.prototype;P.copy=function(){var e=new ie(this._x,this._y,this._x0,this._y0,this._x1,this._y1),n=this._root,t,i;if(!n)return e;if(!n.length)return e._root=se(n),e;for(t=[{source:n,target:e._root=new Array(4)}];n=t.pop();)for(var r=0;r<4;++r)(i=n.source[r])&&(i.length?t.push({source:i,target:n.target[r]=new Array(4)}):n.target[r]=se(i));return e};P.add=We;P.addAll=Fe;P.cover=Be;P.data=ze;P.extent=Xe;P.find=He;P.remove=Ue;P.removeAll=Re;P.root=Ye;P.size=Ve;P.visit=Ze;P.visitAfter=Ke;P.x=Qe;P.y=et;function O(e){return function(){return e}}function W(e){return(e()-.5)*1e-6}function tt(e){return e.x+e.vx}function nt(e){return e.y+e.vy}function rt(e){var n,t,i,r=1,o=1;typeof e!="function"&&(e=O(e==null?1:+e));function a(){for(var c,x=n.length,y,p,u,v,h,f,g=0;g<o;++g)for(y=re(n,tt,nt).visitAfter(s),c=0;c<x;++c)p=n[c],h=t[p.index],f=h*h,u=p.x+p.vx,v=p.y+p.vy,y.visit(w);function w(_,d,N,D,k){var S=_.data,b=_.r,E=h+b;if(S){if(S.index>p.index){var A=u-S.x-S.vx,j=v-S.y-S.vy,M=A*A+j*j;M<E*E&&(A===0&&(A=W(i),M+=A*A),j===0&&(j=W(i),M+=j*j),M=(E-(M=Math.sqrt(M)))/M*r,p.vx+=(A*=M)*(E=(b*=b)/(f+b)),p.vy+=(j*=M)*E,S.vx-=A*(E=1-E),S.vy-=j*E)}return}return d>u+E||D<u-E||N>v+E||k<v-E}}function s(c){if(c.data)return c.r=t[c.data.index];for(var x=c.r=0;x<4;++x)c[x]&&c[x].r>c.r&&(c.r=c[x].r)}function l(){if(n){var c,x=n.length,y;for(t=new Array(x),c=0;c<x;++c)y=n[c],t[y.index]=+e(y,c,n)}}return a.initialize=function(c,x){n=c,i=x,l()},a.iterations=function(c){return arguments.length?(o=+c,a):o},a.strength=function(c){return arguments.length?(r=+c,a):r},a.radius=function(c){return arguments.length?(e=typeof c=="function"?c:O(+c),l(),a):e},a}function it(e){return e.index}function ae(e,n){var t=e.get(n);if(!t)throw new Error("node not found: "+n);return t}function le(e){var n=it,t=y,i,r=O(30),o,a,s,l,c,x=1;e==null&&(e=[]);function y(f){return 1/Math.min(s[f.source.index],s[f.target.index])}function p(f){for(var g=0,w=e.length;g<x;++g)for(var _=0,d,N,D,k,S,b,E;_<w;++_)d=e[_],N=d.source,D=d.target,k=D.x+D.vx-N.x-N.vx||W(c),S=D.y+D.vy-N.y-N.vy||W(c),b=Math.sqrt(k*k+S*S),b=(b-o[_])/b*f*i[_],k*=b,S*=b,D.vx-=k*(E=l[_]),D.vy-=S*E,N.vx+=k*(E=1-E),N.vy+=S*E}function u(){if(a){var f,g=a.length,w=e.length,_=new Map(a.map((N,D)=>[n(N,D,a),N])),d;for(f=0,s=new Array(g);f<w;++f)d=e[f],d.index=f,typeof d.source!="object"&&(d.source=ae(_,d.source)),typeof d.target!="object"&&(d.target=ae(_,d.target)),s[d.source.index]=(s[d.source.index]||0)+1,s[d.target.index]=(s[d.target.index]||0)+1;for(f=0,l=new Array(w);f<w;++f)d=e[f],l[f]=s[d.source.index]/(s[d.source.index]+s[d.target.index]);i=new Array(w),v(),o=new Array(w),h()}}function v(){if(a)for(var f=0,g=e.length;f<g;++f)i[f]=+t(e[f],f,e)}function h(){if(a)for(var f=0,g=e.length;f<g;++f)o[f]=+r(e[f],f,e)}return p.initialize=function(f,g){a=f,c=g,u()},p.links=function(f){return arguments.length?(e=f,u(),p):e},p.id=function(f){return arguments.length?(n=f,p):n},p.iterations=function(f){return arguments.length?(x=+f,p):x},p.strength=function(f){return arguments.length?(t=typeof f=="function"?f:O(+f),v(),p):t},p.distance=function(f){return arguments.length?(r=typeof f=="function"?f:O(+f),h(),p):r},p}var ot={value:()=>{}};function pe(){for(var e=0,n=arguments.length,t={},i;e<n;++e){if(!(i=arguments[e]+"")||i in t||/[\s.]/.test(i))throw new Error("illegal type: "+i);t[i]=[]}return new V(t)}function V(e){this._=e}function st(e,n){return e.trim().split(/^|\s+/).map(function(t){var i="",r=t.indexOf(".");if(r>=0&&(i=t.slice(r+1),t=t.slice(0,r)),t&&!n.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:i}})}V.prototype=pe.prototype={constructor:V,on:function(e,n){var t=this._,i=st(e+"",t),r,o=-1,a=i.length;if(arguments.length<2){for(;++o<a;)if((r=(e=i[o]).type)&&(r=at(t[r],e.name)))return r;return}if(n!=null&&typeof n!="function")throw new Error("invalid callback: "+n);for(;++o<a;)if(r=(e=i[o]).type)t[r]=ce(t[r],e.name,n);else if(n==null)for(r in t)t[r]=ce(t[r],e.name,null);return this},copy:function(){var e={},n=this._;for(var t in n)e[t]=n[t].slice();return new V(e)},call:function(e,n){if((r=arguments.length-2)>0)for(var t=new Array(r),i=0,r,o;i<r;++i)t[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],i=0,r=o.length;i<r;++i)o[i].value.apply(n,t)},apply:function(e,n,t){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var i=this._[e],r=0,o=i.length;r<o;++r)i[r].value.apply(n,t)}};function at(e,n){for(var t=0,i=e.length,r;t<i;++t)if((r=e[t]).name===n)return r.value}function ce(e,n,t){for(var i=0,r=e.length;i<r;++i)if(e[i].name===n){e[i]=ot,e=e.slice(0,i).concat(e.slice(i+1));break}return t!=null&&e.push({name:n,value:t}),e}var z=0,H=0,X=0,xe=1e3,Z,U,K=0,B=0,J=0,R=typeof performance=="object"&&performance.now?performance:Date,ye=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function me(){return B||(ye(lt),B=R.now()+J)}function lt(){B=0}function ee(){this._call=this._time=this._next=null}ee.prototype=ve.prototype={constructor:ee,restart:function(e,n,t){if(typeof e!="function")throw new TypeError("callback is not a function");t=(t==null?me():+t)+(n==null?0:+n),!this._next&&U!==this&&(U?U._next=this:Z=this,U=this),this._call=e,this._time=t,te()},stop:function(){this._call&&(this._call=null,this._time=1/0,te())}};function ve(e,n,t){var i=new ee;return i.restart(e,n,t),i}function ct(){me(),++z;for(var e=Z,n;e;)(n=B-e._time)>=0&&e._call.call(void 0,n),e=e._next;--z}function ue(){B=(K=R.now())+J,z=H=0;try{ct()}finally{z=0,ft(),B=0}}function ut(){var e=R.now(),n=e-K;n>xe&&(J-=n,K=e)}function ft(){for(var e,n=Z,t,i=1/0;n;)n._call?(i>n._time&&(i=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:Z=t);U=e,te(i)}function te(e){if(!z){H&&(H=clearTimeout(H));var n=e-B;n>24?(e<1/0&&(H=setTimeout(ue,e-R.now()-J)),X&&(X=clearInterval(X))):(X||(K=R.now(),X=setInterval(ut,xe)),z=1,ye(ue))}}const dt=1664525,ht=1013904223,fe=4294967296;function gt(){let e=1;return()=>(e=(dt*e+ht)%fe)/fe}function pt(e){return e.x}function xt(e){return e.y}var yt=10,mt=Math.PI*(3-Math.sqrt(5));function vt(e){var n,t=1,i=.001,r=1-Math.pow(i,1/300),o=0,a=.6,s=new Map,l=ve(y),c=pe("tick","end"),x=gt();e==null&&(e=[]);function y(){p(),c.call("tick",n),t<i&&(l.stop(),c.call("end",n))}function p(h){var f,g=e.length,w;h===void 0&&(h=1);for(var _=0;_<h;++_)for(t+=(o-t)*r,s.forEach(function(d){d(t)}),f=0;f<g;++f)w=e[f],w.fx==null?w.x+=w.vx*=a:(w.x=w.fx,w.vx=0),w.fy==null?w.y+=w.vy*=a:(w.y=w.fy,w.vy=0);return n}function u(){for(var h=0,f=e.length,g;h<f;++h){if(g=e[h],g.index=h,g.fx!=null&&(g.x=g.fx),g.fy!=null&&(g.y=g.fy),isNaN(g.x)||isNaN(g.y)){var w=yt*Math.sqrt(.5+h),_=h*mt;g.x=w*Math.cos(_),g.y=w*Math.sin(_)}(isNaN(g.vx)||isNaN(g.vy))&&(g.vx=g.vy=0)}}function v(h){return h.initialize&&h.initialize(e,x),h}return u(),n={tick:p,restart:function(){return l.restart(y),n},stop:function(){return l.stop(),n},nodes:function(h){return arguments.length?(e=h,u(),s.forEach(v),n):e},alpha:function(h){return arguments.length?(t=+h,n):t},alphaMin:function(h){return arguments.length?(i=+h,n):i},alphaDecay:function(h){return arguments.length?(r=+h,n):+r},alphaTarget:function(h){return arguments.length?(o=+h,n):o},velocityDecay:function(h){return arguments.length?(a=1-h,n):1-a},randomSource:function(h){return arguments.length?(x=h,s.forEach(v),n):x},force:function(h,f){return arguments.length>1?(f==null?s.delete(h):s.set(h,v(f)),n):s.get(h)},find:function(h,f,g){var w=0,_=e.length,d,N,D,k,S;for(g==null?g=1/0:g*=g,w=0;w<_;++w)k=e[w],d=h-k.x,N=f-k.y,D=d*d+N*N,D<g&&(S=k,g=D);return S},on:function(h,f){return arguments.length>1?(c.on(h,f),n):c.on(h)}}}function de(){var e,n,t,i,r=O(-30),o,a=1,s=1/0,l=.81;function c(u){var v,h=e.length,f=re(e,pt,xt).visitAfter(y);for(i=u,v=0;v<h;++v)n=e[v],f.visit(p)}function x(){if(e){var u,v=e.length,h;for(o=new Array(v),u=0;u<v;++u)h=e[u],o[h.index]=+r(h,u,e)}}function y(u){var v=0,h,f,g=0,w,_,d;if(u.length){for(w=_=d=0;d<4;++d)(h=u[d])&&(f=Math.abs(h.value))&&(v+=h.value,g+=f,w+=f*h.x,_+=f*h.y);u.x=w/g,u.y=_/g}else{h=u,h.x=h.data.x,h.y=h.data.y;do v+=o[h.data.index];while(h=h.next)}u.value=v}function p(u,v,h,f){if(!u.value)return!0;var g=u.x-n.x,w=u.y-n.y,_=f-v,d=g*g+w*w;if(_*_/l<d)return d<s&&(g===0&&(g=W(t),d+=g*g),w===0&&(w=W(t),d+=w*w),d<a&&(d=Math.sqrt(a*d)),n.vx+=g*u.value*i/d,n.vy+=w*u.value*i/d),!0;if(u.length||d>=s)return;(u.data!==n||u.next)&&(g===0&&(g=W(t),d+=g*g),w===0&&(w=W(t),d+=w*w),d<a&&(d=Math.sqrt(a*d)));do u.data!==n&&(_=o[u.data.index]*i/d,n.vx+=g*_,n.vy+=w*_);while(u=u.next)}return c.initialize=function(u,v){e=u,t=v,x()},c.strength=function(u){return arguments.length?(r=typeof u=="function"?u:O(+u),x(),c):r},c.distanceMin=function(u){return arguments.length?(a=u*u,c):Math.sqrt(a)},c.distanceMax=function(u){return arguments.length?(s=u*u,c):Math.sqrt(s)},c.theta=function(u){return arguments.length?(l=u*u,c):Math.sqrt(l)},c}function wt(e){var n=O(.1),t,i,r;typeof e!="function"&&(e=O(e==null?0:+e));function o(s){for(var l=0,c=t.length,x;l<c;++l)x=t[l],x.vx+=(r[l]-x.x)*i[l]*s}function a(){if(t){var s,l=t.length;for(i=new Array(l),r=new Array(l),s=0;s<l;++s)i[s]=isNaN(r[s]=+e(t[s],s,t))?0:+n(t[s],s,t)}}return o.initialize=function(s){t=s,a()},o.strength=function(s){return arguments.length?(n=typeof s=="function"?s:O(+s),a(),o):n},o.x=function(s){return arguments.length?(e=typeof s=="function"?s:O(+s),a(),o):e},o}function bt(e){var n=O(.1),t,i,r;typeof e!="function"&&(e=O(e==null?0:+e));function o(s){for(var l=0,c=t.length,x;l<c;++l)x=t[l],x.vy+=(r[l]-x.y)*i[l]*s}function a(){if(t){var s,l=t.length;for(i=new Array(l),r=new Array(l),s=0;s<l;++s)i[s]=isNaN(r[s]=+e(t[s],s,t))?0:+n(t[s],s,t)}}return o.initialize=function(s){t=s,a()},o.strength=function(s){return arguments.length?(n=typeof s=="function"?s:O(+s),a(),o):n},o.y=function(s){return arguments.length?(e=typeof s=="function"?s:O(+s),a(),o):e},o}const Nt=[{id:"cat-1",label:"Programming Paradigms",color:"#8dd3c7"},{id:"cat-2",label:"Core Concepts",color:"#ffffb3"},{id:"cat-3",label:"Application Areas",color:"#bebada"},{id:"cat-4",label:"Development Practices",color:"#fb8072"}],_t=[{id:"topic-1",categoryId:"cat-1",label:"Object-Oriented Programming"},{id:"topic-2",categoryId:"cat-1",label:"Functional Programming"},{id:"topic-3",categoryId:"cat-2",label:"Data Structures"},{id:"topic-4",categoryId:"cat-2",label:"Algorithms"},{id:"topic-5",categoryId:"cat-2",label:"Control Flow"},{id:"topic-6",categoryId:"cat-3",label:"Web Development"},{id:"topic-7",categoryId:"cat-3",label:"Mobile Development"},{id:"topic-8",categoryId:"cat-3",label:"Data Science"},{id:"topic-9",categoryId:"cat-4",label:"Version Control"},{id:"topic-10",categoryId:"cat-4",label:"Testing"}],we=[{id:"label-1",topicId:"topic-1",label:"Classes",weight:.9},{id:"label-2",topicId:"topic-1",label:"Objects",weight:.9},{id:"label-3",topicId:"topic-1",label:"Inheritance",weight:.7},{id:"label-4",topicId:"topic-2",label:"Pure Functions",weight:.8},{id:"label-5",topicId:"topic-2",label:"Immutability",weight:.8},{id:"label-6",topicId:"topic-3",label:"Arrays",weight:.7},{id:"label-7",topicId:"topic-3",label:"Linked Lists",weight:.6},{id:"label-8",topicId:"topic-4",label:"Sorting",weight:.8},{id:"label-9",topicId:"topic-4",label:"Searching",weight:.7},{id:"label-10",topicId:"topic-5",label:"Loops",weight:.9},{id:"label-11",topicId:"topic-5",label:"Conditional Statements",weight:.9},{id:"label-12",topicId:"topic-6",label:"HTML",weight:.9},{id:"label-13",topicId:"topic-6",label:"CSS",weight:.9},{id:"label-14",topicId:"topic-7",label:"Android",weight:.8},{id:"label-15",topicId:"topic-7",label:"iOS",weight:.8},{id:"label-16",topicId:"topic-8",label:"Machine Learning",weight:.7},{id:"label-17",topicId:"topic-8",label:"Data Analysis",weight:.8},{id:"label-18",topicId:"topic-9",label:"Git",weight:.9},{id:"label-19",topicId:"topic-9",label:"Repositories",weight:.8},{id:"label-20",topicId:"topic-10",label:"Unit Tests",weight:.8}],Ct=[],Et=[],Dt=[{id:"label-1",topicId:"topic-1",label:"debt",weight:.9},{id:"label-2",topicId:"topic-1",label:"money",weight:.9}],ne=[],L={CANVAS_WIDTH:500,CANVAS_HEIGHT:500,NODE_BASE_RADIUS:30,NODE_SELECTION_MARGIN:4,NODE_EDGE_SOURCE_MARGIN:8,NODE_TEXT_SIZE_CLASS:"text-2xl",EDGE_WEIGHT_TEXT_SIZE_CLASS:"text-xs",GROUP_LABEL_TEXT_SIZE_CLASS:"text-lg",SELECTED_NODE_TEXT_CLASS:"font-bold text-gray-900",REGULAR_NODE_TEXT_CLASS:"font-medium text-gray-800",SELECTED_EDGE_WIDTH:3,EDGE_DASHARRAY:"5,5"};function kt(e,n,t){const i=r=>r+(Math.random()-.5)*100;return e.map(r=>({...r,x:r.x!==void 0?r.x:i(n/2),y:r.y!==void 0?r.y:i(t/2)}))}function St(e,n){return e.map(t=>({source:n.get(t.source)||t.source,target:n.get(t.target)||t.target,weight:t.weight||1,type:t.type}))}function At(e,n,t,i){const r={},o=[...new Set(e.map(l=>l.group))].filter(l=>l!==void 0),a=[...e],s=Math.min(t,i)*.35;o.forEach((l,c)=>{if(l!==void 0){const x=2*Math.PI*c/o.length,y=t/2+s*Math.cos(x),p=i/2+s*Math.sin(x),u={id:`group-${l}`,x:y,y:p,group:l,type:"group-center",fx:y,fy:p};a.push(u),r[l]={x:y,y:p,node:u}}});for(let l=0;l<o.length;l++)for(let c=l+1;c<o.length;c++){const x=o[l],y=o[c],p=r[x].node,u=r[y].node;n.push({source:p.id,target:u.id,weight:.15,type:"inter-group"})}return{groupCenters:r,enhancedNodes:a}}function Mt(e){return e===void 0?"":{1:"Epistemology",2:"Metaphysics",3:"Ethics",4:"Logic",5:"Political Philosophy",6:"Aesthetics"}[e]||`Group ${e}`}function jt(e,n){return e.group?`hsl(${240%360}, 75%, 50%)`:n}function It(e){return L.NODE_BASE_RADIUS}const Tt=Nt,Lt=_t.filter(e=>Tt.find(t=>t.id===e.categoryId));we.filter(e=>Lt.find(t=>t.id===e.topicId));function he(e,n){return n.filter(t=>t.source===e||t.target===e).length}[...we].sort((e,n)=>{const t=he(e.id,ne);return he(n.id,ne)-t});const Gt=(e,n,t,i)=>{const[r,o]=C.useState(e.map(l=>({...l}))),a=C.useRef(null);return C.useEffect(()=>{var f;if(!i.current)return;const l=L.CANVAS_WIDTH,c=L.CANVAS_HEIGHT,x=kt(e,l,c),y=new Map(x.map(g=>[g.id,g])),p=St(n,y),{groupCenters:u,enhancedNodes:v}=At(x,p,l,c),h=vt(v).force("charge",de().strength(t.chargeStrength).distanceMax(300)).force("link",le(p).id(g=>g.id).distance(t.linkDistance).strength(g=>g.weight||.7)).force("center",$e(l/2,c/2).strength(.05)).force("collide",rt().radius(t.minDistance).strength(.7)).force("x",wt().strength(.1).x(g=>g.group!==void 0&&u[g.group]?u[g.group].x:l/2)).force("y",bt().strength(.1).y(g=>g.group!==void 0&&u[g.group]?u[g.group].y:c/2)).velocityDecay(.4).alphaDecay(.02).on("tick",()=>{o([...h.nodes()])});return a.current=h,h.nodes(v),(f=h.force("link"))==null||f.links(p),h.alpha(1).restart(),()=>{h.stop()}},[e,n,t.chargeStrength,t.linkDistance,t.minDistance]),{simulationNodes:r,simulationRef:a,restartSimulation:()=>{var c;if(!a.current)return;const l=((c=a.current.force("link"))==null?void 0:c.links())||[];a.current.stop(),a.current.force("charge",de().strength(t.chargeStrength)).force("link",le(l).id(x=>x.id).distance(t.linkDistance)).alpha(1).restart()}}},Ot=(e,n)=>{const[t,i]=C.useState(!1),[r,o]=C.useState(null),a=C.useRef({x:0,y:0});return{isDragging:t,draggedNode:r,handleMouseDown:y=>p=>{if(!e.current)return;p.preventDefault();const u=e.current;o(y),i(!0),y.fx=y.x,y.fy=y.y,u.alphaTarget(.3).restart()},handleMouseMove:(y,p)=>{if(!t||!r||!p.current)return;y.preventDefault();const u=p.current.getBoundingClientRect(),v=y.clientX-u.left,h=y.clientY-u.top;r.fx=v,r.fy=h,e.current&&n([...e.current.nodes()])},handleMouseUp:()=>{!t||!r||(i(!1),r.fx=null,r.fy=null,o(null),e.current&&e.current.alphaTarget(0))},calculateSvgPosition:y=>{if(y.current){const p=y.current.getBoundingClientRect();a.current={x:p.left,y:p.top}}}}},be=e=>{const n=C.useRef(!1),[t,i]=C.useState(()=>{const p=localStorage.getItem("graphData");if(p)try{const u=JSON.parse(p);return console.log("Loaded graph data from localStorage:",u),!u.nodes||!Array.isArray(u.nodes)?(console.error("Invalid nodes data in localStorage"),e||{nodes:[],edges:[]}):!u.edges||!Array.isArray(u.edges)?(console.error("Invalid edges data in localStorage"),e||{nodes:[],edges:[]}):{nodes:u.nodes.map(h=>({...h,id:h.id||`node-${Math.random().toString(36).substr(2,9)}`,x:h.x!==void 0?h.x:Math.random()*500,y:h.y!==void 0?h.y:Math.random()*500})),edges:u.edges}}catch(u){console.error("Failed to parse saved graph data",u)}return e||{nodes:[],edges:[]}});C.useEffect(()=>{n.current=!0},[]),C.useEffect(()=>{n.current&&(console.log("Saving graph data to localStorage:",t),localStorage.setItem("graphData",JSON.stringify(t)))},[t]);const r=C.useCallback(p=>{p.fx=null,p.fy=null,i(u=>({...u,nodes:[...u.nodes,p]}))},[]),o=C.useCallback(p=>{i(u=>({...u,nodes:u.nodes.map(h=>h.id===p.id?p:h)}))},[]),a=C.useCallback(p=>{i(u=>({nodes:u.nodes.filter(h=>h.id!==p),edges:u.edges.filter(h=>h.source!==p&&h.target!==p)}))},[]),s=C.useCallback(p=>{i(u=>u.edges.some(f=>f.source===p.source&&f.target===p.target)?u:{...u,edges:[...u.edges,p]})},[]),l=C.useCallback(p=>{i(u=>({...u,edges:u.edges.map(h=>h.source===p.source&&h.target===p.target?p:h)}))},[]),c=C.useCallback((p,u)=>{i(v=>({...v,edges:v.edges.filter(f=>!(f.source===p&&f.target===u))}))},[]),x=C.useCallback(()=>{i({nodes:[],edges:[]})},[]),y=C.useCallback(p=>{i(u=>{const v=new Map(u.nodes.map(f=>[f.id,f]));p.forEach(f=>{const g=v.get(f.id);g&&(g.x=f.x,g.y=f.y)});const h=u.nodes.map(f=>({...f}));return{...u,nodes:h}})},[]);return{nodes:t.nodes,edges:t.edges,addNode:r,updateNode:o,removeNode:a,addEdge:s,updateEdge:l,removeEdge:c,clearGraphData:x,setGraphData:i,updateNodePositions:y}},Pt=(e,n,t,i)=>{const[r,o]=C.useState(null),[a,s]=C.useState(null),[l,c]=C.useState(null),[x,y]=C.useState(null),p=C.useRef(null),{addNode:u,removeNode:v}=be({nodes:e,edges:n}),h=C.useCallback((b,E)=>{if(t.current)try{const A=t.current.nodes();A.forEach(I=>{I._originalFx=I.fx,I._originalFy=I.fy,I.fx=I.x,I.fy=I.y});const j=`node-${Date.now()}`,M={id:j,label:"New Node",x:b,y:E,fx:b,fy:E},$=[...A,M];t.current.nodes($),t.current.alpha(.05).restart();const F=t.current.nodes();if(i(F),!F.some(I=>I.id===j)){console.error("Node was not properly added to simulation");return}o(M),setTimeout(()=>{p.current&&(p.current.focus(),p.current.select())},50),setTimeout(()=>{F.forEach(I=>{I.id!==j&&(I._originalFx!==void 0?(I.fx=I._originalFx,delete I._originalFx):I.fx=null,I._originalFy!==void 0?(I.fy=I._originalFy,delete I._originalFy):I.fy=null)}),t.current.alpha(.1).restart()},300)}catch(A){console.error("Error adding node to simulation:",A)}},[t,i]),f=(b,E)=>{if(!E.current||!t.current)return;const A=E.current.getBoundingClientRect(),j=b.clientX-A.left,M=b.clientY-A.top;if(isNaN(j)||isNaN(M)||!isFinite(j)||!isFinite(M)){console.error("Invalid coordinates for new node:",j,M);return}h(j,M)},g=b=>{if(!r||!t.current)return;const E={...r,label:b.target.value};o(E);const A=t.current.nodes(),j=A.findIndex(M=>M.id===r.id);j>=0&&(A[j].label=b.target.value,i([...A]))},w=()=>{if(!r||!t.current)return;o(null);const b=t.current.nodes().find(E=>E.id===r.id);u(b),b&&setTimeout(()=>{b.fx=null,b.fy=null,t.current.alpha(.3).restart()},1500)},_=b=>{b.key==="Enter"&&w()},d=C.useCallback(b=>{s(b)},[]),N=C.useCallback(b=>{if(console.log("%c------------------------------------------------------------------------------------------","background: darkblue"),console.log(">>>> _ >>>> ~ useNodeEditing.ts:220 ~ deleteNode:",b),!t.current){console.error("Delete node failed: simulationRef.current is null or undefined");return}try{const E=t.current.nodes(),A=t.current.force("link").links();console.log("Current nodes before deletion:",E.length),console.log("Current links before deletion:",A.length);const j=E.filter($=>$.id!==b),M=A.filter($=>($.source.id!==void 0?$.source.id!==b:$.source!==b)&&($.target.id!==void 0?$.target.id!==b:$.target!==b));console.log("Nodes after filtering:",j.length),console.log("Links after filtering:",M.length),t.current.nodes(j),t.current.force("link").links(M),i(j),(a==null?void 0:a.id)===b&&s(null),(l==null?void 0:l.id)===b&&(c(null),y(null)),v(b),t.current.alpha(.3).restart(),console.log("Node deletion complete")}catch(E){console.error("Error deleting node:",E)}},[a,l,i,t]),D=C.useCallback((b,E)=>{b.preventDefault(),c(E),y({x:b.clientX,y:b.clientY})},[]),k=C.useCallback(()=>{c(null),y(null)},[]),S=C.useCallback(b=>{b.key==="Delete"&&a?N(a.id):b.key==="Escape"&&(s(null),k())},[a,N,k]);return{editingNode:r,selectedNode:a,contextMenuNode:l,contextMenuPosition:x,inputRef:p,handleDoubleClick:f,handleNodeNameChange:g,finishEditing:w,handleInputKeyDown:_,selectNode:d,deleteNode:N,handleContextMenu:D,closeContextMenu:k,handleKeyDown:S,addNode:h}},$t=(e,n)=>{const[t,i]=C.useState(null),[r,o]=C.useState(null),[a,s]=C.useState(null),l=C.useCallback(f=>{i({source:f})},[]),c=C.useCallback(f=>{if(!t||!e.current)return;if(t.source.id===f.id){i(null);return}const g=e.current.force("link").links();if(!g.some(_=>_.source.id===t.source.id&&_.target.id===f.id||_.source.id===f.id&&_.target.id===t.source.id)){const _={source:t.source.id,target:f.id,weight:1},d=[...g,_];e.current.force("link").links(d),e.current.alpha(.3).restart()}i(null)},[t]),x=C.useCallback(()=>{i(null)},[]),y=C.useCallback(f=>{o(f)},[]),p=C.useCallback((f,g)=>{if(!e.current)return;const _=e.current.force("link").links().filter(d=>!(d.source.id===f&&d.target.id===g)&&!(d.source.id===g&&d.target.id===f));e.current.force("link").links(_),e.current.alpha(.3).restart(),r&&(r.source===f&&r.target===g||r.source===g&&r.target===f)&&o(null),a&&s(null)},[r,a]),u=C.useCallback((f,g)=>{f.preventDefault(),s({edge:g,position:{x:f.clientX,y:f.clientY}})},[]),v=C.useCallback(()=>{s(null)},[]),h=C.useCallback((f,g,w)=>{if(!e.current)return;const d=e.current.force("link").links().find(N=>N.source.id===f&&N.target.id===g||N.source.id===g&&N.target.id===f);d&&(d.weight=w,e.current.alpha(.3).restart())},[]);return{creatingEdge:t,selectedEdge:r,edgeContextMenu:a,startEdgeCreation:l,completeEdgeCreation:c,cancelEdgeCreation:x,selectEdge:y,deleteEdge:p,handleEdgeContextMenu:u,closeEdgeContextMenu:v,updateEdgeWeight:h}},Wt=({controls:e,handleControlChange:n,restartSimulation:t})=>m.jsxs("div",{className:"bg-white p-4 shadow-md mb-4 rounded-md",children:[m.jsx("h3",{className:"text-lg font-medium mb-3",children:"Graph Controls"}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Charge Strength: ",e.chargeStrength]}),m.jsx("input",{type:"range",min:"-300",max:"300",value:e.chargeStrength,onChange:i=>n("chargeStrength",Number(i.target.value)),className:"w-full"})]}),m.jsxs("div",{children:[m.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Link Distance: ",e.linkDistance]}),m.jsx("input",{type:"range",min:"10",max:"200",value:e.linkDistance,onChange:i=>n("linkDistance",Number(i.target.value)),className:"w-full"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Node Color"}),m.jsx("input",{type:"color",value:e.nodeColor,onChange:i=>n("nodeColor",i.target.value),className:"w-full h-8"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Edge Color"}),m.jsx("input",{type:"color",value:e.edgeColor,onChange:i=>n("edgeColor",i.target.value),className:"w-full h-8"})]}),m.jsxs("div",{children:[m.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Min Distance Between Nodes: ",e.minDistance]}),m.jsx("input",{type:"range",min:"20",max:"250",value:e.minDistance,onChange:i=>n("minDistance",Number(i.target.value)),className:"w-full"})]})]}),m.jsx("div",{className:"mt-4",children:m.jsx("button",{className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded",onClick:t,children:"Restart Simulation"})})]}),Ft=({simulationNodes:e,edges:n,nodeColor:t,edgeColor:i,isDragging:r,draggedNode:o,handleMouseDown:a,selectedNode:s,selectedEdge:l,onNodeSelect:c,onNodeContextMenu:x,onEdgeSelect:y,onEdgeContextMenu:p,creatingEdge:u,onCompleteEdgeCreation:v})=>{let h=0;const f=e.filter(d=>d.type==="group-center"),g=(d,N)=>{if(d.stopPropagation(),u){v(N);return}(s==null?void 0:s.id)===N.id?c(null):c(N)},w=(d,N)=>{d.stopPropagation(),l&&l.source===N.source&&l.target===N.target?y(null):y(N)},_=()=>{c(null),y(null)};return m.jsxs("g",{onClick:_,children:[u&&m.jsx("line",{x1:u.source.x||0,y1:u.source.y||0,x2:window.lastMouseX||u.source.x||0,y2:window.lastMouseY||u.source.y||0,stroke:i,strokeOpacity:.6,strokeWidth:2,strokeDasharray:L.EDGE_DASHARRAY,className:"creating-edge"}),n.map(d=>{const N=e.find(b=>b.id===d.source),D=e.find(b=>b.id===d.target);if(!N||!D)return null;if(N.x===void 0||N.y===void 0||D.x===void 0||D.y===void 0)return h===0&&(h++,console.error("Node positions are undefined")),null;if(N.type==="group-center"&&D.type==="group-center")return null;const S=l&&l.source===d.source&&l.target===d.target;return m.jsxs("g",{children:[m.jsx("line",{x1:N.x,y1:N.y,x2:D.x,y2:D.y,stroke:S?"#ff3e00":i,strokeOpacity:d.weight?Math.min(d.weight+.2,1):.7,strokeWidth:S?L.SELECTED_EDGE_WIDTH:d.weight?Math.max(d.weight*2,.5):1,className:`edge ${S?"selected-edge":""}`,onClick:b=>w(b,d),onContextMenu:b=>p(b,d)}),d.weight&&d.weight>1&&m.jsx("text",{x:(N.x+D.x)/2,y:(N.y+D.y)/2,dy:-5,textAnchor:"middle",className:`${L.EDGE_WEIGHT_TEXT_SIZE_CLASS} fill-gray-600 select-none`,pointerEvents:"none",children:d.weight.toFixed(1)})]},`${d.source}-${d.target}`)}),f.flatMap((d,N,D)=>D.slice(N+1).map(k=>!d.x||!d.y||!k.x||!k.y?null:m.jsx("line",{x1:d.x,y1:d.y,x2:k.x,y2:k.y,stroke:"#888888",strokeOpacity:.4,strokeWidth:1,strokeDasharray:L.EDGE_DASHARRAY},`group-link-${d.id}-${k.id}`))).filter(Boolean),e.filter(d=>d.type==="group-center").map(d=>{if(!d.x||!d.y)return null;const N=Mt(d.group);return m.jsx("text",{x:d.x,y:d.y,textAnchor:"middle",dy:-30,className:`${L.GROUP_LABEL_TEXT_SIZE_CLASS} font-bold fill-gray-800`,stroke:"#ffffff",strokeWidth:"0.5",paintOrder:"stroke",children:N},`group-label-${d.id}`)}),e.map(d=>{if(d.type==="group-center"||!d.x||!d.y)return null;const N=jt(d,t),D=It(),k=(s==null?void 0:s.id)===d.id,S=(u==null?void 0:u.source.id)===d.id;return m.jsxs("g",{className:`
              ${r&&(o==null?void 0:o.id)===d.id?"cursor-grabbing":"cursor-grab"}
              ${k?"selected-node":""}
              ${S?"edge-source":""}
              ${u?"during-edge-creation":""}
            `,onClick:b=>g(b,d),onContextMenu:b=>x(b,d),children:[k&&m.jsx("circle",{cx:d.x,cy:d.y,r:D+L.NODE_SELECTION_MARGIN,fill:"none",stroke:"#ff3e00",strokeWidth:"2",className:"node-selection-indicator"}),S&&m.jsx("circle",{cx:d.x,cy:d.y,r:D+L.NODE_EDGE_SOURCE_MARGIN,fill:"none",stroke:"#00a0ff",strokeWidth:"2",strokeDasharray:L.EDGE_DASHARRAY,className:"edge-source-indicator"}),m.jsx("circle",{cx:d.x,cy:d.y,r:D,fill:N,stroke:"#ffffff",strokeWidth:k||S?"2":"1",onMouseDown:a(d)}),m.jsx("text",{x:d.x-L.NODE_BASE_RADIUS*1.5,y:d.y+L.NODE_BASE_RADIUS*2,dx:12,dy:4,id:"TextNode",className:`${L.NODE_TEXT_SIZE_CLASS} ${k?L.SELECTED_NODE_TEXT_CLASS:L.REGULAR_NODE_TEXT_CLASS}`,onMouseDown:a(d),children:d.label})]},d.id)})]})},Bt=({editingNode:e,inputRef:n,handleNodeNameChange:t,finishEditing:i,handleInputKeyDown:r})=>!e||!e.x||!e.y?null:m.jsx("div",{className:"absolute",style:{left:`${e.x+L.NODE_BASE_RADIUS+10}px`,top:`${e.y-15}px`},children:m.jsx("input",{ref:n,type:"text",value:e.label,onChange:t,onBlur:i,onKeyDown:r,className:"border border-blue-500 px-2 py-1 text-sm rounded bg-white shadow-md",autoFocus:!0})});function zt(e,n,t,i){if(!e)return;function r(o){const a=o.target;!Xt(a,e)&&!0&&!0&&n()}document.addEventListener("click",r)}function Xt(e,n){if(e===n)return!0;let t=e.parentElement;for(;t!=null;){if(n===t)return!0;t=t.parentElement}return!1}const Ht=({node:e,position:n,onEdit:t,onDelete:i,onAddEdge:r,onClose:o})=>{const a=C.useRef(null);C.useEffect(()=>{if(a.current){const l=()=>{document.removeEventListener("click",c)},c=()=>{};return zt(a.current,o),l}},[o]);const s=l=>{l.stopPropagation()};return m.jsxs("div",{ref:a,className:"absolute z-50 bg-white shadow-lg rounded-md overflow-hidden border border-gray-200",style:{left:n.x,top:n.y,minWidth:"150px"},onClick:s,children:[m.jsx("div",{className:"px-4 py-2 bg-gray-100 font-medium border-b border-gray-200 text-sm",children:e.label||"Node Actions"}),m.jsxs("div",{className:"py-1",children:[m.jsx("button",{className:"w-full text-left px-4 py-2 text-sm hover:bg-blue-50 transition-colors",onClick:()=>{t(e),o()},children:"Edit Node"}),m.jsx("button",{className:"w-full text-left px-4 py-2 text-sm hover:bg-blue-50 transition-colors",onClick:()=>{r(e),o()},children:"Create Connection"}),m.jsx("button",{className:"w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50 transition-colors",onClick:()=>{i(e.id),o()},children:"Delete Node"})]})]})},Ut=({edge:e,position:n,onDelete:t,onUpdateWeight:i,onClose:r})=>{const[o,a]=C.useState(e.weight||1);Se.useEffect(()=>{const c=()=>r();return document.addEventListener("mousedown",c),()=>{document.removeEventListener("mousedown",c)}},[r]);const s=c=>{c.stopPropagation()},l=c=>{const x=parseFloat(c.target.value);!isNaN(x)&&x>0&&(a(x),i(e.source,e.target,x))};return m.jsxs("div",{className:"absolute z-50 bg-white shadow-lg rounded-md overflow-hidden border border-gray-200",style:{left:n.x,top:n.y,minWidth:"180px"},onClick:s,children:[m.jsx("div",{className:"px-4 py-2 bg-gray-100 font-medium border-b border-gray-200 text-sm",children:"Edge Actions"}),m.jsxs("div",{className:"p-3",children:[m.jsxs("div",{className:"mb-3",children:[m.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Connection Weight:"}),m.jsx("input",{type:"range",min:"0.1",max:"3",step:"0.1",value:o,onChange:l,className:"w-full"}),m.jsx("span",{className:"text-xs text-gray-600",children:o.toFixed(1)})]}),m.jsx("button",{className:"w-full text-center px-4 py-1 text-sm text-red-600 hover:bg-red-50 transition-colors border border-red-200 rounded",onClick:()=>{t(e.source,e.target),r()},children:"Delete Connection"})]})]})},Rt=({nodes:e,edges:n})=>{const t=C.useRef(null),{controls:i,handleControlChange:r}=Pe(),{simulationNodes:o,simulationRef:a,restartSimulation:s}=Gt(e,n,i,t),l=T=>{a.current&&a.current.nodes(T)},{isDragging:c,draggedNode:x,handleMouseDown:y,handleMouseMove:p,handleMouseUp:u,calculateSvgPosition:v}=Ot(a,l),{editingNode:h,selectedNode:f,contextMenuNode:g,contextMenuPosition:w,inputRef:_,handleDoubleClick:d,handleNodeNameChange:N,finishEditing:D,handleInputKeyDown:k,selectNode:S,deleteNode:b,handleContextMenu:E,closeContextMenu:A,handleKeyDown:j}=Pt(e,n,a,l),{creatingEdge:M,selectedEdge:$,edgeContextMenu:F,startEdgeCreation:oe,completeEdgeCreation:I,cancelEdgeCreation:Q,selectEdge:Ne,deleteEdge:_e,handleEdgeContextMenu:Ce,closeEdgeContextMenu:q,updateEdgeWeight:Ee}=$t(a);C.useEffect(()=>{v(t)},[]),C.useEffect(()=>(window.addEventListener("keydown",j),()=>{window.removeEventListener("keydown",j)}),[j]);const De=T=>{if(p(T,t),M&&t.current){const Y=t.current.getBoundingClientRect();window.lastMouseX=T.clientX-Y.left,window.lastMouseY=T.clientY-Y.top,l([...a.current.nodes()])}};C.useEffect(()=>{const T=()=>{A(),q(),M&&Q()};return document.addEventListener("click",T),()=>{document.removeEventListener("click",T)}},[A,q,M,Q]);const ke=()=>M?"Click on a target node to create a connection, or press Escape to cancel":f?"Node selected. Press Delete to remove, or right-click for more options":$?"Connection selected. Press Delete to remove, or right-click for more options":"Double-click to create a node. Right-click a node for options.";return m.jsxs("div",{className:"flex flex-col h-full",children:[m.jsx("div",{className:"bg-blue-50 text-blue-800 px-4 py-2 text-sm border-b border-blue-100",children:ke()}),m.jsxs("div",{className:"flex-grow relative",children:[m.jsx("svg",{ref:t,className:"w-full h-full bg-gray-100",onMouseMove:De,onMouseUp:u,onMouseLeave:()=>{u(),M&&Q()},onDoubleClick:T=>d(T,t),children:m.jsx(Ft,{simulationNodes:o,edges:n,nodeColor:i.nodeColor,edgeColor:i.edgeColor,isDragging:c,draggedNode:x,handleMouseDown:y,selectedNode:f,selectedEdge:$,onNodeSelect:S,onNodeContextMenu:E,onEdgeSelect:Ne,onEdgeContextMenu:Ce,creatingEdge:M,onCompleteEdgeCreation:I})}),m.jsx(Bt,{editingNode:h,inputRef:_,handleNodeNameChange:N,finishEditing:D,handleInputKeyDown:k}),g&&w&&m.jsx(Ht,{node:g,position:w,onEdit:T=>{A()},onDelete:T=>{b(T)},onAddEdge:T=>{oe(T),A()},onClose:A}),F&&m.jsx(Ut,{edge:F.edge,position:F.position,onDelete:_e,onUpdateWeight:Ee,onClose:q})]}),m.jsx(Wt,{controls:i,handleControlChange:(T,Y)=>r(T,Y,a.current),restartSimulation:s})]})};class Yt{static convertToGraphNodeObject(n,t,i){const r={};return n.forEach(o=>{r[o.label]={}}),t.forEach(o=>{const a=n.find(l=>l.id===o.categoryIds);if(!a)return;const s=a.label;r[s]||(r[s]={}),r[s][o.label]={}}),i.forEach(o=>{const a=t.find(x=>x.id===o.topicId);if(!a)return;const s=n.find(x=>x.id===a.categoryIds);if(!s)return;const l=s.label,c=a.label;r[l]||(r[l]={}),r[l][c]||(r[l][c]={}),r[l][c][o.label]=o.weight}),r}static getParentCategory(n,t){return t.find(i=>i.id===n)}static convertToGraphNodes(n,t,i){const r=[],o=n.map(l=>({id:l.id,label:l.label,type:"category"}));r.push(...o);const a=t.map(l=>{const c=this.getParentCategory(l.categoryIds,n);return c?{id:l.id,label:l.label,type:"topic",group:c.id}:void 0});r.push(...a.filter(Boolean));const s=i.map(l=>{const c=t.find(p=>p.id===l.topicId),x=n.find(p=>p.id===(c==null?void 0:c.categoryIds));return{id:l.id,label:l.label,type:"word",group:x==null?void 0:x.id}}).filter(Boolean);return r.push(...s),r}static convertToGraphData(n,t,i,r){const o=[...n,...t,...i],a=r.map(s=>({source:s.source,target:s.target,weight:s.weight,type:s.type}));return{nodes:o,edges:a}}}const Vt=()=>{const e=Yt.convertToGraphNodes(Ct,Et,Dt),{nodes:n,edges:t}=be({nodes:e,edges:ne});return m.jsx("div",{className:"w-screen h-screen flex justify-center items-center",children:m.jsx("div",{className:"w-full h-full border rounded-md shadow-lg",children:m.jsx(Rt,{nodes:n,edges:t})})})};function nn({logger:e}){const n=[{label:"Home",href:"/"},{label:"Demo",href:"/demo"},{label:"Graph View"}];return m.jsxs("div",{className:"graph-view-demo-page flex-1 flex flex-col h-full",children:[m.jsxs("div",{className:"page-header p-6 pb-0 flex-shrink-0",children:[m.jsx("div",{className:"breadcrumb-section mb-4",children:m.jsx(Ae,{items:n})}),m.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Graph View"}),m.jsx("p",{className:"text-gray-600 mb-4",children:"Interactive graph visualization with nodes, edges, and relationship mapping."})]}),m.jsx("div",{className:"page-content flex-1 p-6 overflow-y-auto min-h-0",children:m.jsx("div",{className:"graph-container h-full",children:m.jsx(Vt,{})})})]})}export{nn as GraphViewAppDemoPage};
