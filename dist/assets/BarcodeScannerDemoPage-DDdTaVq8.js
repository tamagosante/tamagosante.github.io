import{g as Da,r as ve,j as N}from"./react-vendor-BOZDwKwV.js";import{B as Pa}from"./Breadcrumbs-S61b4Rvs.js";import{C as Na,r as Ia,s as za,t as Ua,u as Ba,B as _t,q as Tr}from"./index-Cmkaodfg.js";import{A as mt,a as xt}from"./alert-DmIJ9i2z.js";import{ab as yt,ax as Fa,ay as Wa,X as La,J as qa,aj as Va,a7 as Ga}from"./icons-Cf9puwNc.js";import{M as Ha}from"./MobileLogViewerButton-vWqOu4ib.js";import"./radix-ui-DhHtVSYQ.js";import"./utils-CGefl9Xh.js";import"./ui-utils-BxIQ3qGg.js";var gt={exports:{}},Dr;function $a(){return Dr||(Dr=1,(function(D,te){(function(c,g){D.exports=g()})(window,(function(){return(function(c){var g={};function a(f){if(g[f])return g[f].exports;var s=g[f]={i:f,l:!1,exports:{}};return c[f].call(s.exports,s,s.exports,a),s.l=!0,s.exports}return a.m=c,a.c=g,a.d=function(f,s,p){a.o(f,s)||Object.defineProperty(f,s,{enumerable:!0,get:p})},a.r=function(f){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(f,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(f,"__esModule",{value:!0})},a.t=function(f,s){if(1&s&&(f=a(f)),8&s||4&s&&typeof f=="object"&&f&&f.__esModule)return f;var p=Object.create(null);if(a.r(p),Object.defineProperty(p,"default",{enumerable:!0,value:f}),2&s&&typeof f!="string")for(var v in f)a.d(p,v,(function(x){return f[x]}).bind(null,v));return p},a.n=function(f){var s=f&&f.__esModule?function(){return f.default}:function(){return f};return a.d(s,"a",s),s},a.o=function(f,s){return Object.prototype.hasOwnProperty.call(f,s)},a.p="/",a(a.s=67)})([function(c,g,a){var f=a(52);c.exports=function(s,p,v){return(p=f(p))in s?Object.defineProperty(s,p,{value:v,enumerable:!0,configurable:!0,writable:!0}):s[p]=v,s},c.exports.__esModule=!0,c.exports.default=c.exports},function(c,g){function a(f){return c.exports=a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},c.exports.__esModule=!0,c.exports.default=c.exports,a(f)}c.exports=a,c.exports.__esModule=!0,c.exports.default=c.exports},function(c,g){c.exports=function(a,f){if(!(a instanceof f))throw new TypeError("Cannot call a class as a function")},c.exports.__esModule=!0,c.exports.default=c.exports},function(c,g,a){var f=a(52);function s(p,v){for(var x=0;x<v.length;x++){var _=v[x];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(p,f(_.key),_)}}c.exports=function(p,v,x){return v&&s(p.prototype,v),x&&s(p,x),Object.defineProperty(p,"prototype",{writable:!1}),p},c.exports.__esModule=!0,c.exports.default=c.exports},function(c,g,a){var f=a(8).default,s=a(140);c.exports=function(p,v){if(v&&(f(v)=="object"||typeof v=="function"))return v;if(v!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return s(p)},c.exports.__esModule=!0,c.exports.default=c.exports},function(c,g,a){var f=a(32);c.exports=function(s,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(p&&p.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),p&&f(s,p)},c.exports.__esModule=!0,c.exports.default=c.exports},function(c,g,a){var f=a(136)();c.exports=f;try{regeneratorRuntime=f}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=f:Function("r","regeneratorRuntime = r")(f)}},function(c,g){function a(f,s,p,v,x,_,O){try{var S=f[_](O),T=S.value}catch(j){return void p(j)}S.done?s(T):Promise.resolve(T).then(v,x)}c.exports=function(f){return function(){var s=this,p=arguments;return new Promise((function(v,x){var _=f.apply(s,p);function O(T){a(_,v,x,O,S,"next",T)}function S(T){a(_,v,x,O,S,"throw",T)}O(void 0)}))}},c.exports.__esModule=!0,c.exports.default=c.exports},function(c,g){function a(f){return c.exports=a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},c.exports.__esModule=!0,c.exports.default=c.exports,a(f)}c.exports=a,c.exports.__esModule=!0,c.exports.default=c.exports},function(c,g){c.exports=function(a){var f=typeof a;return a!=null&&(f=="object"||f=="function")}},function(c,g,a){var f=a(141);function s(){return c.exports=s=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(p,v,x){var _=f(p,v);if(_){var O=Object.getOwnPropertyDescriptor(_,v);return O.get?O.get.call(arguments.length<3?p:x):O.value}},c.exports.__esModule=!0,c.exports.default=c.exports,s.apply(null,arguments)}c.exports=s,c.exports.__esModule=!0,c.exports.default=c.exports},function(c,g){var a=Array.isArray;c.exports=a},function(c,g,a){var f=a(68),s=a(124)((function(p,v,x){f(p,v,x)}));c.exports=s},function(c,g,a){var f=a(36),s=typeof self=="object"&&self&&self.Object===Object&&self,p=f||s||Function("return this")();c.exports=p},function(c,g){c.exports=function(a){return a!=null&&typeof a=="object"}},function(c,g,a){var f=a(19),s=a(82),p=a(83),v=f?f.toStringTag:void 0;c.exports=function(x){return x==null?x===void 0?"[object Undefined]":"[object Null]":v&&v in Object(x)?s(x):p(x)}},function(c,g,a){var f=a(70),s=a(71),p=a(72),v=a(73),x=a(74);function _(O){var S=-1,T=O==null?0:O.length;for(this.clear();++S<T;){var j=O[S];this.set(j[0],j[1])}}_.prototype.clear=f,_.prototype.delete=s,_.prototype.get=p,_.prototype.has=v,_.prototype.set=x,c.exports=_},function(c,g,a){var f=a(18);c.exports=function(s,p){for(var v=s.length;v--;)if(f(s[v][0],p))return v;return-1}},function(c,g){c.exports=function(a,f){return a===f||a!=a&&f!=f}},function(c,g,a){var f=a(13).Symbol;c.exports=f},function(c,g,a){var f=a(26)(Object,"create");c.exports=f},function(c,g,a){var f=a(96);c.exports=function(s,p){var v=s.__data__;return f(p)?v[typeof p=="string"?"string":"hash"]:v.map}},function(c,g,a){var f=a(111),s=a(14),p=Object.prototype,v=p.hasOwnProperty,x=p.propertyIsEnumerable,_=f((function(){return arguments})())?f:function(O){return s(O)&&v.call(O,"callee")&&!x.call(O,"callee")};c.exports=_},function(c,g){var a=/^(?:0|[1-9]\d*)$/;c.exports=function(f,s){var p=typeof f;return!!(s=s??9007199254740991)&&(p=="number"||p!="symbol"&&a.test(f))&&f>-1&&f%1==0&&f<s}},function(c,g,a){var f=a(11),s=a(148),p=a(149),v=a(152);c.exports=function(x,_){return f(x)?x:s(x,_)?[x]:p(v(x))}},function(c,g,a){var f=a(142),s=a(143),p=a(50),v=a(144);c.exports=function(x){return f(x)||s(x)||p(x)||v()},c.exports.__esModule=!0,c.exports.default=c.exports},function(c,g,a){var f=a(80),s=a(87);c.exports=function(p,v){var x=s(p,v);return f(x)?x:void 0}},function(c,g,a){var f=a(15),s=a(9);c.exports=function(p){if(!s(p))return!1;var v=f(p);return v=="[object Function]"||v=="[object GeneratorFunction]"||v=="[object AsyncFunction]"||v=="[object Proxy]"}},function(c,g,a){var f=a(39);c.exports=function(s,p,v){p=="__proto__"&&f?f(s,p,{configurable:!0,enumerable:!0,value:v,writable:!0}):s[p]=v}},function(c,g){c.exports=function(a){return a.webpackPolyfill||(a.deprecate=function(){},a.paths=[],a.children||(a.children=[]),Object.defineProperty(a,"loaded",{enumerable:!0,get:function(){return a.l}}),Object.defineProperty(a,"id",{enumerable:!0,get:function(){return a.i}}),a.webpackPolyfill=1),a}},function(c,g,a){var f=a(27),s=a(31);c.exports=function(p){return p!=null&&s(p.length)&&!f(p)}},function(c,g){c.exports=function(a){return typeof a=="number"&&a>-1&&a%1==0&&a<=9007199254740991}},function(c,g){function a(f,s){return c.exports=a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(p,v){return p.__proto__=v,p},c.exports.__esModule=!0,c.exports.default=c.exports,a(f,s)}c.exports=a,c.exports.__esModule=!0,c.exports.default=c.exports},function(c,g,a){var f=a(15),s=a(14);c.exports=function(p){return typeof p=="symbol"||s(p)&&f(p)=="[object Symbol]"}},function(c,g,a){var f=a(33);c.exports=function(s){if(typeof s=="string"||f(s))return s;var p=s+"";return p=="0"&&1/s==-1/0?"-0":p}},function(c,g,a){var f=a(26)(a(13),"Map");c.exports=f},function(c,g,a){(function(f){var s=typeof f=="object"&&f&&f.Object===Object&&f;c.exports=s}).call(this,a(81))},function(c,g,a){var f=a(88),s=a(95),p=a(97),v=a(98),x=a(99);function _(O){var S=-1,T=O==null?0:O.length;for(this.clear();++S<T;){var j=O[S];this.set(j[0],j[1])}}_.prototype.clear=f,_.prototype.delete=s,_.prototype.get=p,_.prototype.has=v,_.prototype.set=x,c.exports=_},function(c,g,a){var f=a(28),s=a(18);c.exports=function(p,v,x){(x!==void 0&&!s(p[v],x)||x===void 0&&!(v in p))&&f(p,v,x)}},function(c,g,a){var f=a(26),s=(function(){try{var p=f(Object,"defineProperty");return p({},"",{}),p}catch{}})();c.exports=s},function(c,g,a){var f=a(110)(Object.getPrototypeOf,Object);c.exports=f},function(c,g){var a=Object.prototype;c.exports=function(f){var s=f&&f.constructor;return f===(typeof s=="function"&&s.prototype||a)}},function(c,g,a){(function(f){var s=a(13),p=a(113),v=g&&!g.nodeType&&g,x=v&&typeof f=="object"&&f&&!f.nodeType&&f,_=x&&x.exports===v?s.Buffer:void 0,O=(_?_.isBuffer:void 0)||p;f.exports=O}).call(this,a(29)(c))},function(c,g,a){var f=a(115),s=a(116),p=a(117),v=p&&p.isTypedArray,x=v?s(v):f;c.exports=x},function(c,g){c.exports=function(a,f){if((f!=="constructor"||typeof a[f]!="function")&&f!="__proto__")return a[f]}},function(c,g,a){var f=a(28),s=a(18),p=Object.prototype.hasOwnProperty;c.exports=function(v,x,_){var O=v[x];p.call(v,x)&&s(O,_)&&(_!==void 0||x in v)||f(v,x,_)}},function(c,g,a){var f=a(120),s=a(122),p=a(30);c.exports=function(v){return p(v)?f(v,!0):s(v)}},function(c,g){c.exports=function(a){return a}},function(c,g,a){var f=a(126),s=Math.max;c.exports=function(p,v,x){return v=s(v===void 0?p.length-1:v,0),function(){for(var _=arguments,O=-1,S=s(_.length-v,0),T=Array(S);++O<S;)T[O]=_[v+O];O=-1;for(var j=Array(v+1);++O<v;)j[O]=_[O];return j[v]=x(T),f(p,this,j)}}},function(c,g,a){var f=a(127),s=a(129)(f);c.exports=s},function(c,g,a){var f=a(51);c.exports=function(s,p){if(s){if(typeof s=="string")return f(s,p);var v={}.toString.call(s).slice(8,-1);return v==="Object"&&s.constructor&&(v=s.constructor.name),v==="Map"||v==="Set"?Array.from(s):v==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(v)?f(s,p):void 0}},c.exports.__esModule=!0,c.exports.default=c.exports},function(c,g){c.exports=function(a,f){(f==null||f>a.length)&&(f=a.length);for(var s=0,p=Array(f);s<f;s++)p[s]=a[s];return p},c.exports.__esModule=!0,c.exports.default=c.exports},function(c,g,a){var f=a(8).default,s=a(135);c.exports=function(p){var v=s(p,"string");return f(v)=="symbol"?v:v+""},c.exports.__esModule=!0,c.exports.default=c.exports},function(c,g){c.exports=function(a,f){this.v=a,this.k=f},c.exports.__esModule=!0,c.exports.default=c.exports},function(c,g,a){var f=a(55);function s(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var p,v,x=typeof Symbol=="function"?Symbol:{},_=x.iterator||"@@iterator",O=x.toStringTag||"@@toStringTag";function S(M,P,z,Q){var le=P&&P.prototype instanceof j?P:j,de=Object.create(le.prototype);return f(de,"_invoke",(function(we,ie,K){var ue,G,Y,xe=0,Me=K||[],he=!1,pe={p:0,n:0,v:p,a:Pe,f:Pe.bind(p,4),d:function(ce,ne){return ue=ce,G=0,Y=p,pe.n=ne,T}};function Pe(ce,ne){for(G=ce,Y=ne,v=0;!he&&xe&&!ye&&v<Me.length;v++){var ye,oe=Me[v],We=pe.p,Ne=oe[2];ce>3?(ye=Ne===ne)&&(Y=oe[(G=oe[4])?5:(G=3,3)],oe[4]=oe[5]=p):oe[0]<=We&&((ye=ce<2&&We<oe[1])?(G=0,pe.v=ne,pe.n=oe[1]):We<Ne&&(ye=ce<3||oe[0]>ne||ne>Ne)&&(oe[4]=ce,oe[5]=ne,pe.n=Ne,G=0))}if(ye||ce>1)return T;throw he=!0,ne}return function(ce,ne,ye){if(xe>1)throw TypeError("Generator is already running");for(he&&ne===1&&Pe(ne,ye),G=ne,Y=ye;(v=G<2?p:Y)||!he;){ue||(G?G<3?(G>1&&(pe.n=-1),Pe(G,Y)):pe.n=Y:pe.v=Y);try{if(xe=2,ue){if(G||(ce="next"),v=ue[ce]){if(!(v=v.call(ue,Y)))throw TypeError("iterator result is not an object");if(!v.done)return v;Y=v.value,G<2&&(G=0)}else G===1&&(v=ue.return)&&v.call(ue),G<2&&(Y=TypeError("The iterator does not provide a '"+ce+"' method"),G=1);ue=p}else if((v=(he=pe.n<0)?Y:we.call(ie,pe))!==T)break}catch(oe){ue=p,G=1,Y=oe}finally{xe=1}}return{value:v,done:he}}})(M,z,Q),!0),de}var T={};function j(){}function U(){}function F(){}v=Object.getPrototypeOf;var V=[][_]?v(v([][_]())):(f(v={},_,(function(){return this})),v),B=F.prototype=j.prototype=Object.create(V);function I(M){return Object.setPrototypeOf?Object.setPrototypeOf(M,F):(M.__proto__=F,f(M,O,"GeneratorFunction")),M.prototype=Object.create(B),M}return U.prototype=F,f(B,"constructor",F),f(F,"constructor",U),U.displayName="GeneratorFunction",f(F,O,"GeneratorFunction"),f(B),f(B,O,"Generator"),f(B,_,(function(){return this})),f(B,"toString",(function(){return"[object Generator]"})),(c.exports=s=function(){return{w:S,m:I}},c.exports.__esModule=!0,c.exports.default=c.exports)()}c.exports=s,c.exports.__esModule=!0,c.exports.default=c.exports},function(c,g){function a(f,s,p,v){var x=Object.defineProperty;try{x({},"",{})}catch{x=0}c.exports=a=function(_,O,S,T){function j(U,F){a(_,U,(function(V){return this._invoke(U,F,V)}))}O?x?x(_,O,{value:S,enumerable:!T,configurable:!T,writable:!T}):_[O]=S:(j("next",0),j("throw",1),j("return",2))},c.exports.__esModule=!0,c.exports.default=c.exports,a(f,s,p,v)}c.exports=a,c.exports.__esModule=!0,c.exports.default=c.exports},function(c,g,a){var f=a(54),s=a(57);c.exports=function(p,v,x,_,O){return new s(f().w(p,v,x,_),O||Promise)},c.exports.__esModule=!0,c.exports.default=c.exports},function(c,g,a){var f=a(53),s=a(55);c.exports=function p(v,x){function _(S,T,j,U){try{var F=v[S](T),V=F.value;return V instanceof f?x.resolve(V.v).then((function(B){_("next",B,j,U)}),(function(B){_("throw",B,j,U)})):x.resolve(V).then((function(B){F.value=B,j(F)}),(function(B){return _("throw",B,j,U)}))}catch(B){U(B)}}var O;this.next||(s(p.prototype),s(p.prototype,typeof Symbol=="function"&&Symbol.asyncIterator||"@asyncIterator",(function(){return this}))),s(this,"_invoke",(function(S,T,j){function U(){return new x((function(F,V){_(S,j,F,V)}))}return O=O?O.then(U,U):U()}),!0)},c.exports.__esModule=!0,c.exports.default=c.exports},function(c,g,a){var f=a(132),s=a(133),p=a(50),v=a(134);c.exports=function(x,_){return f(x)||s(x,_)||p(x,_)||v()},c.exports.__esModule=!0,c.exports.default=c.exports},function(c,g,a){var f=a(145),s=a(159)((function(p,v){return p==null?{}:f(p,v)}));c.exports=s},function(c,g,a){var f=a(1),s=a(32),p=a(164),v=a(165);function x(_){var O=typeof Map=="function"?new Map:void 0;return c.exports=x=function(S){if(S===null||!p(S))return S;if(typeof S!="function")throw new TypeError("Super expression must either be null or a function");if(O!==void 0){if(O.has(S))return O.get(S);O.set(S,T)}function T(){return v(S,arguments,f(this).constructor)}return T.prototype=Object.create(S.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),s(T,S)},c.exports.__esModule=!0,c.exports.default=c.exports,x(_)}c.exports=x,c.exports.__esModule=!0,c.exports.default=c.exports},,,,,,,function(c,g,a){c.exports=a(167)},function(c,g,a){var f=a(69),s=a(38),p=a(100),v=a(102),x=a(9),_=a(46),O=a(44);c.exports=function S(T,j,U,F,V){T!==j&&p(j,(function(B,I){if(V||(V=new f),x(B))v(T,j,I,U,S,F,V);else{var M=F?F(O(T,I),B,I+"",T,j,V):void 0;M===void 0&&(M=B),s(T,I,M)}}),_)}},function(c,g,a){var f=a(16),s=a(75),p=a(76),v=a(77),x=a(78),_=a(79);function O(S){var T=this.__data__=new f(S);this.size=T.size}O.prototype.clear=s,O.prototype.delete=p,O.prototype.get=v,O.prototype.has=x,O.prototype.set=_,c.exports=O},function(c,g){c.exports=function(){this.__data__=[],this.size=0}},function(c,g,a){var f=a(17),s=Array.prototype.splice;c.exports=function(p){var v=this.__data__,x=f(v,p);return!(x<0)&&(x==v.length-1?v.pop():s.call(v,x,1),--this.size,!0)}},function(c,g,a){var f=a(17);c.exports=function(s){var p=this.__data__,v=f(p,s);return v<0?void 0:p[v][1]}},function(c,g,a){var f=a(17);c.exports=function(s){return f(this.__data__,s)>-1}},function(c,g,a){var f=a(17);c.exports=function(s,p){var v=this.__data__,x=f(v,s);return x<0?(++this.size,v.push([s,p])):v[x][1]=p,this}},function(c,g,a){var f=a(16);c.exports=function(){this.__data__=new f,this.size=0}},function(c,g){c.exports=function(a){var f=this.__data__,s=f.delete(a);return this.size=f.size,s}},function(c,g){c.exports=function(a){return this.__data__.get(a)}},function(c,g){c.exports=function(a){return this.__data__.has(a)}},function(c,g,a){var f=a(16),s=a(35),p=a(37);c.exports=function(v,x){var _=this.__data__;if(_ instanceof f){var O=_.__data__;if(!s||O.length<199)return O.push([v,x]),this.size=++_.size,this;_=this.__data__=new p(O)}return _.set(v,x),this.size=_.size,this}},function(c,g,a){var f=a(27),s=a(84),p=a(9),v=a(86),x=/^\[object .+?Constructor\]$/,_=Function.prototype,O=Object.prototype,S=_.toString,T=O.hasOwnProperty,j=RegExp("^"+S.call(T).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");c.exports=function(U){return!(!p(U)||s(U))&&(f(U)?j:x).test(v(U))}},function(c,g){var a;a=(function(){return this})();try{a=a||new Function("return this")()}catch{typeof window=="object"&&(a=window)}c.exports=a},function(c,g,a){var f=a(19),s=Object.prototype,p=s.hasOwnProperty,v=s.toString,x=f?f.toStringTag:void 0;c.exports=function(_){var O=p.call(_,x),S=_[x];try{_[x]=void 0;var T=!0}catch{}var j=v.call(_);return T&&(O?_[x]=S:delete _[x]),j}},function(c,g){var a=Object.prototype.toString;c.exports=function(f){return a.call(f)}},function(c,g,a){var f,s=a(85),p=(f=/[^.]+$/.exec(s&&s.keys&&s.keys.IE_PROTO||""))?"Symbol(src)_1."+f:"";c.exports=function(v){return!!p&&p in v}},function(c,g,a){var f=a(13)["__core-js_shared__"];c.exports=f},function(c,g){var a=Function.prototype.toString;c.exports=function(f){if(f!=null){try{return a.call(f)}catch{}try{return f+""}catch{}}return""}},function(c,g){c.exports=function(a,f){return a==null?void 0:a[f]}},function(c,g,a){var f=a(89),s=a(16),p=a(35);c.exports=function(){this.size=0,this.__data__={hash:new f,map:new(p||s),string:new f}}},function(c,g,a){var f=a(90),s=a(91),p=a(92),v=a(93),x=a(94);function _(O){var S=-1,T=O==null?0:O.length;for(this.clear();++S<T;){var j=O[S];this.set(j[0],j[1])}}_.prototype.clear=f,_.prototype.delete=s,_.prototype.get=p,_.prototype.has=v,_.prototype.set=x,c.exports=_},function(c,g,a){var f=a(20);c.exports=function(){this.__data__=f?f(null):{},this.size=0}},function(c,g){c.exports=function(a){var f=this.has(a)&&delete this.__data__[a];return this.size-=f?1:0,f}},function(c,g,a){var f=a(20),s=Object.prototype.hasOwnProperty;c.exports=function(p){var v=this.__data__;if(f){var x=v[p];return x==="__lodash_hash_undefined__"?void 0:x}return s.call(v,p)?v[p]:void 0}},function(c,g,a){var f=a(20),s=Object.prototype.hasOwnProperty;c.exports=function(p){var v=this.__data__;return f?v[p]!==void 0:s.call(v,p)}},function(c,g,a){var f=a(20);c.exports=function(s,p){var v=this.__data__;return this.size+=this.has(s)?0:1,v[s]=f&&p===void 0?"__lodash_hash_undefined__":p,this}},function(c,g,a){var f=a(21);c.exports=function(s){var p=f(this,s).delete(s);return this.size-=p?1:0,p}},function(c,g){c.exports=function(a){var f=typeof a;return f=="string"||f=="number"||f=="symbol"||f=="boolean"?a!=="__proto__":a===null}},function(c,g,a){var f=a(21);c.exports=function(s){return f(this,s).get(s)}},function(c,g,a){var f=a(21);c.exports=function(s){return f(this,s).has(s)}},function(c,g,a){var f=a(21);c.exports=function(s,p){var v=f(this,s),x=v.size;return v.set(s,p),this.size+=v.size==x?0:1,this}},function(c,g,a){var f=a(101)();c.exports=f},function(c,g){c.exports=function(a){return function(f,s,p){for(var v=-1,x=Object(f),_=p(f),O=_.length;O--;){var S=_[a?O:++v];if(s(x[S],S,x)===!1)break}return f}}},function(c,g,a){var f=a(38),s=a(103),p=a(104),v=a(107),x=a(108),_=a(22),O=a(11),S=a(112),T=a(42),j=a(27),U=a(9),F=a(114),V=a(43),B=a(44),I=a(118);c.exports=function(M,P,z,Q,le,de,we){var ie=B(M,z),K=B(P,z),ue=we.get(K);if(ue)f(M,z,ue);else{var G=de?de(ie,K,z+"",M,P,we):void 0,Y=G===void 0;if(Y){var xe=O(K),Me=!xe&&T(K),he=!xe&&!Me&&V(K);G=K,xe||Me||he?O(ie)?G=ie:S(ie)?G=v(ie):Me?(Y=!1,G=s(K,!0)):he?(Y=!1,G=p(K,!0)):G=[]:F(K)||_(K)?(G=ie,_(ie)?G=I(ie):U(ie)&&!j(ie)||(G=x(K))):Y=!1}Y&&(we.set(K,G),le(G,K,Q,de,we),we.delete(K)),f(M,z,G)}}},function(c,g,a){(function(f){var s=a(13),p=g&&!g.nodeType&&g,v=p&&typeof f=="object"&&f&&!f.nodeType&&f,x=v&&v.exports===p?s.Buffer:void 0,_=x?x.allocUnsafe:void 0;f.exports=function(O,S){if(S)return O.slice();var T=O.length,j=_?_(T):new O.constructor(T);return O.copy(j),j}}).call(this,a(29)(c))},function(c,g,a){var f=a(105);c.exports=function(s,p){var v=p?f(s.buffer):s.buffer;return new s.constructor(v,s.byteOffset,s.length)}},function(c,g,a){var f=a(106);c.exports=function(s){var p=new s.constructor(s.byteLength);return new f(p).set(new f(s)),p}},function(c,g,a){var f=a(13).Uint8Array;c.exports=f},function(c,g){c.exports=function(a,f){var s=-1,p=a.length;for(f||(f=Array(p));++s<p;)f[s]=a[s];return f}},function(c,g,a){var f=a(109),s=a(40),p=a(41);c.exports=function(v){return typeof v.constructor!="function"||p(v)?{}:f(s(v))}},function(c,g,a){var f=a(9),s=Object.create,p=(function(){function v(){}return function(x){if(!f(x))return{};if(s)return s(x);v.prototype=x;var _=new v;return v.prototype=void 0,_}})();c.exports=p},function(c,g){c.exports=function(a,f){return function(s){return a(f(s))}}},function(c,g,a){var f=a(15),s=a(14);c.exports=function(p){return s(p)&&f(p)=="[object Arguments]"}},function(c,g,a){var f=a(30),s=a(14);c.exports=function(p){return s(p)&&f(p)}},function(c,g){c.exports=function(){return!1}},function(c,g,a){var f=a(15),s=a(40),p=a(14),v=Function.prototype,x=Object.prototype,_=v.toString,O=x.hasOwnProperty,S=_.call(Object);c.exports=function(T){if(!p(T)||f(T)!="[object Object]")return!1;var j=s(T);if(j===null)return!0;var U=O.call(j,"constructor")&&j.constructor;return typeof U=="function"&&U instanceof U&&_.call(U)==S}},function(c,g,a){var f=a(15),s=a(31),p=a(14),v={};v["[object Float32Array]"]=v["[object Float64Array]"]=v["[object Int8Array]"]=v["[object Int16Array]"]=v["[object Int32Array]"]=v["[object Uint8Array]"]=v["[object Uint8ClampedArray]"]=v["[object Uint16Array]"]=v["[object Uint32Array]"]=!0,v["[object Arguments]"]=v["[object Array]"]=v["[object ArrayBuffer]"]=v["[object Boolean]"]=v["[object DataView]"]=v["[object Date]"]=v["[object Error]"]=v["[object Function]"]=v["[object Map]"]=v["[object Number]"]=v["[object Object]"]=v["[object RegExp]"]=v["[object Set]"]=v["[object String]"]=v["[object WeakMap]"]=!1,c.exports=function(x){return p(x)&&s(x.length)&&!!v[f(x)]}},function(c,g){c.exports=function(a){return function(f){return a(f)}}},function(c,g,a){(function(f){var s=a(36),p=g&&!g.nodeType&&g,v=p&&typeof f=="object"&&f&&!f.nodeType&&f,x=v&&v.exports===p&&s.process,_=(function(){try{var O=v&&v.require&&v.require("util").types;return O||x&&x.binding&&x.binding("util")}catch{}})();f.exports=_}).call(this,a(29)(c))},function(c,g,a){var f=a(119),s=a(46);c.exports=function(p){return f(p,s(p))}},function(c,g,a){var f=a(45),s=a(28);c.exports=function(p,v,x,_){var O=!x;x||(x={});for(var S=-1,T=v.length;++S<T;){var j=v[S],U=_?_(x[j],p[j],j,x,p):void 0;U===void 0&&(U=p[j]),O?s(x,j,U):f(x,j,U)}return x}},function(c,g,a){var f=a(121),s=a(22),p=a(11),v=a(42),x=a(23),_=a(43),O=Object.prototype.hasOwnProperty;c.exports=function(S,T){var j=p(S),U=!j&&s(S),F=!j&&!U&&v(S),V=!j&&!U&&!F&&_(S),B=j||U||F||V,I=B?f(S.length,String):[],M=I.length;for(var P in S)!T&&!O.call(S,P)||B&&(P=="length"||F&&(P=="offset"||P=="parent")||V&&(P=="buffer"||P=="byteLength"||P=="byteOffset")||x(P,M))||I.push(P);return I}},function(c,g){c.exports=function(a,f){for(var s=-1,p=Array(a);++s<a;)p[s]=f(s);return p}},function(c,g,a){var f=a(9),s=a(41),p=a(123),v=Object.prototype.hasOwnProperty;c.exports=function(x){if(!f(x))return p(x);var _=s(x),O=[];for(var S in x)(S!="constructor"||!_&&v.call(x,S))&&O.push(S);return O}},function(c,g){c.exports=function(a){var f=[];if(a!=null)for(var s in Object(a))f.push(s);return f}},function(c,g,a){var f=a(125),s=a(130);c.exports=function(p){return f((function(v,x){var _=-1,O=x.length,S=O>1?x[O-1]:void 0,T=O>2?x[2]:void 0;for(S=p.length>3&&typeof S=="function"?(O--,S):void 0,T&&s(x[0],x[1],T)&&(S=O<3?void 0:S,O=1),v=Object(v);++_<O;){var j=x[_];j&&p(v,j,_,S)}return v}))}},function(c,g,a){var f=a(47),s=a(48),p=a(49);c.exports=function(v,x){return p(s(v,x,f),v+"")}},function(c,g){c.exports=function(a,f,s){switch(s.length){case 0:return a.call(f);case 1:return a.call(f,s[0]);case 2:return a.call(f,s[0],s[1]);case 3:return a.call(f,s[0],s[1],s[2])}return a.apply(f,s)}},function(c,g,a){var f=a(128),s=a(39),p=a(47),v=s?function(x,_){return s(x,"toString",{configurable:!0,enumerable:!1,value:f(_),writable:!0})}:p;c.exports=v},function(c,g){c.exports=function(a){return function(){return a}}},function(c,g){var a=Date.now;c.exports=function(f){var s=0,p=0;return function(){var v=a(),x=16-(v-p);if(p=v,x>0){if(++s>=800)return arguments[0]}else s=0;return f.apply(void 0,arguments)}}},function(c,g,a){var f=a(18),s=a(30),p=a(23),v=a(9);c.exports=function(x,_,O){if(!v(O))return!1;var S=typeof _;return!!(S=="number"?s(O)&&p(_,O.length):S=="string"&&_ in O)&&f(O[_],x)}},function(c,g){typeof window<"u"&&(window.requestAnimationFrame||(window.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){window.setTimeout(a,1e3/60)})),typeof Math.imul!="function"&&(Math.imul=function(a,f){var s=65535&a,p=65535&f;return s*p+((a>>>16&65535)*p+s*(f>>>16&65535)<<16>>>0)|0}),typeof Object.assign!="function"&&(Object.assign=function(a){if(a===null)throw new TypeError("Cannot convert undefined or null to object");for(var f=Object(a),s=1;s<arguments.length;s++){var p=arguments[s];if(p!==null)for(var v in p)Object.prototype.hasOwnProperty.call(p,v)&&(f[v]=p[v])}return f})},function(c,g){c.exports=function(a){if(Array.isArray(a))return a},c.exports.__esModule=!0,c.exports.default=c.exports},function(c,g){c.exports=function(a,f){var s=a==null?null:typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(s!=null){var p,v,x,_,O=[],S=!0,T=!1;try{if(x=(s=s.call(a)).next,f===0){if(Object(s)!==s)return;S=!1}else for(;!(S=(p=x.call(s)).done)&&(O.push(p.value),O.length!==f);S=!0);}catch(j){T=!0,v=j}finally{try{if(!S&&s.return!=null&&(_=s.return(),Object(_)!==_))return}finally{if(T)throw v}}return O}},c.exports.__esModule=!0,c.exports.default=c.exports},function(c,g){c.exports=function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)},c.exports.__esModule=!0,c.exports.default=c.exports},function(c,g,a){var f=a(8).default;c.exports=function(s,p){if(f(s)!="object"||!s)return s;var v=s[Symbol.toPrimitive];if(v!==void 0){var x=v.call(s,p||"default");if(f(x)!="object")return x;throw new TypeError("@@toPrimitive must return a primitive value.")}return(p==="string"?String:Number)(s)},c.exports.__esModule=!0,c.exports.default=c.exports},function(c,g,a){var f=a(53),s=a(54),p=a(137),v=a(56),x=a(57),_=a(138),O=a(139);function S(){var T=s(),j=T.m(S),U=(Object.getPrototypeOf?Object.getPrototypeOf(j):j.__proto__).constructor;function F(I){var M=typeof I=="function"&&I.constructor;return!!M&&(M===U||(M.displayName||M.name)==="GeneratorFunction")}var V={throw:1,return:2,break:3,continue:3};function B(I){var M,P;return function(z){M||(M={stop:function(){return P(z.a,2)},catch:function(){return z.v},abrupt:function(Q,le){return P(z.a,V[Q],le)},delegateYield:function(Q,le,de){return M.resultName=le,P(z.d,O(Q),de)},finish:function(Q){return P(z.f,Q)}},P=function(Q,le,de){z.p=M.prev,z.n=M.next;try{return Q(le,de)}finally{M.next=z.n}}),M.resultName&&(M[M.resultName]=z.v,M.resultName=void 0),M.sent=z.v,M.next=z.n;try{return I.call(this,M)}finally{z.p=M.prev,z.n=M.next}}}return(c.exports=S=function(){return{wrap:function(I,M,P,z){return T.w(B(I),M,P,z&&z.reverse())},isGeneratorFunction:F,mark:T.m,awrap:function(I,M){return new f(I,M)},AsyncIterator:x,async:function(I,M,P,z,Q){return(F(M)?v:p)(B(I),M,P,z,Q)},keys:_,values:O}},c.exports.__esModule=!0,c.exports.default=c.exports)()}c.exports=S,c.exports.__esModule=!0,c.exports.default=c.exports},function(c,g,a){var f=a(56);c.exports=function(s,p,v,x,_){var O=f(s,p,v,x,_);return O.next().then((function(S){return S.done?S.value:O.next()}))},c.exports.__esModule=!0,c.exports.default=c.exports},function(c,g){c.exports=function(a){var f=Object(a),s=[];for(var p in f)s.unshift(p);return function v(){for(;s.length;)if((p=s.pop())in f)return v.value=p,v.done=!1,v;return v.done=!0,v}},c.exports.__esModule=!0,c.exports.default=c.exports},function(c,g,a){var f=a(8).default;c.exports=function(s){if(s!=null){var p=s[typeof Symbol=="function"&&Symbol.iterator||"@@iterator"],v=0;if(p)return p.call(s);if(typeof s.next=="function")return s;if(!isNaN(s.length))return{next:function(){return s&&v>=s.length&&(s=void 0),{value:s&&s[v++],done:!s}}}}throw new TypeError(f(s)+" is not iterable")},c.exports.__esModule=!0,c.exports.default=c.exports},function(c,g){c.exports=function(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a},c.exports.__esModule=!0,c.exports.default=c.exports},function(c,g,a){var f=a(1);c.exports=function(s,p){for(;!{}.hasOwnProperty.call(s,p)&&(s=f(s))!==null;);return s},c.exports.__esModule=!0,c.exports.default=c.exports},function(c,g,a){var f=a(51);c.exports=function(s){if(Array.isArray(s))return f(s)},c.exports.__esModule=!0,c.exports.default=c.exports},function(c,g){c.exports=function(a){if(typeof Symbol<"u"&&a[Symbol.iterator]!=null||a["@@iterator"]!=null)return Array.from(a)},c.exports.__esModule=!0,c.exports.default=c.exports},function(c,g){c.exports=function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)},c.exports.__esModule=!0,c.exports.default=c.exports},function(c,g,a){var f=a(146),s=a(156);c.exports=function(p,v){return f(p,v,(function(x,_){return s(p,_)}))}},function(c,g,a){var f=a(147),s=a(155),p=a(24);c.exports=function(v,x,_){for(var O=-1,S=x.length,T={};++O<S;){var j=x[O],U=f(v,j);_(U,j)&&s(T,p(j,v),U)}return T}},function(c,g,a){var f=a(24),s=a(34);c.exports=function(p,v){for(var x=0,_=(v=f(v,p)).length;p!=null&&x<_;)p=p[s(v[x++])];return x&&x==_?p:void 0}},function(c,g,a){var f=a(11),s=a(33),p=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,v=/^\w*$/;c.exports=function(x,_){if(f(x))return!1;var O=typeof x;return!(O!="number"&&O!="symbol"&&O!="boolean"&&x!=null&&!s(x))||v.test(x)||!p.test(x)||_!=null&&x in Object(_)}},function(c,g,a){var f=a(150),s=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,p=/\\(\\)?/g,v=f((function(x){var _=[];return x.charCodeAt(0)===46&&_.push(""),x.replace(s,(function(O,S,T,j){_.push(T?j.replace(p,"$1"):S||O)})),_}));c.exports=v},function(c,g,a){var f=a(151);c.exports=function(s){var p=f(s,(function(x){return v.size===500&&v.clear(),x})),v=p.cache;return p}},function(c,g,a){var f=a(37);function s(p,v){if(typeof p!="function"||v!=null&&typeof v!="function")throw new TypeError("Expected a function");var x=function(){var _=arguments,O=v?v.apply(this,_):_[0],S=x.cache;if(S.has(O))return S.get(O);var T=p.apply(this,_);return x.cache=S.set(O,T)||S,T};return x.cache=new(s.Cache||f),x}s.Cache=f,c.exports=s},function(c,g,a){var f=a(153);c.exports=function(s){return s==null?"":f(s)}},function(c,g,a){var f=a(19),s=a(154),p=a(11),v=a(33),x=f?f.prototype:void 0,_=x?x.toString:void 0;c.exports=function O(S){if(typeof S=="string")return S;if(p(S))return s(S,O)+"";if(v(S))return _?_.call(S):"";var T=S+"";return T=="0"&&1/S==-1/0?"-0":T}},function(c,g){c.exports=function(a,f){for(var s=-1,p=a==null?0:a.length,v=Array(p);++s<p;)v[s]=f(a[s],s,a);return v}},function(c,g,a){var f=a(45),s=a(24),p=a(23),v=a(9),x=a(34);c.exports=function(_,O,S,T){if(!v(_))return _;for(var j=-1,U=(O=s(O,_)).length,F=U-1,V=_;V!=null&&++j<U;){var B=x(O[j]),I=S;if(B==="__proto__"||B==="constructor"||B==="prototype")return _;if(j!=F){var M=V[B];(I=T?T(M,B,V):void 0)===void 0&&(I=v(M)?M:p(O[j+1])?[]:{})}f(V,B,I),V=V[B]}return _}},function(c,g,a){var f=a(157),s=a(158);c.exports=function(p,v){return p!=null&&s(p,v,f)}},function(c,g){c.exports=function(a,f){return a!=null&&f in Object(a)}},function(c,g,a){var f=a(24),s=a(22),p=a(11),v=a(23),x=a(31),_=a(34);c.exports=function(O,S,T){for(var j=-1,U=(S=f(S,O)).length,F=!1;++j<U;){var V=_(S[j]);if(!(F=O!=null&&T(O,V)))break;O=O[V]}return F||++j!=U?F:!!(U=O==null?0:O.length)&&x(U)&&v(V,U)&&(p(O)||s(O))}},function(c,g,a){var f=a(160),s=a(48),p=a(49);c.exports=function(v){return p(s(v,void 0,f),v+"")}},function(c,g,a){var f=a(161);c.exports=function(s){return s!=null&&s.length?f(s,1):[]}},function(c,g,a){var f=a(162),s=a(163);c.exports=function p(v,x,_,O,S){var T=-1,j=v.length;for(_||(_=s),S||(S=[]);++T<j;){var U=v[T];x>0&&_(U)?x>1?p(U,x-1,_,O,S):f(S,U):O||(S[S.length]=U)}return S}},function(c,g){c.exports=function(a,f){for(var s=-1,p=f.length,v=a.length;++s<p;)a[v+s]=f[s];return a}},function(c,g,a){var f=a(19),s=a(22),p=a(11),v=f?f.isConcatSpreadable:void 0;c.exports=function(x){return p(x)||s(x)||!!(v&&x&&x[v])}},function(c,g){c.exports=function(a){try{return Function.toString.call(a).indexOf("[native code]")!==-1}catch{return typeof a=="function"}},c.exports.__esModule=!0,c.exports.default=c.exports},function(c,g,a){var f=a(166),s=a(32);c.exports=function(p,v,x){if(f())return Reflect.construct.apply(null,arguments);var _=[null];_.push.apply(_,v);var O=new(p.bind.apply(p,_));return x&&s(O,x.prototype),O},c.exports.__esModule=!0,c.exports.default=c.exports},function(c,g){function a(){try{var f=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch{}return(c.exports=a=function(){return!!f},c.exports.__esModule=!0,c.exports.default=c.exports)()}c.exports=a,c.exports.__esModule=!0,c.exports.default=c.exports},function(c,g,a){a.r(g),a.d(g,"BarcodeDecoder",(function(){return lt})),a.d(g,"Readers",(function(){return v})),a.d(g,"CameraAccess",(function(){return Ze})),a.d(g,"ImageDebug",(function(){return it})),a.d(g,"ImageWrapper",(function(){return me})),a.d(g,"ResultCollector",(function(){return vr}));var f={};a.r(f),a.d(f,"create",(function(){return le})),a.d(f,"clone",(function(){return de})),a.d(f,"copy",(function(){return we})),a.d(f,"identity",(function(){return ie})),a.d(f,"fromValues",(function(){return K})),a.d(f,"set",(function(){return ue})),a.d(f,"transpose",(function(){return G})),a.d(f,"invert",(function(){return Y})),a.d(f,"adjoint",(function(){return xe})),a.d(f,"determinant",(function(){return Me})),a.d(f,"multiply",(function(){return he})),a.d(f,"rotate",(function(){return pe})),a.d(f,"scale",(function(){return Pe})),a.d(f,"fromRotation",(function(){return ce})),a.d(f,"fromScaling",(function(){return ne})),a.d(f,"str",(function(){return ye})),a.d(f,"frob",(function(){return oe})),a.d(f,"LDU",(function(){return We})),a.d(f,"add",(function(){return Ne})),a.d(f,"subtract",(function(){return bt})),a.d(f,"exactEquals",(function(){return Pr})),a.d(f,"equals",(function(){return Nr})),a.d(f,"multiplyScalar",(function(){return Ir})),a.d(f,"multiplyScalarAndAdd",(function(){return zr})),a.d(f,"mul",(function(){return Ur})),a.d(f,"sub",(function(){return Br}));var s={};a.r(s),a.d(s,"create",(function(){return wt})),a.d(s,"clone",(function(){return Fr})),a.d(s,"fromValues",(function(){return Wr})),a.d(s,"copy",(function(){return Lr})),a.d(s,"set",(function(){return qr})),a.d(s,"add",(function(){return Vr})),a.d(s,"subtract",(function(){return Ot})),a.d(s,"multiply",(function(){return Ct})),a.d(s,"divide",(function(){return Mt})),a.d(s,"ceil",(function(){return Gr})),a.d(s,"floor",(function(){return Hr})),a.d(s,"min",(function(){return $r})),a.d(s,"max",(function(){return Xr})),a.d(s,"round",(function(){return Qr})),a.d(s,"scale",(function(){return Yr})),a.d(s,"scaleAndAdd",(function(){return Zr})),a.d(s,"distance",(function(){return Rt})),a.d(s,"squaredDistance",(function(){return St})),a.d(s,"length",(function(){return Et})),a.d(s,"squaredLength",(function(){return At})),a.d(s,"negate",(function(){return Kr})),a.d(s,"inverse",(function(){return Jr})),a.d(s,"normalize",(function(){return en})),a.d(s,"dot",(function(){return tn})),a.d(s,"cross",(function(){return rn})),a.d(s,"lerp",(function(){return nn})),a.d(s,"random",(function(){return on})),a.d(s,"transformMat2",(function(){return an})),a.d(s,"transformMat2d",(function(){return un})),a.d(s,"transformMat3",(function(){return cn})),a.d(s,"transformMat4",(function(){return sn})),a.d(s,"rotate",(function(){return fn})),a.d(s,"angle",(function(){return ln})),a.d(s,"signedAngle",(function(){return dn})),a.d(s,"zero",(function(){return hn})),a.d(s,"str",(function(){return pn})),a.d(s,"exactEquals",(function(){return vn})),a.d(s,"equals",(function(){return mn})),a.d(s,"len",(function(){return xn})),a.d(s,"sub",(function(){return yn})),a.d(s,"mul",(function(){return gn})),a.d(s,"div",(function(){return _n})),a.d(s,"dist",(function(){return bn})),a.d(s,"sqrDist",(function(){return wn})),a.d(s,"sqrLen",(function(){return On})),a.d(s,"forEach",(function(){return Cn}));var p={};a.r(p),a.d(p,"create",(function(){return kt})),a.d(p,"clone",(function(){return Mn})),a.d(p,"length",(function(){return jt})),a.d(p,"fromValues",(function(){return Rn})),a.d(p,"copy",(function(){return Sn})),a.d(p,"set",(function(){return En})),a.d(p,"add",(function(){return An})),a.d(p,"subtract",(function(){return Tt})),a.d(p,"multiply",(function(){return Dt})),a.d(p,"divide",(function(){return Pt})),a.d(p,"ceil",(function(){return kn})),a.d(p,"floor",(function(){return jn})),a.d(p,"min",(function(){return Tn})),a.d(p,"max",(function(){return Dn})),a.d(p,"round",(function(){return Pn})),a.d(p,"scale",(function(){return Nn})),a.d(p,"scaleAndAdd",(function(){return In})),a.d(p,"distance",(function(){return Nt})),a.d(p,"squaredDistance",(function(){return It})),a.d(p,"squaredLength",(function(){return zt})),a.d(p,"negate",(function(){return zn})),a.d(p,"inverse",(function(){return Un})),a.d(p,"normalize",(function(){return Bn})),a.d(p,"dot",(function(){return rt})),a.d(p,"cross",(function(){return Fn})),a.d(p,"lerp",(function(){return Wn})),a.d(p,"slerp",(function(){return Ln})),a.d(p,"hermite",(function(){return qn})),a.d(p,"bezier",(function(){return Vn})),a.d(p,"random",(function(){return Gn})),a.d(p,"transformMat4",(function(){return Hn})),a.d(p,"transformMat3",(function(){return $n})),a.d(p,"transformQuat",(function(){return Xn})),a.d(p,"rotateX",(function(){return Qn})),a.d(p,"rotateY",(function(){return Yn})),a.d(p,"rotateZ",(function(){return Zn})),a.d(p,"angle",(function(){return Kn})),a.d(p,"zero",(function(){return Jn})),a.d(p,"str",(function(){return eo})),a.d(p,"exactEquals",(function(){return to})),a.d(p,"equals",(function(){return ro})),a.d(p,"sub",(function(){return no})),a.d(p,"mul",(function(){return oo})),a.d(p,"div",(function(){return ao})),a.d(p,"dist",(function(){return io})),a.d(p,"sqrDist",(function(){return uo})),a.d(p,"len",(function(){return co})),a.d(p,"sqrLen",(function(){return so})),a.d(p,"forEach",(function(){return fo}));var v={};a.r(v),a.d(v,"BarcodeReader",(function(){return Re})),a.d(v,"TwoOfFiveReader",(function(){return Lt})),a.d(v,"NewCodabarReader",(function(){return Vt})),a.d(v,"Code128Reader",(function(){return Gt})),a.d(v,"Code32Reader",(function(){return Xt})),a.d(v,"Code39Reader",(function(){return $e})),a.d(v,"Code39VINReader",(function(){return Qt})),a.d(v,"Code93Reader",(function(){return Zt})),a.d(v,"EAN2Reader",(function(){return rr})),a.d(v,"EAN5Reader",(function(){return nr})),a.d(v,"EAN8Reader",(function(){return or})),a.d(v,"EANReader",(function(){return Se})),a.d(v,"I2of5Reader",(function(){return ar})),a.d(v,"UPCEReader",(function(){return cr})),a.d(v,"UPCReader",(function(){return sr}));var x=a(8),_=a.n(x),O=a(12),S=a.n(O),T=(a(131),a(58)),j=a.n(T),U=a(2),F=a.n(U),V=a(3),B=a.n(V),I=a(0),M=a.n(I),P=typeof Float32Array<"u"?Float32Array:Array,z=Math.random;function Q(t){return t>=0?Math.round(t):t%.5==0?Math.floor(t):Math.round(t)}function le(){var t=new P(4);return P!=Float32Array&&(t[1]=0,t[2]=0),t[0]=1,t[3]=1,t}function de(t){var n=new P(4);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n}function we(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t}function ie(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t}function K(t,n,e,r){var o=new P(4);return o[0]=t,o[1]=n,o[2]=e,o[3]=r,o}function ue(t,n,e,r,o){return t[0]=n,t[1]=e,t[2]=r,t[3]=o,t}function G(t,n){if(t===n){var e=n[1];t[1]=n[2],t[2]=e}else t[0]=n[0],t[1]=n[2],t[2]=n[1],t[3]=n[3];return t}function Y(t,n){var e=n[0],r=n[1],o=n[2],i=n[3],u=e*i-o*r;return u?(u=1/u,t[0]=i*u,t[1]=-r*u,t[2]=-o*u,t[3]=e*u,t):null}function xe(t,n){var e=n[0];return t[0]=n[3],t[1]=-n[1],t[2]=-n[2],t[3]=e,t}function Me(t){return t[0]*t[3]-t[2]*t[1]}function he(t,n,e){var r=n[0],o=n[1],i=n[2],u=n[3],l=e[0],h=e[1],d=e[2],m=e[3];return t[0]=r*l+i*h,t[1]=o*l+u*h,t[2]=r*d+i*m,t[3]=o*d+u*m,t}function pe(t,n,e){var r=n[0],o=n[1],i=n[2],u=n[3],l=Math.sin(e),h=Math.cos(e);return t[0]=r*h+i*l,t[1]=o*h+u*l,t[2]=r*-l+i*h,t[3]=o*-l+u*h,t}function Pe(t,n,e){var r=n[0],o=n[1],i=n[2],u=n[3],l=e[0],h=e[1];return t[0]=r*l,t[1]=o*l,t[2]=i*h,t[3]=u*h,t}function ce(t,n){var e=Math.sin(n),r=Math.cos(n);return t[0]=r,t[1]=e,t[2]=-e,t[3]=r,t}function ne(t,n){return t[0]=n[0],t[1]=0,t[2]=0,t[3]=n[1],t}function ye(t){return"mat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function oe(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]+t[3]*t[3])}function We(t,n,e,r){return t[2]=r[2]/r[0],e[0]=r[0],e[1]=r[1],e[3]=r[3]-t[2]*e[1],[t,n,e]}function Ne(t,n,e){return t[0]=n[0]+e[0],t[1]=n[1]+e[1],t[2]=n[2]+e[2],t[3]=n[3]+e[3],t}function bt(t,n,e){return t[0]=n[0]-e[0],t[1]=n[1]-e[1],t[2]=n[2]-e[2],t[3]=n[3]-e[3],t}function Pr(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]}function Nr(t,n){var e=t[0],r=t[1],o=t[2],i=t[3],u=n[0],l=n[1],h=n[2],d=n[3];return Math.abs(e-u)<=1e-6*Math.max(1,Math.abs(e),Math.abs(u))&&Math.abs(r-l)<=1e-6*Math.max(1,Math.abs(r),Math.abs(l))&&Math.abs(o-h)<=1e-6*Math.max(1,Math.abs(o),Math.abs(h))&&Math.abs(i-d)<=1e-6*Math.max(1,Math.abs(i),Math.abs(d))}function Ir(t,n,e){return t[0]=n[0]*e,t[1]=n[1]*e,t[2]=n[2]*e,t[3]=n[3]*e,t}function zr(t,n,e,r){return t[0]=n[0]+e[0]*r,t[1]=n[1]+e[1]*r,t[2]=n[2]+e[2]*r,t[3]=n[3]+e[3]*r,t}var Ur=he,Br=bt;function wt(){var t=new P(2);return P!=Float32Array&&(t[0]=0,t[1]=0),t}function Fr(t){var n=new P(2);return n[0]=t[0],n[1]=t[1],n}function Wr(t,n){var e=new P(2);return e[0]=t,e[1]=n,e}function Lr(t,n){return t[0]=n[0],t[1]=n[1],t}function qr(t,n,e){return t[0]=n,t[1]=e,t}function Vr(t,n,e){return t[0]=n[0]+e[0],t[1]=n[1]+e[1],t}function Ot(t,n,e){return t[0]=n[0]-e[0],t[1]=n[1]-e[1],t}function Ct(t,n,e){return t[0]=n[0]*e[0],t[1]=n[1]*e[1],t}function Mt(t,n,e){return t[0]=n[0]/e[0],t[1]=n[1]/e[1],t}function Gr(t,n){return t[0]=Math.ceil(n[0]),t[1]=Math.ceil(n[1]),t}function Hr(t,n){return t[0]=Math.floor(n[0]),t[1]=Math.floor(n[1]),t}function $r(t,n,e){return t[0]=Math.min(n[0],e[0]),t[1]=Math.min(n[1],e[1]),t}function Xr(t,n,e){return t[0]=Math.max(n[0],e[0]),t[1]=Math.max(n[1],e[1]),t}function Qr(t,n){return t[0]=Q(n[0]),t[1]=Q(n[1]),t}function Yr(t,n,e){return t[0]=n[0]*e,t[1]=n[1]*e,t}function Zr(t,n,e,r){return t[0]=n[0]+e[0]*r,t[1]=n[1]+e[1]*r,t}function Rt(t,n){var e=n[0]-t[0],r=n[1]-t[1];return Math.sqrt(e*e+r*r)}function St(t,n){var e=n[0]-t[0],r=n[1]-t[1];return e*e+r*r}function Et(t){var n=t[0],e=t[1];return Math.sqrt(n*n+e*e)}function At(t){var n=t[0],e=t[1];return n*n+e*e}function Kr(t,n){return t[0]=-n[0],t[1]=-n[1],t}function Jr(t,n){return t[0]=1/n[0],t[1]=1/n[1],t}function en(t,n){var e=n[0],r=n[1],o=e*e+r*r;return o>0&&(o=1/Math.sqrt(o)),t[0]=n[0]*o,t[1]=n[1]*o,t}function tn(t,n){return t[0]*n[0]+t[1]*n[1]}function rn(t,n,e){var r=n[0]*e[1]-n[1]*e[0];return t[0]=t[1]=0,t[2]=r,t}function nn(t,n,e,r){var o=n[0],i=n[1];return t[0]=o+r*(e[0]-o),t[1]=i+r*(e[1]-i),t}function on(t,n){n=n===void 0?1:n;var e=2*z()*Math.PI;return t[0]=Math.cos(e)*n,t[1]=Math.sin(e)*n,t}function an(t,n,e){var r=n[0],o=n[1];return t[0]=e[0]*r+e[2]*o,t[1]=e[1]*r+e[3]*o,t}function un(t,n,e){var r=n[0],o=n[1];return t[0]=e[0]*r+e[2]*o+e[4],t[1]=e[1]*r+e[3]*o+e[5],t}function cn(t,n,e){var r=n[0],o=n[1];return t[0]=e[0]*r+e[3]*o+e[6],t[1]=e[1]*r+e[4]*o+e[7],t}function sn(t,n,e){var r=n[0],o=n[1];return t[0]=e[0]*r+e[4]*o+e[12],t[1]=e[1]*r+e[5]*o+e[13],t}function fn(t,n,e,r){var o=n[0]-e[0],i=n[1]-e[1],u=Math.sin(r),l=Math.cos(r);return t[0]=o*l-i*u+e[0],t[1]=o*u+i*l+e[1],t}function ln(t,n){var e=t[0],r=t[1],o=n[0],i=n[1];return Math.abs(Math.atan2(r*o-e*i,e*o+r*i))}function dn(t,n){var e=t[0],r=t[1],o=n[0],i=n[1];return Math.atan2(e*i-r*o,e*o+r*i)}function hn(t){return t[0]=0,t[1]=0,t}function pn(t){return"vec2("+t[0]+", "+t[1]+")"}function vn(t,n){return t[0]===n[0]&&t[1]===n[1]}function mn(t,n){var e=t[0],r=t[1],o=n[0],i=n[1];return Math.abs(e-o)<=1e-6*Math.max(1,Math.abs(e),Math.abs(o))&&Math.abs(r-i)<=1e-6*Math.max(1,Math.abs(r),Math.abs(i))}var Ae,xn=Et,yn=Ot,gn=Ct,_n=Mt,bn=Rt,wn=St,On=At,Cn=(Ae=wt(),function(t,n,e,r,o,i){var u,l;for(n||(n=2),e||(e=0),l=r?Math.min(r*n+e,t.length):t.length,u=e;u<l;u+=n)Ae[0]=t[u],Ae[1]=t[u+1],o(Ae,Ae,i),t[u]=Ae[0],t[u+1]=Ae[1];return t});function kt(){var t=new P(3);return P!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function Mn(t){var n=new P(3);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n}function jt(t){var n=t[0],e=t[1],r=t[2];return Math.sqrt(n*n+e*e+r*r)}function Rn(t,n,e){var r=new P(3);return r[0]=t,r[1]=n,r[2]=e,r}function Sn(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t}function En(t,n,e,r){return t[0]=n,t[1]=e,t[2]=r,t}function An(t,n,e){return t[0]=n[0]+e[0],t[1]=n[1]+e[1],t[2]=n[2]+e[2],t}function Tt(t,n,e){return t[0]=n[0]-e[0],t[1]=n[1]-e[1],t[2]=n[2]-e[2],t}function Dt(t,n,e){return t[0]=n[0]*e[0],t[1]=n[1]*e[1],t[2]=n[2]*e[2],t}function Pt(t,n,e){return t[0]=n[0]/e[0],t[1]=n[1]/e[1],t[2]=n[2]/e[2],t}function kn(t,n){return t[0]=Math.ceil(n[0]),t[1]=Math.ceil(n[1]),t[2]=Math.ceil(n[2]),t}function jn(t,n){return t[0]=Math.floor(n[0]),t[1]=Math.floor(n[1]),t[2]=Math.floor(n[2]),t}function Tn(t,n,e){return t[0]=Math.min(n[0],e[0]),t[1]=Math.min(n[1],e[1]),t[2]=Math.min(n[2],e[2]),t}function Dn(t,n,e){return t[0]=Math.max(n[0],e[0]),t[1]=Math.max(n[1],e[1]),t[2]=Math.max(n[2],e[2]),t}function Pn(t,n){return t[0]=Q(n[0]),t[1]=Q(n[1]),t[2]=Q(n[2]),t}function Nn(t,n,e){return t[0]=n[0]*e,t[1]=n[1]*e,t[2]=n[2]*e,t}function In(t,n,e,r){return t[0]=n[0]+e[0]*r,t[1]=n[1]+e[1]*r,t[2]=n[2]+e[2]*r,t}function Nt(t,n){var e=n[0]-t[0],r=n[1]-t[1],o=n[2]-t[2];return Math.sqrt(e*e+r*r+o*o)}function It(t,n){var e=n[0]-t[0],r=n[1]-t[1],o=n[2]-t[2];return e*e+r*r+o*o}function zt(t){var n=t[0],e=t[1],r=t[2];return n*n+e*e+r*r}function zn(t,n){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t}function Un(t,n){return t[0]=1/n[0],t[1]=1/n[1],t[2]=1/n[2],t}function Bn(t,n){var e=n[0],r=n[1],o=n[2],i=e*e+r*r+o*o;return i>0&&(i=1/Math.sqrt(i)),t[0]=n[0]*i,t[1]=n[1]*i,t[2]=n[2]*i,t}function rt(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function Fn(t,n,e){var r=n[0],o=n[1],i=n[2],u=e[0],l=e[1],h=e[2];return t[0]=o*h-i*l,t[1]=i*u-r*h,t[2]=r*l-o*u,t}function Wn(t,n,e,r){var o=n[0],i=n[1],u=n[2];return t[0]=o+r*(e[0]-o),t[1]=i+r*(e[1]-i),t[2]=u+r*(e[2]-u),t}function Ln(t,n,e,r){var o=Math.acos(Math.min(Math.max(rt(n,e),-1),1)),i=Math.sin(o),u=Math.sin((1-r)*o)/i,l=Math.sin(r*o)/i;return t[0]=u*n[0]+l*e[0],t[1]=u*n[1]+l*e[1],t[2]=u*n[2]+l*e[2],t}function qn(t,n,e,r,o,i){var u=i*i,l=u*(2*i-3)+1,h=u*(i-2)+i,d=u*(i-1),m=u*(3-2*i);return t[0]=n[0]*l+e[0]*h+r[0]*d+o[0]*m,t[1]=n[1]*l+e[1]*h+r[1]*d+o[1]*m,t[2]=n[2]*l+e[2]*h+r[2]*d+o[2]*m,t}function Vn(t,n,e,r,o,i){var u=1-i,l=u*u,h=i*i,d=l*u,m=3*i*l,y=3*h*u,C=h*i;return t[0]=n[0]*d+e[0]*m+r[0]*y+o[0]*C,t[1]=n[1]*d+e[1]*m+r[1]*y+o[1]*C,t[2]=n[2]*d+e[2]*m+r[2]*y+o[2]*C,t}function Gn(t,n){n=n===void 0?1:n;var e=2*z()*Math.PI,r=2*z()-1,o=Math.sqrt(1-r*r)*n;return t[0]=Math.cos(e)*o,t[1]=Math.sin(e)*o,t[2]=r*n,t}function Hn(t,n,e){var r=n[0],o=n[1],i=n[2],u=e[3]*r+e[7]*o+e[11]*i+e[15];return u=u||1,t[0]=(e[0]*r+e[4]*o+e[8]*i+e[12])/u,t[1]=(e[1]*r+e[5]*o+e[9]*i+e[13])/u,t[2]=(e[2]*r+e[6]*o+e[10]*i+e[14])/u,t}function $n(t,n,e){var r=n[0],o=n[1],i=n[2];return t[0]=r*e[0]+o*e[3]+i*e[6],t[1]=r*e[1]+o*e[4]+i*e[7],t[2]=r*e[2]+o*e[5]+i*e[8],t}function Xn(t,n,e){var r=e[0],o=e[1],i=e[2],u=e[3],l=n[0],h=n[1],d=n[2],m=o*d-i*h,y=i*l-r*d,C=r*h-o*l;return m+=m,y+=y,C+=C,t[0]=l+u*m+o*C-i*y,t[1]=h+u*y+i*m-r*C,t[2]=d+u*C+r*y-o*m,t}function Qn(t,n,e,r){var o=[],i=[];return o[0]=n[0]-e[0],o[1]=n[1]-e[1],o[2]=n[2]-e[2],i[0]=o[0],i[1]=o[1]*Math.cos(r)-o[2]*Math.sin(r),i[2]=o[1]*Math.sin(r)+o[2]*Math.cos(r),t[0]=i[0]+e[0],t[1]=i[1]+e[1],t[2]=i[2]+e[2],t}function Yn(t,n,e,r){var o=[],i=[];return o[0]=n[0]-e[0],o[1]=n[1]-e[1],o[2]=n[2]-e[2],i[0]=o[2]*Math.sin(r)+o[0]*Math.cos(r),i[1]=o[1],i[2]=o[2]*Math.cos(r)-o[0]*Math.sin(r),t[0]=i[0]+e[0],t[1]=i[1]+e[1],t[2]=i[2]+e[2],t}function Zn(t,n,e,r){var o=[],i=[];return o[0]=n[0]-e[0],o[1]=n[1]-e[1],o[2]=n[2]-e[2],i[0]=o[0]*Math.cos(r)-o[1]*Math.sin(r),i[1]=o[0]*Math.sin(r)+o[1]*Math.cos(r),i[2]=o[2],t[0]=i[0]+e[0],t[1]=i[1]+e[1],t[2]=i[2]+e[2],t}function Kn(t,n){var e=t[0],r=t[1],o=t[2],i=n[0],u=n[1],l=n[2],h=Math.sqrt((e*e+r*r+o*o)*(i*i+u*u+l*l)),d=h&&rt(t,n)/h;return Math.acos(Math.min(Math.max(d,-1),1))}function Jn(t){return t[0]=0,t[1]=0,t[2]=0,t}function eo(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"}function to(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]}function ro(t,n){var e=t[0],r=t[1],o=t[2],i=n[0],u=n[1],l=n[2];return Math.abs(e-i)<=1e-6*Math.max(1,Math.abs(e),Math.abs(i))&&Math.abs(r-u)<=1e-6*Math.max(1,Math.abs(r),Math.abs(u))&&Math.abs(o-l)<=1e-6*Math.max(1,Math.abs(o),Math.abs(l))}var no=Tt,oo=Dt,ao=Pt,io=Nt,uo=It,co=jt,so=zt,fo=(function(){var t=kt();return function(n,e,r,o,i,u){var l,h;for(e||(e=3),r||(r=0),h=o?Math.min(o*e+r,n.length):n.length,l=r;l<h;l+=e)t[0]=n[l],t[1]=n[l+1],t[2]=n[l+2],i(t,t,u),n[l]=t[0],n[l+1]=t[1],n[l+2]=t[2];return n}})(),Ie=function(t,n){t.fill(n)},lo=function(t){for(var n=0,e=0;e<t.length;e++)t[e]>t[n]&&(n=e);return n},nt=function(t){for(var n=t.length,e=0;n--;)e+=t[n];return e},ho=function(t,n){var e=[],r={rad:0,vec:s.clone([0,0])},o={};function i(l){o[l.id]=l,e.push(l)}function u(){var l,h=0;for(l=0;l<e.length;l++)h+=e[l].rad;r.rad=h/e.length,r.vec=s.clone([Math.cos(r.rad),Math.sin(r.rad)])}return i(t),u(),{add:function(l){o[l.id]||(i(l),u())},fits:function(l){return Math.abs(s.dot(l.point.vec,r.vec))>n},getPoints:function(){return e},getCenter:function(){return r}}},po=function(t,n,e){return{rad:t[e],point:t,id:n}};function ot(t,n){return{x:t,y:n,toVec2:function(){return s.clone([this.x,this.y])},toVec3:function(){return p.clone([this.x,this.y,1])},round:function(){return this.x=this.x>0?Math.floor(this.x+.5):Math.floor(this.x-.5),this.y=this.y>0?Math.floor(this.y+.5):Math.floor(this.y-.5),this}}}function vo(t,n){n||(n=8);for(var e=t.data,r=e.length,o=8-n,i=new Int32Array(1<<n);r--;)i[e[r]>>o]++;return i}function mo(t,n){var e=(function(r){var o,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:8,u=8-i;function l(y,C){for(var b=0,E=y;E<=C;E++)b+=o[E];return b}function h(y,C){for(var b=0,E=y;E<=C;E++)b+=E*o[E];return b}function d(){var y,C,b,E,w=[0],R=(1<<i)-1;o=vo(r,i);for(var A=1;A<R;A++)(b=(y=l(0,A))*(C=l(A+1,R)))===0&&(b=1),E=h(0,A)*C-h(A+1,R)*y,w[A]=E*E/b;return lo(w)}var m=d();return m<<u})(t);return(function(r,o,i){i||(i=r);for(var u=r.data,l=u.length,h=i.data;l--;)h[l]=u[l]<o?1:0})(t,e,n),e}function xo(t,n,e){var r=t.length/4|0;if(e&&e.singleChannel===!0)for(var o=0;o<r;o++)n[o]=t[4*o+0];else for(var i=0;i<r;i++)n[i]=.299*t[4*i+0]+.587*t[4*i+1]+.114*t[4*i+2]}function yo(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0,0,0],e=t[0],r=t[1],o=t[2],i=o*r,u=i*(1-Math.abs(e/60%2-1)),l=o-i,h=0,d=0,m=0;return e<60?(h=i,d=u):e<120?(h=u,d=i):e<180?(d=i,m=u):e<240?(d=u,m=i):e<300?(h=u,m=i):e<360&&(h=i,m=u),n[0]=255*(h+l)|0,n[1]=255*(d+l)|0,n[2]=255*(m+l)|0,n}function Ge(t){for(var n=[],e=[],r=1;r<Math.sqrt(t)+1;r++)t%r==0&&(e.push(r),r!==t/r&&n.unshift(Math.floor(t/r)));return e.concat(n)}function Ut(t,n){var e,r=Ge(n.x),o=Ge(n.y),i=Math.max(n.x,n.y),u=(function(b,E){for(var w=0,R=0,A=[];w<b.length&&R<E.length;)b[w]===E[R]?(A.push(b[w]),w++,R++):b[w]>E[R]?R++:w++;return A})(r,o),l=[8,10,15,20,32,60,80],h={"x-small":5,small:4,medium:3,large:2,"x-large":1},d=h[t]||h.medium,m=l[d],y=Math.floor(i/m);function C(b){for(var E=0,w=b[Math.floor(b.length/2)];E<b.length-1&&b[E]<y;)E++;return E>0&&(w=Math.abs(b[E]-y)>Math.abs(b[E-1]-y)?b[E-1]:b[E]),y/w<l[d+1]/l[d]&&y/w>l[d-1]/l[d]?{x:w,y:w}:null}return(e=C(u))||(e=C(Ge(i)))||(e=C(Ge(y*m))),e}var go={top:function(t,n){return t.unit==="%"?Math.floor(n.height*(t.value/100)):null},right:function(t,n){return t.unit==="%"?Math.floor(n.width-n.width*(t.value/100)):null},bottom:function(t,n){return t.unit==="%"?Math.floor(n.height-n.height*(t.value/100)):null},left:function(t,n){return t.unit==="%"?Math.floor(n.width*(t.value/100)):null}};function _o(t,n,e){var r={width:t,height:n},o=Object.keys(e).reduce((function(i,u){var l=(function(d){return{value:parseFloat(d),unit:(d.indexOf("%"),d.length,"%")}})(e[u]),h=go[u](l,r);return i[u]=h,i}),{});return{sx:o.left,sy:o.top,sw:o.right-o.left,sh:o.bottom-o.top}}function at(t){if(t<0)throw new Error("expected positive number, received ".concat(t))}var me=(function(){return B()((function t(n,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Uint8Array,o=arguments.length>3?arguments[3]:void 0;F()(this,t),M()(this,"data",void 0),M()(this,"size",void 0),M()(this,"indexMapping",void 0),e?this.data=e:(this.data=new r(n.x*n.y),o&&Ie(this.data,0)),this.size=n}),[{key:"inImageWithBorder",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return at(n),t.x>=0&&t.y>=0&&t.x<this.size.x+2*n&&t.y<this.size.y+2*n}},{key:"subImageAsCopy",value:function(t,n){at(n.x),at(n.y);for(var e=t.size,r=e.x,o=e.y,i=0;i<r;i++)for(var u=0;u<o;u++)t.data[u*r+i]=this.data[(n.y+u)*this.size.x+n.x+i];return t}},{key:"get",value:function(t,n){return this.data[n*this.size.x+t]}},{key:"getSafe",value:function(t,n){if(!this.indexMapping){this.indexMapping={x:[],y:[]};for(var e=0;e<this.size.x;e++)this.indexMapping.x[e]=e,this.indexMapping.x[e+this.size.x]=e;for(var r=0;r<this.size.y;r++)this.indexMapping.y[r]=r,this.indexMapping.y[r+this.size.y]=r}return this.data[this.indexMapping.y[n+this.size.y]*this.size.x+this.indexMapping.x[t+this.size.x]]}},{key:"set",value:function(t,n,e){return this.data[n*this.size.x+t]=e,delete this.indexMapping,this}},{key:"zeroBorder",value:function(){for(var t=this.size,n=t.x,e=t.y,r=0;r<n;r++)this.data[r]=this.data[(e-1)*n+r]=0;for(var o=1;o<e-1;o++)this.data[o*n]=this.data[o*n+(n-1)]=0;return delete this.indexMapping,this}},{key:"moments",value:function(t){var n,e,r,o,i,u,l,h,d,m,y=this.data,C=this.size.y,b=this.size.x,E=[],w=[],R=Math.PI,A=R/4;if(t<=0)return w;for(i=0;i<t;i++)E[i]={m00:0,m01:0,m10:0,m11:0,m02:0,m20:0,theta:0,rad:0};for(e=0;e<C;e++)for(o=e*e,n=0;n<b;n++)(r=y[e*b+n])>0&&((u=E[r-1]).m00+=1,u.m01+=e,u.m10+=n,u.m11+=n*e,u.m02+=o,u.m20+=n*n);for(i=0;i<t;i++)u=E[i],isNaN(u.m00)||u.m00===0||(h=u.m10/u.m00,d=u.m01/u.m00,l=u.m11/u.m00-h*d,m=(u.m02/u.m00-d*d-(u.m20/u.m00-h*h))/(2*l),m=.5*Math.atan(m)+(l>=0?A:-A)+R,u.theta=(180*m/R+90)%180-90,u.theta<0&&(u.theta+=180),u.rad=m>R?m-R:m,u.vec=s.clone([Math.cos(m),Math.sin(m)]),w.push(u));return w}},{key:"getAsRGBA",value:function(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,n=new Uint8ClampedArray(4*this.size.x*this.size.y),e=0;e<this.size.y;e++)for(var r=0;r<this.size.x;r++){var o=e*this.size.x+r,i=this.get(r,e)*t;n[4*o+0]=i,n[4*o+1]=i,n[4*o+2]=i,n[4*o+3]=255}return n}},{key:"show",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;console.warn("* imagewrapper show getcontext 2d");var e=t.getContext("2d");if(!e)throw new Error("Unable to get canvas context");var r=e.getImageData(0,0,t.width,t.height),o=this.getAsRGBA(n);t.width=this.size.x,t.height=this.size.y;var i=new ImageData(o,r.width,r.height);e.putImageData(i,0,0)}},{key:"overlay",value:function(t,n,e){var r=n<0||n>360?360:n,o=[0,1,1],i=[0,0,0],u=[255,255,255],l=[0,0,0];console.warn("* imagewrapper overlay getcontext 2d");var h=t.getContext("2d");if(!h)throw new Error("Unable to get canvas context");for(var d=h.getImageData(e.x,e.y,this.size.x,this.size.y),m=d.data,y=this.data.length;y--;){o[0]=this.data[y]*r;var C=4*y,b=o[0]<=0?u:o[0]>=360?l:yo(o,i),E=j()(b,3);m[C]=E[0],m[C+1]=E[1],m[C+2]=E[2],m[C+3]=255}h.putImageData(d,e.x,e.y)}}])})(),bo=a(7),Oe=a.n(bo),wo=a(6),J=a.n(wo),it={drawRect:function(t,n,e,r){e.strokeStyle=r.color,e.fillStyle=r.color,e.lineWidth=r.lineWidth||1,e.beginPath(),e.strokeRect(t.x,t.y,n.x,n.y)},drawPath:function(t,n,e,r){e.strokeStyle=r.color,e.fillStyle=r.color,e.lineWidth=r.lineWidth,e.beginPath(),e.moveTo(t[0][n.x],t[0][n.y]);for(var o=1;o<t.length;o++)e.lineTo(t[o][n.x],t[o][n.y]);e.closePath(),e.stroke()},drawImage:function(t,n,e){var r=e.getImageData(0,0,n.x,n.y),o=r.data,i=o.length,u=t.length;if(i/u!=4)return!1;for(;u--;){var l=t[u];o[--i]=255,o[--i]=l,o[--i]=l,o[--i]=l}return e.putImageData(r,0,0),!0}},Oo=a(4),re=a.n(Oo),Co=a(1),H=a.n(Co),Mo=a(5),ae=a.n(Mo),Bt=(function(t){return t[t.Forward=1]="Forward",t[t.Reverse=-1]="Reverse",t})({}),Re=(function(){return B()((function t(n,e){F()(this,t),M()(this,"_row",[]),M()(this,"config",{}),M()(this,"supplements",[]),M()(this,"SINGLE_CODE_ERROR",0),M()(this,"FORMAT","unknown"),M()(this,"CONFIG_KEYS",{}),this._row=[],this.config=n||{},e&&(this.supplements=e)}),[{key:"_nextUnset",value:function(t){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,e=n;e<t.length;e++)if(!t[e])return e;return t.length}},{key:"_matchPattern",value:function(t,n){for(var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.SINGLE_CODE_ERROR||1,r=0,o=0,i=0,u=0,l=0,h=0,d=0,m=0;m<t.length;m++)i+=t[m],u+=n[m];if(i<u)return Number.MAX_VALUE;e*=l=i/u;for(var y=0;y<t.length;y++){if(h=t[y],d=n[y]*l,(o=Math.abs(h-d)/d)>e)return Number.MAX_VALUE;r+=o}return r/u}},{key:"_nextSet",value:function(t){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,e=n;e<t.length;e++)if(t[e])return e;return t.length}},{key:"_correctBars",value:function(t,n,e){for(var r=e.length,o=0;r--;)(o=t[e[r]]*(1-(1-n)/2))>1&&(t[e[r]]=o)}},{key:"decodePattern",value:function(t){this._row=t;var n=this.decode();return n===null?(this._row.reverse(),(n=this.decode())&&(n.direction=Bt.Reverse,n.start=this._row.length-n.start,n.end=this._row.length-n.end)):n.direction=Bt.Forward,n&&(n.format=this.FORMAT),n}},{key:"_matchRange",value:function(t,n,e){var r;for(r=t=t<0?0:t;r<n;r++)if(this._row[r]!==e)return!1;return!0}},{key:"_fillCounters",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._nextUnset(this._row),n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._row.length,e=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],r=[],o=0;r[o]=0;for(var i=t;i<n;i++)this._row[i]^(e?1:0)?r[o]++:(r[++o]=1,e=!e);return r}},{key:"_toCounters",value:function(t,n){var e=n.length,r=this._row.length,o=!this._row[t],i=0;Ie(n,0);for(var u=t;u<r;u++)if(this._row[u]^(o?1:0))n[i]++;else{if(++i===e)break;n[i]=1,o=!o}return n}},{key:"decodeImage",value:function(t){return null}}],[{key:"Exception",get:function(){return{StartNotFoundException:"Start-Info was not found!",CodeNotFoundException:"Code could not be found!",PatternNotFoundException:"Pattern could not be found!"}}}])})();function Ro(t,n,e){return n=H()(n),re()(t,(function(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch{}return(function(){return!!r})()})()?Reflect.construct(n,e||[],H()(t).constructor):n.apply(t,e))}var Ft=[3,1,3,1,1,1],So=[3,1,1,1,3],Wt=[[1,1,3,3,1],[3,1,1,1,3],[1,3,1,1,3],[3,3,1,1,1],[1,1,3,1,3],[3,1,3,1,1],[1,3,3,1,1],[1,1,1,3,3],[3,1,1,3,1],[1,3,1,3,1]],Eo=Ft.reduce((function(t,n){return t+n}),0),Lt=(function(t){function n(){var e;F()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=Ro(this,n,[].concat(o)),M()(e,"barSpaceRatio",[1,1]),M()(e,"FORMAT","2of5"),M()(e,"SINGLE_CODE_ERROR",.78),M()(e,"AVG_CODE_ERROR",.3),e}return ae()(n,t),B()(n,[{key:"_findPattern",value:function(e,r){var o=arguments.length>2&&arguments[2]!==void 0&&arguments[2],i=arguments.length>3&&arguments[3]!==void 0&&arguments[3],u=[],l=0,h={error:Number.MAX_VALUE,code:-1,start:0,end:0},d=0,m=0,y=this.AVG_CODE_ERROR;r||(r=this._nextSet(this._row));for(var C=0;C<e.length;C++)u[C]=0;for(var b=r;b<this._row.length;b++)if(this._row[b]^(o?1:0))u[l]++;else{if(l===u.length-1){d=0;for(var E=0;E<u.length;E++)d+=u[E];if((m=this._matchPattern(u,e))<y)return h.error=m,h.start=b-d,h.end=b,h;if(!i)return null;for(var w=0;w<u.length-2;w++)u[w]=u[w+2];u[u.length-2]=0,u[u.length-1]=0,l--}else l++;u[l]=1,o=!o}return null}},{key:"_findStart",value:function(){for(var e=null,r=this._nextSet(this._row),o=1,i=0;!e;){if(!(e=this._findPattern(Ft,r,!1,!0)))return null;if(o=Math.floor((e.end-e.start)/Eo),(i=e.start-5*o)>=0&&this._matchRange(i,e.start,0))return e;r=e.end,e=null}return e}},{key:"_verifyTrailingWhitespace",value:function(e){var r=e.end+(e.end-e.start)/2;return r<this._row.length&&this._matchRange(e.end,r,0)?e:null}},{key:"_findEnd",value:function(){this._row.reverse();var e=this._nextSet(this._row),r=this._findPattern(So,e,!1,!0);if(this._row.reverse(),r===null)return null;var o=r.start;return r.start=this._row.length-r.end,r.end=this._row.length-o,r!==null?this._verifyTrailingWhitespace(r):null}},{key:"_verifyCounterLength",value:function(e){return e.length%10==0}},{key:"_decodeCode",value:function(e){for(var r=this.AVG_CODE_ERROR,o={error:Number.MAX_VALUE,code:-1,start:0,end:0},i=0;i<Wt.length;i++){var u=this._matchPattern(e,Wt[i]);u<o.error&&(o.code=i,o.error=u)}return o.error<r?o:null}},{key:"_decodePayload",value:function(e,r,o){for(var i=0,u=e.length,l=[0,0,0,0,0],h=null;i<u;){for(var d=0;d<5;d++)l[d]=e[i]*this.barSpaceRatio[0],i+=2;if(!(h=this._decodeCode(l)))return null;r.push("".concat(h.code)),o.push(h)}return h}},{key:"decode",value:function(e,r){var o=this._findStart();if(!o)return null;var i=this._findEnd();if(!i)return null;var u=this._fillCounters(o.end,i.start,!1);if(!this._verifyCounterLength(u))return null;var l=[];l.push(o);var h=[];return this._decodePayload(u,h,l)?h.length<5?null:(l.push(i),{code:h.join(""),start:o.start,end:i.end,startInfo:o,decodedCodes:l,format:this.FORMAT}):null}}])})(Re);function Ao(t,n,e){return n=H()(n),re()(t,(function(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch{}return(function(){return!!r})()})()?Reflect.construct(n,e||[],H()(t).constructor):n.apply(t,e))}var ut=[48,49,50,51,52,53,54,55,56,57,45,36,58,47,46,43,65,66,67,68],ct=[3,6,9,96,18,66,33,36,48,72,12,24,69,81,84,21,26,41,11,14],qt=[26,41,11,14],Vt=(function(t){function n(){var e;F()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=Ao(this,n,[].concat(o)),M()(e,"_counters",[]),M()(e,"FORMAT","codabar"),e}return ae()(n,t),B()(n,[{key:"_computeAlternatingThreshold",value:function(e,r){for(var o=Number.MAX_VALUE,i=0,u=0,l=e;l<r;l+=2)(u=this._counters[l])>i&&(i=u),u<o&&(o=u);return(o+i)/2|0}},{key:"_toPattern",value:function(e){var r=e+7;if(r>this._counters.length)return-1;for(var o=this._computeAlternatingThreshold(e,r),i=this._computeAlternatingThreshold(e+1,r),u=64,l=0,h=0,d=0;d<7;d++)l=(1&d)==0?o:i,this._counters[e+d]>l&&(h|=u),u>>=1;return h}},{key:"_isStartEnd",value:function(e){for(var r=0;r<qt.length;r++)if(qt[r]===e)return!0;return!1}},{key:"_sumCounters",value:function(e,r){for(var o=0,i=e;i<r;i++)o+=this._counters[i];return o}},{key:"_findStart",value:function(){for(var e=this._nextUnset(this._row),r=1;r<this._counters.length;r++){var o=this._toPattern(r);if(o!==-1&&this._isStartEnd(o))return{start:e+=this._sumCounters(0,r),end:e+this._sumCounters(r,r+8),startCounter:r,endCounter:r+8}}return null}},{key:"_patternToChar",value:function(e){for(var r=0;r<ct.length;r++)if(ct[r]===e)return String.fromCharCode(ut[r]);return null}},{key:"_calculatePatternLength",value:function(e){for(var r=0,o=e;o<e+7;o++)r+=this._counters[o];return r}},{key:"_verifyWhitespace",value:function(e,r){return(e-1<=0||this._counters[e-1]>=this._calculatePatternLength(e)/2)&&(r+8>=this._counters.length||this._counters[r+7]>=this._calculatePatternLength(r)/2)}},{key:"_charToPattern",value:function(e){for(var r=e.charCodeAt(0),o=0;o<ut.length;o++)if(ut[o]===r)return ct[o];return 0}},{key:"_thresholdResultPattern",value:function(e,r){for(var o,i={space:{narrow:{size:0,counts:0,min:0,max:Number.MAX_VALUE},wide:{size:0,counts:0,min:0,max:Number.MAX_VALUE}},bar:{narrow:{size:0,counts:0,min:0,max:Number.MAX_VALUE},wide:{size:0,counts:0,min:0,max:Number.MAX_VALUE}}},u=r,l=0;l<e.length;l++){o=this._charToPattern(e[l]);for(var h=6;h>=0;h--){var d=(1&h)==2?i.bar:i.space,m=(1&o)==1?d.wide:d.narrow;m.size+=this._counters[u+h],m.counts++,o>>=1}u+=8}return["space","bar"].forEach((function(y){var C=i[y];C.wide.min=Math.floor((C.narrow.size/C.narrow.counts+C.wide.size/C.wide.counts)/2),C.narrow.max=Math.ceil(C.wide.min),C.wide.max=Math.ceil((2*C.wide.size+1.5)/C.wide.counts)})),i}},{key:"_validateResult",value:function(e,r){for(var o,i=this._thresholdResultPattern(e,r),u=r,l=0;l<e.length;l++){o=this._charToPattern(e[l]);for(var h=6;h>=0;h--){var d=(1&h)==0?i.bar:i.space,m=(1&o)==1?d.wide:d.narrow,y=this._counters[u+h];if(y<m.min||y>m.max)return!1;o>>=1}u+=8}return!0}},{key:"decode",value:function(e,r){if(this._counters=this._fillCounters(),!(r=this._findStart()))return null;var o,i=r.startCounter,u=[];do{if((o=this._toPattern(i))<0)return null;var l=this._patternToChar(o);if(l===null)return null;if(u.push(l),i+=8,u.length>1&&this._isStartEnd(o))break}while(i<this._counters.length);if(u.length-2<4||!this._isStartEnd(o)||!this._verifyWhitespace(r.startCounter,i-8)||!this._validateResult(u,r.startCounter))return null;i=i>this._counters.length?this._counters.length:i;var h=r.start+this._sumCounters(r.startCounter,i-8);return{code:u.join(""),start:r.start,end:h,startInfo:r,decodedCodes:u,format:this.FORMAT}}}])})(Re);function ko(t,n,e){return n=H()(n),re()(t,(function(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch{}return(function(){return!!r})()})()?Reflect.construct(n,e||[],H()(t).constructor):n.apply(t,e))}var Gt=(function(t){function n(){var e;F()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=ko(this,n,[].concat(o)),M()(e,"CODE_SHIFT",98),M()(e,"CODE_C",99),M()(e,"CODE_B",100),M()(e,"CODE_A",101),M()(e,"START_CODE_A",103),M()(e,"START_CODE_B",104),M()(e,"START_CODE_C",105),M()(e,"STOP_CODE",106),M()(e,"CODE_PATTERN",[[2,1,2,2,2,2],[2,2,2,1,2,2],[2,2,2,2,2,1],[1,2,1,2,2,3],[1,2,1,3,2,2],[1,3,1,2,2,2],[1,2,2,2,1,3],[1,2,2,3,1,2],[1,3,2,2,1,2],[2,2,1,2,1,3],[2,2,1,3,1,2],[2,3,1,2,1,2],[1,1,2,2,3,2],[1,2,2,1,3,2],[1,2,2,2,3,1],[1,1,3,2,2,2],[1,2,3,1,2,2],[1,2,3,2,2,1],[2,2,3,2,1,1],[2,2,1,1,3,2],[2,2,1,2,3,1],[2,1,3,2,1,2],[2,2,3,1,1,2],[3,1,2,1,3,1],[3,1,1,2,2,2],[3,2,1,1,2,2],[3,2,1,2,2,1],[3,1,2,2,1,2],[3,2,2,1,1,2],[3,2,2,2,1,1],[2,1,2,1,2,3],[2,1,2,3,2,1],[2,3,2,1,2,1],[1,1,1,3,2,3],[1,3,1,1,2,3],[1,3,1,3,2,1],[1,1,2,3,1,3],[1,3,2,1,1,3],[1,3,2,3,1,1],[2,1,1,3,1,3],[2,3,1,1,1,3],[2,3,1,3,1,1],[1,1,2,1,3,3],[1,1,2,3,3,1],[1,3,2,1,3,1],[1,1,3,1,2,3],[1,1,3,3,2,1],[1,3,3,1,2,1],[3,1,3,1,2,1],[2,1,1,3,3,1],[2,3,1,1,3,1],[2,1,3,1,1,3],[2,1,3,3,1,1],[2,1,3,1,3,1],[3,1,1,1,2,3],[3,1,1,3,2,1],[3,3,1,1,2,1],[3,1,2,1,1,3],[3,1,2,3,1,1],[3,3,2,1,1,1],[3,1,4,1,1,1],[2,2,1,4,1,1],[4,3,1,1,1,1],[1,1,1,2,2,4],[1,1,1,4,2,2],[1,2,1,1,2,4],[1,2,1,4,2,1],[1,4,1,1,2,2],[1,4,1,2,2,1],[1,1,2,2,1,4],[1,1,2,4,1,2],[1,2,2,1,1,4],[1,2,2,4,1,1],[1,4,2,1,1,2],[1,4,2,2,1,1],[2,4,1,2,1,1],[2,2,1,1,1,4],[4,1,3,1,1,1],[2,4,1,1,1,2],[1,3,4,1,1,1],[1,1,1,2,4,2],[1,2,1,1,4,2],[1,2,1,2,4,1],[1,1,4,2,1,2],[1,2,4,1,1,2],[1,2,4,2,1,1],[4,1,1,2,1,2],[4,2,1,1,1,2],[4,2,1,2,1,1],[2,1,2,1,4,1],[2,1,4,1,2,1],[4,1,2,1,2,1],[1,1,1,1,4,3],[1,1,1,3,4,1],[1,3,1,1,4,1],[1,1,4,1,1,3],[1,1,4,3,1,1],[4,1,1,1,1,3],[4,1,1,3,1,1],[1,1,3,1,4,1],[1,1,4,1,3,1],[3,1,1,1,4,1],[4,1,1,1,3,1],[2,1,1,4,1,2],[2,1,1,2,1,4],[2,1,1,2,3,2],[2,3,3,1,1,1,2]]),M()(e,"SINGLE_CODE_ERROR",.64),M()(e,"AVG_CODE_ERROR",.3),M()(e,"FORMAT","code_128"),M()(e,"MODULE_INDICES",{bar:[0,2,4],space:[1,3,5]}),e}return ae()(n,t),B()(n,[{key:"_decodeCode",value:function(e,r){for(var o={error:Number.MAX_VALUE,code:-1,start:e,end:e,correction:{bar:1,space:1}},i=[0,0,0,0,0,0],u=e,l=!this._row[u],h=0,d=u;d<this._row.length;d++)if(this._row[d]^(l?1:0))i[h]++;else{if(h===i.length-1){r&&this._correct(i,r);for(var m=0;m<this.CODE_PATTERN.length;m++){var y=this._matchPattern(i,this.CODE_PATTERN[m]);y<o.error&&(o.code=m,o.error=y)}return o.end=d,o.code===-1||o.error>this.AVG_CODE_ERROR?null:(this.CODE_PATTERN[o.code]&&(o.correction.bar=this.calculateCorrection(this.CODE_PATTERN[o.code],i,this.MODULE_INDICES.bar),o.correction.space=this.calculateCorrection(this.CODE_PATTERN[o.code],i,this.MODULE_INDICES.space)),o)}i[++h]=1,l=!l}return null}},{key:"_correct",value:function(e,r){this._correctBars(e,r.bar,this.MODULE_INDICES.bar),this._correctBars(e,r.space,this.MODULE_INDICES.space)}},{key:"_findStart",value:function(){for(var e=[0,0,0,0,0,0],r=this._nextSet(this._row),o={error:Number.MAX_VALUE,code:-1,start:0,end:0,correction:{bar:1,space:1}},i=!1,u=0,l=r;l<this._row.length;l++)if(this._row[l]^(i?1:0))e[u]++;else{if(u===e.length-1){for(var h=e.reduce((function(C,b){return C+b}),0),d=this.START_CODE_A;d<=this.START_CODE_C;d++){var m=this._matchPattern(e,this.CODE_PATTERN[d]);m<o.error&&(o.code=d,o.error=m)}if(o.error<this.AVG_CODE_ERROR)return o.start=l-h,o.end=l,o.correction.bar=this.calculateCorrection(this.CODE_PATTERN[o.code],e,this.MODULE_INDICES.bar),o.correction.space=this.calculateCorrection(this.CODE_PATTERN[o.code],e,this.MODULE_INDICES.space),o;for(var y=0;y<4;y++)e[y]=e[y+2];e[4]=0,e[5]=0,u--}else u++;e[u]=1,i=!i}return null}},{key:"decode",value:function(e,r){var o=this,i=this._findStart();if(i===null)return null;var u={code:i.code,start:i.start,end:i.end,correction:{bar:i.correction.bar,space:i.correction.space}},l=[];l.push(u);for(var h=u.code,d=(function(A){switch(A){case o.START_CODE_A:return o.CODE_A;case o.START_CODE_B:return o.CODE_B;case o.START_CODE_C:return o.CODE_C;default:return null}})(u.code),m=!1,y=!1,C=y,b=!0,E=0,w=[],R=[];!m;){if(C=y,y=!1,(u=this._decodeCode(u.end,u.correction))!==null)switch(u.code!==this.STOP_CODE&&(b=!0),u.code!==this.STOP_CODE&&(w.push(u.code),h+=++E*u.code),l.push(u),d){case this.CODE_A:if(u.code<64)R.push(String.fromCharCode(32+u.code));else if(u.code<96)R.push(String.fromCharCode(u.code-64));else switch(u.code!==this.STOP_CODE&&(b=!1),u.code){case this.CODE_SHIFT:y=!0,d=this.CODE_B;break;case this.CODE_B:d=this.CODE_B;break;case this.CODE_C:d=this.CODE_C;break;case this.STOP_CODE:m=!0}break;case this.CODE_B:if(u.code<96)R.push(String.fromCharCode(32+u.code));else switch(u.code!==this.STOP_CODE&&(b=!1),u.code){case this.CODE_SHIFT:y=!0,d=this.CODE_A;break;case this.CODE_A:d=this.CODE_A;break;case this.CODE_C:d=this.CODE_C;break;case this.STOP_CODE:m=!0}break;case this.CODE_C:if(u.code<100)R.push(u.code<10?"0"+u.code:u.code);else switch(u.code!==this.STOP_CODE&&(b=!1),u.code){case this.CODE_A:d=this.CODE_A;break;case this.CODE_B:d=this.CODE_B;break;case this.STOP_CODE:m=!0}}else m=!0;C&&(d=d===this.CODE_A?this.CODE_B:this.CODE_A)}return u===null?null:(u.end=this._nextUnset(this._row,u.end),this._verifyTrailingWhitespace(u)?(h-=E*w[w.length-1])%103!==w[w.length-1]?null:R.length?(b&&R.splice(R.length-1,1),{code:R.join(""),start:i.start,end:u.end,codeset:d,startInfo:i,decodedCodes:l,endInfo:u,format:this.FORMAT}):null:null)}},{key:"_verifyTrailingWhitespace",value:function(e){var r;return(r=e.end+(e.end-e.start)/2)<this._row.length&&this._matchRange(e.end,r,0)?e:null}},{key:"calculateCorrection",value:function(e,r,o){for(var i=o.length,u=0,l=0;i--;)l+=e[o[i]],u+=r[o[i]];return l/u}}])})(Re),jo=a(10),He=a.n(jo),To=a(25),Ht=a.n(To);function Do(t,n,e){return n=H()(n),re()(t,(function(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch{}return(function(){return!!r})()})()?Reflect.construct(n,e||[],H()(t).constructor):n.apply(t,e))}var Po=new Uint16Array(Ht()("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. *$/+%").map((function(t){return t.charCodeAt(0)}))),$t=new Uint16Array([52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,148,168,162,138,42]),$e=(function(t){function n(){var e;F()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=Do(this,n,[].concat(o)),M()(e,"FORMAT","code_39"),e}return ae()(n,t),B()(n,[{key:"_findStart",value:function(){for(var e=this._nextSet(this._row),r=e,o=new Uint16Array([0,0,0,0,0,0,0,0,0]),i=0,u=!1,l=e;l<this._row.length;l++)if(this._row[l]^(u?1:0))o[i]++;else{if(i===o.length-1){if(this._toPattern(o)===148){var h=Math.floor(Math.max(0,r-(l-r)/4));if(this._matchRange(h,r,0))return{start:r,end:l}}r+=o[0]+o[1];for(var d=0;d<7;d++)o[d]=o[d+2];o[7]=0,o[8]=0,i--}else i++;o[i]=1,u=!u}return null}},{key:"_toPattern",value:function(e){for(var r=e.length,o=0,i=r,u=0;i>3;){o=this._findNextWidth(e,o),i=0;for(var l=0,h=0;h<r;h++)e[h]>o&&(l|=1<<r-1-h,i++,u+=e[h]);if(i===3){for(var d=0;d<r&&i>0;d++)if(e[d]>o&&(i--,2*e[d]>=u))return-1;return l}}return-1}},{key:"_findNextWidth",value:function(e,r){for(var o=Number.MAX_VALUE,i=0;i<e.length;i++)e[i]<o&&e[i]>r&&(o=e[i]);return o}},{key:"_patternToChar",value:function(e){for(var r=0;r<$t.length;r++)if($t[r]===e)return String.fromCharCode(Po[r]);return null}},{key:"_verifyTrailingWhitespace",value:function(e,r,o){var i=nt(o);return 3*(r-e-i)>=i}},{key:"decode",value:function(){var e=new Uint16Array([0,0,0,0,0,0,0,0,0]),r=[],o=this._findStart();if(!o)return null;var i,u,l=this._nextSet(this._row,o.end);do{e=this._toCounters(l,e);var h=this._toPattern(e);if(h<0||(i=this._patternToChar(h))===null)return null;r.push(i),u=l,l+=nt(e),l=this._nextSet(this._row,l)}while(i!=="*");return r.pop(),r.length&&this._verifyTrailingWhitespace(u,l,e)?{code:r.join(""),start:o.start,end:l,startInfo:o,decodedCodes:r,format:this.FORMAT}:null}}])})(Re);function No(t,n,e){return n=H()(n),re()(t,(function(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch{}return(function(){return!!r})()})()?Reflect.construct(n,e||[],H()(t).constructor):n.apply(t,e))}var Io=/[AEIO]/g,Xt=(function(t){function n(){var e;F()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=No(this,n,[].concat(o)),M()(e,"FORMAT","code_32_reader"),e}return ae()(n,t),B()(n,[{key:"_decodeCode32",value:function(e){if(/[^0-9BCDFGHJKLMNPQRSTUVWXYZ]/.test(e))return null;for(var r=0,o=0;o<e.length;o++)r=32*r+"0123456789BCDFGHJKLMNPQRSTUVWXYZ".indexOf(e[o]);var i="".concat(r);return i.length<9&&(i=("000000000"+i).slice(-9)),"A"+i}},{key:"_checkChecksum",value:function(e){return!!e}},{key:"decode",value:function(){var e,r,o,i,u,l=(e=n,r="decode",o=this,i=3,u=He()(H()(1&i?e.prototype:e),r,o),2&i&&typeof u=="function"?function(m){return u.apply(o,m)}:u)([]);if(!l)return null;var h=l.code;if(!h||(h=h.replace(Io,""),!this._checkChecksum(h)))return null;var d=this._decodeCode32(h);return d?(l.code=d,l):null}}])})($e);function zo(t,n,e){return n=H()(n),re()(t,(function(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch{}return(function(){return!!r})()})()?Reflect.construct(n,e||[],H()(t).constructor):n.apply(t,e))}var Uo=/[IOQ]/g,Bo=/[A-Z0-9]{17}/,Qt=(function(t){function n(){var e;F()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=zo(this,n,[].concat(o)),M()(e,"FORMAT","code_39_vin"),e}return ae()(n,t),B()(n,[{key:"_checkChecksum",value:function(e){return!!e}},{key:"decode",value:function(){var e,r,o,i,u,l=(e=n,r="decode",o=this,i=3,u=He()(H()(1&i?e.prototype:e),r,o),2&i&&typeof u=="function"?function(d){return u.apply(o,d)}:u)([]);if(!l)return null;var h=l.code;return h&&(h=h.replace(Uo,"")).match(Bo)&&this._checkChecksum(h)?(l.code=h,l):null}}])})($e);function Fo(t,n,e){return n=H()(n),re()(t,(function(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch{}return(function(){return!!r})()})()?Reflect.construct(n,e||[],H()(t).constructor):n.apply(t,e))}var st=new Uint16Array(Ht()("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*").map((function(t){return t.charCodeAt(0)}))),Yt=new Uint16Array([276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350]),Zt=(function(t){function n(){var e;F()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=Fo(this,n,[].concat(o)),M()(e,"FORMAT","code_93"),e}return ae()(n,t),B()(n,[{key:"_patternToChar",value:function(e){for(var r=0;r<Yt.length;r++)if(Yt[r]===e)return String.fromCharCode(st[r]);return null}},{key:"_toPattern",value:function(e){for(var r=e.length,o=e.reduce((function(d,m){return d+m}),0),i=0,u=0;u<r;u++){var l=Math.round(9*e[u]/o);if(l<1||l>4)return-1;if((1&u)==0)for(var h=0;h<l;h++)i=i<<1|1;else i<<=l}return i}},{key:"_findStart",value:function(){for(var e=this._nextSet(this._row),r=e,o=new Uint16Array([0,0,0,0,0,0]),i=0,u=!1,l=e;l<this._row.length;l++)if(this._row[l]^(u?1:0))o[i]++;else{if(i===o.length-1){if(this._toPattern(o)===350){var h=Math.floor(Math.max(0,r-(l-r)/4));if(this._matchRange(h,r,0))return{start:r,end:l}}r+=o[0]+o[1];for(var d=0;d<4;d++)o[d]=o[d+2];o[4]=0,o[5]=0,i--}else i++;o[i]=1,u=!u}return null}},{key:"_verifyEnd",value:function(e,r){return!(e===r||!this._row[r])}},{key:"_decodeExtended",value:function(e){for(var r=e.length,o=[],i=0;i<r;i++){var u=e[i];if(u>="a"&&u<="d"){if(i>r-2)return null;var l=e[++i],h=l.charCodeAt(0),d=void 0;switch(u){case"a":if(!(l>="A"&&l<="Z"))return null;d=String.fromCharCode(h-64);break;case"b":if(l>="A"&&l<="E")d=String.fromCharCode(h-38);else if(l>="F"&&l<="J")d=String.fromCharCode(h-11);else if(l>="K"&&l<="O")d=String.fromCharCode(h+16);else if(l>="P"&&l<="S")d=String.fromCharCode(h+43);else{if(!(l>="T"&&l<="Z"))return null;d=""}break;case"c":if(l>="A"&&l<="O")d=String.fromCharCode(h-32);else{if(l!=="Z")return null;d=":"}break;case"d":if(!(l>="A"&&l<="Z"))return null;d=String.fromCharCode(h+32);break;default:return console.warn("* code_93_reader _decodeExtended hit default case, this may be an error",d),null}o.push(d)}else o.push(u)}return o}},{key:"_matchCheckChar",value:function(e,r,o){var i=e.slice(0,r),u=i.length,l=i.reduce((function(h,d,m){return h+((-1*m+(u-1))%o+1)*st.indexOf(d.charCodeAt(0))}),0);return st[l%47]===e[r].charCodeAt(0)}},{key:"_verifyChecksums",value:function(e){return this._matchCheckChar(e,e.length-2,20)&&this._matchCheckChar(e,e.length-1,15)}},{key:"decode",value:function(e,r){if(!(r=this._findStart()))return null;var o,i,u=new Uint16Array([0,0,0,0,0,0]),l=[],h=this._nextSet(this._row,r.end);do{u=this._toCounters(h,u);var d=this._toPattern(u);if(d<0||(i=this._patternToChar(d))===null)return null;l.push(i),o=h,h+=nt(u),h=this._nextSet(this._row,h)}while(i!=="*");return l.pop(),l.length&&this._verifyEnd(o,h)&&this._verifyChecksums(l)?(l=l.slice(0,l.length-2),(l=this._decodeExtended(l))===null?null:{code:l.join(""),start:r.start,end:h,startInfo:r,decodedCodes:l,format:this.FORMAT}):null}}])})(Re);function Kt(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable}))),e.push.apply(e,r)}return e}function ft(t){for(var n=1;n<arguments.length;n++){var e=arguments[n]!=null?arguments[n]:{};n%2?Kt(Object(e),!0).forEach((function(r){M()(t,r,e[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):Kt(Object(e)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))}))}return t}function Wo(t,n,e){return n=H()(n),re()(t,(function(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch{}return(function(){return!!r})()})()?Reflect.construct(n,e||[],H()(t).constructor):n.apply(t,e))}var Lo=[1,1,1],Jt=[1,1,1,1,1],qo=[1,1,2],er=[[3,2,1,1],[2,2,2,1],[2,1,2,2],[1,4,1,1],[1,1,3,2],[1,2,3,1],[1,1,1,4],[1,3,1,2],[1,2,1,3],[3,1,1,2],[1,1,2,3],[1,2,2,2],[2,2,1,2],[1,1,4,1],[2,3,1,1],[1,3,2,1],[4,1,1,1],[2,1,3,1],[3,1,2,1],[2,1,1,3]],tr=[0,11,13,14,19,25,28,21,22,26],Se=(function(t){function n(e,r){var o;return F()(this,n),o=Wo(this,n,[S()({supplements:[]},e),r]),M()(o,"FORMAT","ean_13"),M()(o,"SINGLE_CODE_ERROR",.7),M()(o,"STOP_PATTERN",[1,1,1]),o}return ae()(n,t),B()(n,[{key:"_findPattern",value:function(e,r,o,i){var u=new Array(e.length).fill(0),l={error:Number.MAX_VALUE,start:0,end:0},h=0;r||(r=this._nextSet(this._row));for(var d=!1,m=r;m<this._row.length;m++)if(this._row[m]^(o?1:0))u[h]+=1;else{if(h===u.length-1){var y=this._matchPattern(u,e);if(y<.48&&l.error&&y<l.error)return d=!0,l.error=y,l.start=m-u.reduce((function(b,E){return b+E}),0),l.end=m,l;if(i){for(var C=0;C<u.length-2;C++)u[C]=u[C+2];u[u.length-2]=0,u[u.length-1]=0,h--}}else h++;u[h]=1,o=!o}return d?l:null}},{key:"_decodeCode",value:function(e,r){var o=[0,0,0,0],i=e,u={error:Number.MAX_VALUE,code:-1,start:e,end:e},l=!this._row[i],h=0;r||(r=er.length);for(var d=i;d<this._row.length;d++)if(this._row[d]^(l?1:0))o[h]++;else{if(h===o.length-1){for(var m=0;m<r;m++){var y=this._matchPattern(o,er[m]);u.end=d,y<u.error&&(u.code=m,u.error=y)}return u.error>.48?null:u}o[++h]=1,l=!l}return null}},{key:"_findStart",value:function(){for(var e=this._nextSet(this._row),r=null;!r;){if(!(r=this._findPattern(Lo,e,!1,!0)))return null;var o=r.start-(r.end-r.start);if(o>=0&&this._matchRange(o,r.start,0))return r;e=r.end,r=null}return null}},{key:"_calculateFirstDigit",value:function(e){for(var r=0;r<tr.length;r++)if(e===tr[r])return r;return null}},{key:"_decodePayload",value:function(e,r,o){for(var i=ft({},e),u=0,l=0;l<6;l++){if(!(i=this._decodeCode(i.end)))return null;i.code>=10?(i.code-=10,u|=1<<5-l):u|=0<<5-l,r.push(i.code),o.push(i)}var h=this._calculateFirstDigit(u);if(h===null)return null;r.unshift(h);var d=this._findPattern(Jt,i.end,!0,!1);if(d===null||!d.end)return null;o.push(d);for(var m=0;m<6;m++){if(!(d=this._decodeCode(d.end,10)))return null;o.push(d),r.push(d.code)}return d}},{key:"_verifyTrailingWhitespace",value:function(e){var r=e.end+(e.end-e.start);return r<this._row.length&&this._matchRange(e.end,r,0)?e:null}},{key:"_findEnd",value:function(e,r){var o=this._findPattern(this.STOP_PATTERN,e,r,!1);return o!==null?this._verifyTrailingWhitespace(o):null}},{key:"_checksum",value:function(e){for(var r=0,o=e.length-2;o>=0;o-=2)r+=e[o];r*=3;for(var i=e.length-1;i>=0;i-=2)r+=e[i];return r%10==0}},{key:"_decodeExtensions",value:function(e){var r=this._nextSet(this._row,e),o=this._findPattern(qo,r,!1,!1);if(o===null)return null;for(var i=0;i<this.supplements.length;i++)try{var u=this.supplements[i].decode(this._row,o.end);if(u!==null)return{code:u.code,start:r,startInfo:o,end:u.end,decodedCodes:u.decodedCodes,format:this.supplements[i].FORMAT}}catch(l){console.error("* decodeExtensions error in ",this.supplements[i],": ",l)}return null}},{key:"decode",value:function(e,r){var o=new Array,i=new Array,u={},l=this._findStart();if(!l)return null;var h={start:l.start,end:l.end};if(i.push(h),!(h=this._decodePayload(h,o,i))||!(h=this._findEnd(h.end,!1))||(i.push(h),!this._checksum(o)))return null;if(this.supplements.length>0){var d=this._decodeExtensions(h.end);if(!d||!d.decodedCodes)return null;var m=d.decodedCodes[d.decodedCodes.length-1],y={start:m.start+((m.end-m.start)/2|0),end:m.end};if(!this._verifyTrailingWhitespace(y))return null;u={supplement:d,code:o.join("")+d.code}}return ft(ft({code:o.join(""),start:l.start,end:h.end,startInfo:l,decodedCodes:i},u),{},{format:this.FORMAT})}}])})(Re);function Vo(t,n,e){return n=H()(n),re()(t,(function(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch{}return(function(){return!!r})()})()?Reflect.construct(n,e||[],H()(t).constructor):n.apply(t,e))}var rr=(function(t){function n(){var e;F()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=Vo(this,n,[].concat(o)),M()(e,"FORMAT","ean_2"),e}return ae()(n,t),B()(n,[{key:"decode",value:function(e,r){e&&(this._row=e);var o=0,i=r,u=this._row.length,l=[],h=[],d=null;if(i===void 0)return null;for(var m=0;m<2&&i<u;m++){if(!(d=this._decodeCode(i)))return null;h.push(d),l.push(d.code%10),d.code>=10&&(o|=1<<1-m),m!==1&&(i=this._nextSet(this._row,d.end),i=this._nextUnset(this._row,i))}if(l.length!==2||parseInt(l.join(""))%4!==o)return null;var y=this._findStart();return{code:l.join(""),decodedCodes:h,end:d.end,format:this.FORMAT,startInfo:y,start:y.start}}}])})(Se);function Go(t,n,e){return n=H()(n),re()(t,(function(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch{}return(function(){return!!r})()})()?Reflect.construct(n,e||[],H()(t).constructor):n.apply(t,e))}var Ho=[24,20,18,17,12,6,3,10,9,5],nr=(function(t){function n(){var e;F()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=Go(this,n,[].concat(o)),M()(e,"FORMAT","ean_5"),e}return ae()(n,t),B()(n,[{key:"decode",value:function(e,r){if(r===void 0)return null;e&&(this._row=e);for(var o=0,i=r,u=this._row.length,l=null,h=[],d=[],m=0;m<5&&i<u;m++){if(!(l=this._decodeCode(i)))return null;d.push(l),h.push(l.code%10),l.code>=10&&(o|=1<<4-m),m!==4&&(i=this._nextSet(this._row,l.end),i=this._nextUnset(this._row,i))}if(h.length!==5||(function(C){for(var b=C.length,E=0,w=b-2;w>=0;w-=2)E+=C[w];E*=3;for(var R=b-1;R>=0;R-=2)E+=C[R];return(E*=3)%10})(h)!==(function(C){for(var b=0;b<10;b++)if(C===Ho[b])return b;return null})(o))return null;var y=this._findStart();return{code:h.join(""),decodedCodes:d,end:l.end,format:this.FORMAT,startInfo:y,start:y.start}}}])})(Se);function $o(t,n,e){return n=H()(n),re()(t,(function(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch{}return(function(){return!!r})()})()?Reflect.construct(n,e||[],H()(t).constructor):n.apply(t,e))}var or=(function(t){function n(){var e;F()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=$o(this,n,[].concat(o)),M()(e,"FORMAT","ean_8"),e}return ae()(n,t),B()(n,[{key:"_decodePayload",value:function(e,r,o){for(var i=e,u=0;u<4;u++){if(!(i=this._decodeCode(i.end,10)))return null;r.push(i.code),o.push(i)}if((i=this._findPattern(Jt,i.end,!0,!1))===null)return null;o.push(i);for(var l=0;l<4;l++){if(!(i=this._decodeCode(i.end,10)))return null;o.push(i),r.push(i.code)}return i}}])})(Se);function Xo(t,n,e){return n=H()(n),re()(t,(function(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch{}return(function(){return!!r})()})()?Reflect.construct(n,e||[],H()(t).constructor):n.apply(t,e))}var ar=(function(t){function n(e){var r;return F()(this,n),r=Xo(this,n,[S()({normalizeBarSpaceWidth:!1},e)]),M()(r,"barSpaceRatio",[1,1]),M()(r,"SINGLE_CODE_ERROR",.78),M()(r,"AVG_CODE_ERROR",.38),M()(r,"START_PATTERN",[1,1,1,1]),M()(r,"STOP_PATTERN",[1,1,3]),M()(r,"CODE_PATTERN",[[1,1,3,3,1],[3,1,1,1,3],[1,3,1,1,3],[3,3,1,1,1],[1,1,3,1,3],[3,1,3,1,1],[1,3,3,1,1],[1,1,1,3,3],[3,1,1,3,1],[1,3,1,3,1]]),M()(r,"MAX_CORRECTION_FACTOR",5),M()(r,"FORMAT","i2of5"),e.normalizeBarSpaceWidth&&(r.SINGLE_CODE_ERROR=.38,r.AVG_CODE_ERROR=.09),r.config=e,re()(r,r)}return ae()(n,t),B()(n,[{key:"_matchPattern",value:function(e,r){if(this.config.normalizeBarSpaceWidth){for(var o=[0,0],i=[0,0],u=[0,0],l=this.MAX_CORRECTION_FACTOR,h=1/l,d=0;d<e.length;d++)o[d%2]+=e[d],i[d%2]+=r[d];u[0]=i[0]/o[0],u[1]=i[1]/o[1],u[0]=Math.max(Math.min(u[0],l),h),u[1]=Math.max(Math.min(u[1],l),h),this.barSpaceRatio=u;for(var m=0;m<e.length;m++)e[m]*=this.barSpaceRatio[m%2]}return(y=n,C="_matchPattern",b=this,E=3,w=He()(H()(1&E?y.prototype:y),C,b),2&E&&typeof w=="function"?function(R){return w.apply(b,R)}:w)([e,r]);var y,C,b,E,w}},{key:"_findPattern",value:function(e,r){var o=arguments.length>2&&arguments[2]!==void 0&&arguments[2],i=arguments.length>3&&arguments[3]!==void 0&&arguments[3],u=new Array(e.length).fill(0),l=0,h={error:Number.MAX_VALUE,start:0,end:0},d=this.AVG_CODE_ERROR;o=o||!1,i=i||!1,r||(r=this._nextSet(this._row));for(var m=r;m<this._row.length;m++)if(this._row[m]^(o?1:0))u[l]++;else{if(l===u.length-1){var y=u.reduce((function(E,w){return E+w}),0),C=this._matchPattern(u,e);if(C<d)return h.error=C,h.start=m-y,h.end=m,h;if(!i)return null;for(var b=0;b<u.length-2;b++)u[b]=u[b+2];u[u.length-2]=0,u[u.length-1]=0,l--}else l++;u[l]=1,o=!o}return null}},{key:"_findStart",value:function(){for(var e=0,r=this._nextSet(this._row),o=null,i=1;!o;){if(!(o=this._findPattern(this.START_PATTERN,r,!1,!0)))return null;if(i=Math.floor((o.end-o.start)/4),(e=o.start-10*i)>=0&&this._matchRange(e,o.start,0))return o;r=o.end,o=null}return null}},{key:"_verifyTrailingWhitespace",value:function(e){var r=e.end+(e.end-e.start)/2;return r<this._row.length&&this._matchRange(e.end,r,0)?e:null}},{key:"_findEnd",value:function(){this._row.reverse();var e=this._findPattern(this.STOP_PATTERN);if(this._row.reverse(),e===null)return null;var r=e.start;return e.start=this._row.length-e.end,e.end=this._row.length-r,e!==null?this._verifyTrailingWhitespace(e):null}},{key:"_decodePair",value:function(e){for(var r=[],o=0;o<e.length;o++){var i=this._decodeCode(e[o]);if(!i)return null;r.push(i)}return r}},{key:"_decodeCode",value:function(e){for(var r=this.AVG_CODE_ERROR,o={error:Number.MAX_VALUE,code:-1,start:0,end:0},i=0;i<this.CODE_PATTERN.length;i++){var u=this._matchPattern(e,this.CODE_PATTERN[i]);u<o.error&&(o.code=i,o.error=u)}return o.error<r?o:null}},{key:"_decodePayload",value:function(e,r,o){for(var i=0,u=e.length,l=[[0,0,0,0,0],[0,0,0,0,0]],h=null;i<u;){for(var d=0;d<5;d++)l[0][d]=e[i]*this.barSpaceRatio[0],l[1][d]=e[i+1]*this.barSpaceRatio[1],i+=2;if(!(h=this._decodePair(l)))return null;for(var m=0;m<h.length;m++)r.push(h[m].code+""),o.push(h[m])}return h}},{key:"_verifyCounterLength",value:function(e){return e.length%10==0}},{key:"decode",value:function(e,r){var o=new Array,i=new Array,u=this._findStart();if(!u)return null;i.push(u);var l=this._findEnd();if(!l)return null;var h=this._fillCounters(u.end,l.start,!1);return this._verifyCounterLength(h)&&this._decodePayload(h,o,i)?o.length%2!=0||o.length<6?null:(i.push(l),{code:o.join(""),start:u.start,end:l.end,startInfo:u,decodedCodes:i,format:this.FORMAT}):null}}])})(Re);function ir(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable}))),e.push.apply(e,r)}return e}function Qo(t,n,e){return n=H()(n),re()(t,(function(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch{}return(function(){return!!r})()})()?Reflect.construct(n,e||[],H()(t).constructor):n.apply(t,e))}function ur(t,n,e,r){var o=He()(H()(t.prototype),n,e);return 2&r&&typeof o=="function"?function(i){return o.apply(e,i)}:o}var cr=(function(t){function n(){var e;F()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=Qo(this,n,[].concat(o)),M()(e,"CODE_FREQUENCY",[[56,52,50,49,44,38,35,42,41,37],[7,11,13,14,19,25,28,21,22,26]]),M()(e,"STOP_PATTERN",[1/6*7,1/6*7,1/6*7,1/6*7,1/6*7,1/6*7]),M()(e,"FORMAT","upc_e"),e}return ae()(n,t),B()(n,[{key:"_decodePayload",value:function(e,r,o){for(var i=(function(h){for(var d=1;d<arguments.length;d++){var m=arguments[d]!=null?arguments[d]:{};d%2?ir(Object(m),!0).forEach((function(y){M()(h,y,m[y])})):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(m)):ir(Object(m)).forEach((function(y){Object.defineProperty(h,y,Object.getOwnPropertyDescriptor(m,y))}))}return h})({},e),u=0,l=0;l<6;l++){if(!(i=this._decodeCode(i.end)))return null;i.code>=10&&(i.code=i.code-10,u|=1<<5-l),r.push(i.code),o.push(i)}return this._determineParity(u,r)?i:null}},{key:"_determineParity",value:function(e,r){for(var o=0;o<this.CODE_FREQUENCY.length;o++)for(var i=0;i<this.CODE_FREQUENCY[o].length;i++)if(e===this.CODE_FREQUENCY[o][i])return r.unshift(o),r.push(i),!0;return!1}},{key:"_convertToUPCA",value:function(e){var r=[e[0]],o=e[e.length-2];return(r=o<=2?r.concat(e.slice(1,3)).concat([o,0,0,0,0]).concat(e.slice(3,6)):o===3?r.concat(e.slice(1,4)).concat([0,0,0,0,0]).concat(e.slice(4,6)):o===4?r.concat(e.slice(1,5)).concat([0,0,0,0,0,e[5]]):r.concat(e.slice(1,6)).concat([0,0,0,0,o])).push(e[e.length-1]),r}},{key:"_checksum",value:function(e){return ur(n,"_checksum",this,3)([this._convertToUPCA(e)])}},{key:"_findEnd",value:function(e,r){return ur(n,"_findEnd",this,3)([e,!0])}},{key:"_verifyTrailingWhitespace",value:function(e){var r=e.end+(e.end-e.start)/2;return r<this._row.length&&this._matchRange(e.end,r,0)?e:null}}])})(Se);function Yo(t,n,e){return n=H()(n),re()(t,(function(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch{}return(function(){return!!r})()})()?Reflect.construct(n,e||[],H()(t).constructor):n.apply(t,e))}var sr=(function(t){function n(){var e;F()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=Yo(this,n,[].concat(o)),M()(e,"FORMAT","upc_a"),e}return ae()(n,t),B()(n,[{key:"decode",value:function(e,r){var o=Se.prototype.decode.call(this);return o&&o.code&&o.code.length===13&&o.code.charAt(0)==="0"?(o.code=o.code.substring(1),o):null}}])})(Se),Xe={},Qe={UP:1,DOWN:-1};Xe.getBarcodeLine=function(t,n,e){var r,o,i,u,l,h=0|n.x,d=0|n.y,m=0|e.x,y=0|e.y,C=Math.abs(y-d)>Math.abs(m-h),b=[],E=t.data,w=t.size.x,R=255,A=0;function k(X,q){l=E[q*w+X],R=l<R?l:R,A=l>A?l:A,b.push(l)}C&&(i=h,h=d,d=i,i=m,m=y,y=i),h>m&&(i=h,h=m,m=i,i=d,d=y,y=i);var W=m-h,L=Math.abs(y-d);r=W/2|0,o=d;var $=d<y?1:-1;for(u=h;u<m;u++)C?k(o,u):k(u,o),(r-=L)<0&&(o+=$,r+=W);return{line:b,min:R,max:A}},Xe.toBinaryLine=function(t){var n,e,r,o,i,u,l=t.min,h=t.max,d=t.line,m=l+(h-l)/2,y=[],C=(h-l)/12,b=-C;for(r=d[0]>m?Qe.UP:Qe.DOWN,y.push({pos:0,val:d[0]}),i=0;i<d.length-2;i++)r!==(o=(n=d[i+1]-d[i])+(e=d[i+2]-d[i+1])<b&&d[i+1]<1.5*m?Qe.DOWN:n+e>C&&d[i+1]>.5*m?Qe.UP:r)&&(y.push({pos:i,val:d[i]}),r=o);for(y.push({pos:d.length,val:d[d.length-1]}),u=y[0].pos;u<y[1].pos;u++)d[u]=d[u]>m?0:1;for(i=1;i<y.length-1;i++)for(C=y[i+1].val>y[i].val?y[i].val+(y[i+1].val-y[i].val)/3*2|0:y[i+1].val+(y[i].val-y[i+1].val)/3|0,u=y[i].pos;u<y[i+1].pos;u++)d[u]=d[u]>C?0:1;return{line:d,threshold:C}},Xe.debug={printFrequency:function(t,n){var e,r=n.getContext("2d");for(n.width=t.length,n.height=256,r.beginPath(),r.strokeStyle="blue",e=0;e<t.length;e++)r.moveTo(e,255),r.lineTo(e,255-t[e]);r.stroke(),r.closePath()},printPattern:function(t,n){var e,r=n.getContext("2d");for(n.width=t.length,r.fillColor="black",e=0;e<t.length;e++)t[e]===1&&r.fillRect(e,0,1,100)}};var fr=Xe;function Zo(t,n){var e=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=(function(h,d){if(h){if(typeof h=="string")return lr(h,d);var m={}.toString.call(h).slice(8,-1);return m==="Object"&&h.constructor&&(m=h.constructor.name),m==="Map"||m==="Set"?Array.from(h):m==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(m)?lr(h,d):void 0}})(t))||n){e&&(t=e);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(h){throw h},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,u=!0,l=!1;return{s:function(){e=e.call(t)},n:function(){var h=e.next();return u=h.done,h},e:function(h){l=!0,i=h},f:function(){try{u||e.return==null||e.return()}finally{if(l)throw i}}}}function lr(t,n){(n==null||n>t.length)&&(n=t.length);for(var e=0,r=Array(n);e<n;e++)r[e]=t[e];return r}var Le={code_128_reader:Gt,ean_reader:Se,ean_5_reader:nr,ean_2_reader:rr,ean_8_reader:or,code_39_reader:$e,code_39_vin_reader:Qt,codabar_reader:Vt,upc_reader:sr,upc_e_reader:cr,i2of5_reader:ar,"2of5_reader":Lt,code_93_reader:Zt,code_32_reader:Xt},lt={registerReader:function(t,n){Le[t]=n},create:function(t,n){var e=[];function r(){t.readers.forEach((function(h){var d,m={},y=[];_()(h)==="object"?(d=h.format,m=h.config):typeof h=="string"&&(d=h),m.supplements&&(y=m.supplements.map((function(b){return new Le[b]})));try{var C=new Le[d](m,y);e.push(C)}catch(b){throw console.error("* Error constructing reader ",d,b),b}}))}function o(h){var d,m=null,y=fr.getBarcodeLine(n,h[0],h[1]);for(fr.toBinaryLine(y),d=0;d<e.length&&m===null;d++)m=e[d].decodePattern(y.line);return m===null?null:{codeResult:m,barcodeLine:y}}function i(h){return u.apply(this,arguments)}function u(){return(u=Oe()(J.a.mark((function h(d){var m,y,C,b,E;return J.a.wrap((function(w){for(;;)switch(w.prev=w.next){case 0:m=null,y=Zo(e),w.prev=1,y.s();case 2:if((C=y.n()).done){w.next=5;break}if(!(b=C.value).decodeImage){w.next=4;break}return w.next=3,b.decodeImage(d);case 3:if(!(m=w.sent)){w.next=4;break}return w.abrupt("continue",5);case 4:w.next=2;break;case 5:w.next=7;break;case 6:w.prev=6,E=w.catch(1),y.e(E);case 7:return w.prev=7,y.f(),w.finish(7);case 8:return w.abrupt("return",m);case 9:case"end":return w.stop()}}),h,null,[[1,6,7,8]])})))).apply(this,arguments)}function l(h){var d,m,y=(function(b){return Math.sqrt(Math.pow(Math.abs(b[1].y-b[0].y),2)+Math.pow(Math.abs(b[1].x-b[0].x),2))})(d=(function(b){return[{x:(b[1][0]-b[0][0])/2+b[0][0],y:(b[1][1]-b[0][1])/2+b[0][1]},{x:(b[3][0]-b[2][0])/2+b[2][0],y:(b[3][1]-b[2][1])/2+b[2][1]}]})(h)),C=Math.atan2(d[1].y-d[0].y,d[1].x-d[0].x);return(d=(function(b,E,w){function R(A){var k=A*Math.sin(E),W=A*Math.cos(E);b[0].y-=k,b[0].x-=W,b[1].y+=k,b[1].x+=W}for(R(w);w>1&&(!n.inImageWithBorder(b[0])||!n.inImageWithBorder(b[1]));)R(-(w-=Math.ceil(w/2)));return b})(d,C,Math.floor(.1*y)))===null?null:((m=o(d))===null&&(m=(function(b,E,w){var R,A,k,W=Math.sqrt(Math.pow(b[1][0]-b[0][0],2)+Math.pow(b[1][1]-b[0][1],2)),L=null,$=Math.sin(w),X=Math.cos(w);for(R=1;R<16&&L===null;R++)k={y:(A=W/16*R*(R%2==0?-1:1))*$,x:A*X},E[0].y+=k.x,E[0].x-=k.y,E[1].y+=k.x,E[1].x-=k.y,L=o(E);return L})(h,d,C)),m===null?null:{codeResult:m.codeResult,line:d,angle:C,pattern:m.barcodeLine.line,threshold:m.barcodeLine.threshold})}return r(),{decodeFromBoundingBox:function(h){return l(h)},decodeFromBoundingBoxes:function(h){var d,m,y=[],C=t.multiple;for(d=0;d<h.length;d++){var b=h[d];if((m=l(b)||{}).box=b,C)y.push(m);else if(m.codeResult)return m}return{barcodes:y}},decodeFromImage:function(h){return Oe()(J.a.mark((function d(){var m;return J.a.wrap((function(y){for(;;)switch(y.prev=y.next){case 0:return y.next=1,i(h);case 1:return m=y.sent,y.abrupt("return",m);case 2:case"end":return y.stop()}}),d)})))()},registerReader:function(h,d){if(Le[h])throw new Error("cannot register existing reader",h);Le[h]=d},setReaders:function(h){t.readers=h,e.length=0,r()}}}},ke=(function(){var t={};function n(o){return t[o]||(t[o]={subscribers:[]}),t[o]}function e(o,i){o.async?setTimeout((function(){o.callback(i)}),4):o.callback(i)}function r(o,i,u){var l;if(typeof i=="function")l={callback:i,async:u};else if(!(l=i).callback)throw new Error("Callback was not specified on options");n(o).subscribers.push(l)}return{subscribe:function(o,i,u){return r(o,i,u)},publish:function(o,i){var u=n(o),l=u.subscribers;l.filter((function(h){return!!h.once})).forEach((function(h){e(h,i)})),u.subscribers=l.filter((function(h){return!h.once})),u.subscribers.forEach((function(h){e(h,i)}))},once:function(o,i){var u=arguments.length>2&&arguments[2]!==void 0&&arguments[2];r(o,{callback:i,async:u,once:!0})},unsubscribe:function(o,i){if(o){var u=n(o);u.subscribers=u&&i?u.subscribers.filter((function(l){return l.callback!==i})):[]}else t={}}}})(),Ko=a(59),Jo=a.n(Ko),ea=a(60);function ta(t,n,e){return n=H()(n),re()(t,(function(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch{}return(function(){return!!r})()})()?Reflect.construct(n,e||[],H()(t).constructor):n.apply(t,e))}var ze,dt=(function(t){function n(e,r){var o;return F()(this,n),o=ta(this,n,[e]),M()(o,"code",void 0),o.code=r,Object.setPrototypeOf(o,n.prototype),o}return ae()(n,t),B()(n)})(a.n(ea)()(Error)),dr="This may mean that the user has declined camera access, or the browser does not support media APIs. If you are running in iOS, you must use Safari.";function ra(){try{return navigator.mediaDevices.enumerateDevices()}catch{var t=new dt("enumerateDevices is not defined. ".concat(dr),-1);return Promise.reject(t)}}function na(t){try{return navigator.mediaDevices.getUserMedia(t)}catch{var n=new dt("getUserMedia is not defined. ".concat(dr),-1);return Promise.reject(n)}}function oa(t){return new Promise((function(n,e){var r=10;(function o(){r>0?t.videoWidth>10&&t.videoHeight>10?n():window.setTimeout(o,500):e(new dt("Unable to play video stream. Is webcam working?",-1)),r--})()}))}function aa(t,n){return hr.apply(this,arguments)}function hr(){return(hr=Oe()(J.a.mark((function t(n,e){var r;return J.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=1,na(e);case 1:if(r=o.sent,ze=r,!n){o.next=2;break}return n.setAttribute("autoplay","true"),n.setAttribute("muted","true"),n.setAttribute("playsinline","true"),n.srcObject=r,n.addEventListener("loadedmetadata",(function(){n.play().catch((function(i){console.warn("* Error while trying to play video stream:",i)}))})),o.abrupt("return",oa(n));case 2:return o.abrupt("return",Promise.resolve());case 3:case"end":return o.stop()}}),t)})))).apply(this,arguments)}function ia(t){var n=Jo()(t,["width","height","facingMode","aspectRatio","deviceId"]);return t.minAspectRatio!==void 0&&t.minAspectRatio>0&&(n.aspectRatio=t.minAspectRatio,console.log("WARNING: Constraint 'minAspectRatio' is deprecated; Use 'aspectRatio' instead")),t.facing!==void 0&&(n.facingMode=t.facing,console.log("WARNING: Constraint 'facing' is deprecated. Use 'facingMode' instead'")),n}function ua(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=ia(t);return n&&n.deviceId&&n.facingMode&&delete n.facingMode,Promise.resolve({audio:!1,video:n})}function pr(){return(pr=Oe()(J.a.mark((function t(){var n;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,ra();case 1:return n=e.sent,e.abrupt("return",n.filter((function(r){return r.kind==="videoinput"})));case 2:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function Ye(){if(!ze)return null;var t=ze.getVideoTracks();return t&&t!=null&&t.length?t[0]:null}var qe={requestedVideoElement:null,request:function(t,n){return Oe()(J.a.mark((function e(){var r;return J.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return qe.requestedVideoElement=t,o.next=1,ua(n);case 1:return r=o.sent,o.abrupt("return",aa(t,r));case 2:case"end":return o.stop()}}),e)})))()},release:function(){var t=ze&&ze.getVideoTracks();return qe.requestedVideoElement!==null&&qe.requestedVideoElement.pause(),new Promise((function(n){setTimeout((function(){t&&t.length&&t.forEach((function(e){return e.stop()})),ze=null,qe.requestedVideoElement=null,n()}),0)}))},enumerateVideoDevices:function(){return pr.apply(this,arguments)},getActiveStreamLabel:function(){var t=Ye();return t?t.label:""},getActiveTrack:Ye,disableTorch:function(){return Oe()(J.a.mark((function t(){var n,e;return J.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n=Ye())){r.next=4;break}return r.prev=1,r.next=2,n.applyConstraints({advanced:[{torch:!1}]});case 2:r.next=4;break;case 3:throw r.prev=3,(e=r.catch(1))instanceof OverconstrainedError&&console.warn("quagga2/CameraAccess: Torch not supported on this device"),e;case 4:case"end":return r.stop()}}),t,null,[[1,3]])})))()},enableTorch:function(){return Oe()(J.a.mark((function t(){var n,e;return J.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n=Ye())){r.next=4;break}return r.prev=1,r.next=2,n.applyConstraints({advanced:[{torch:!0}]});case 2:r.next=4;break;case 3:throw r.prev=3,(e=r.catch(1))instanceof OverconstrainedError&&console.warn("quagga2/CameraAccess: Torch not supported on this device"),e;case 4:case"end":return r.stop()}}),t,null,[[1,3]])})))()}},Ze=qe,vr={create:function(t){var n,e=document.createElement("canvas"),r=e.getContext("2d",{willReadFrequently:!!t.willReadFrequently}),o=[],i=(n=t.capacity)!==null&&n!==void 0?n:20,u=t.capture===!0;function l(h){return!!i&&h&&!(function(d,m){return m&&m.some((function(y){return Object.keys(y).every((function(C){return y[C]===d[C]}))}))})(h,t.blacklist)&&(function(d,m){return typeof m!="function"||m(d)})(h,t.filter)}return{addResult:function(h,d,m){var y={};l(m)&&(i--,y.codeResult=m,u&&(e.width=d.x,e.height=d.y,it.drawImage(h,d,r),y.frame=e.toDataURL()),o.push(y))},getResults:function(){return o}}}},ca={inputStream:{name:"Live",type:"LiveStream",constraints:{width:640,height:480,facingMode:"environment"},area:{top:"0%",right:"0%",left:"0%",bottom:"0%"},singleChannel:!1},locate:!0,numOfWorkers:4,decoder:{readers:["code_128_reader"]},locator:{halfSample:!0,patchSize:"medium"}},mr=Math.PI/180,xr={};xr.create=function(t,n){var e,r={},o=t.getConfig(),i=(ot(t.getRealWidth(),t.getRealHeight()),t.getCanvasSize()),u=ot(t.getWidth(),t.getHeight()),l=t.getTopRight(),h=l.x,d=l.y,m=null,y=null,C=o.willReadFrequently;return(e=n||document.createElement("canvas")).width=i.x,e.height=i.y,m=e.getContext("2d",{willReadFrequently:!!C}),y=new Uint8Array(u.x*u.y),r.attachData=function(b){y=b},r.getData=function(){return y},r.grab=function(){var b,E=o.halfSample,w=t.getFrame(),R=w,A=0;if(R){if((function(k,W,L){k.width!==W.x&&(k.width=W.x),k.height!==W.y&&(k.height=W.y)})(e,i,o.debug),o.type==="ImageStream"&&(R=w.img,w.tags&&w.tags.orientation))switch(w.tags.orientation){case 6:A=90*mr;break;case 8:A=-90*mr}return A!==0?(m.translate(i.x/2,i.y/2),m.rotate(A),m.drawImage(R,-i.y/2,-i.x/2,i.y,i.x),m.rotate(-A),m.translate(-i.x/2,-i.y/2)):m.drawImage(R,0,0,i.x,i.y),b=m.getImageData(h,d,u.x,u.y).data,E?(function(k,W,L){for(var $,X=0,q=W.x,Z=Math.floor(k.length/4),vt=W.x/2,kr=0,jr=W.x;q<Z;){for($=0;$<vt;$++)L[kr]=(.299*k[4*X+0]+.587*k[4*X+1]+.114*k[4*X+2]+(.299*k[4*(X+1)+0]+.587*k[4*(X+1)+1]+.114*k[4*(X+1)+2])+(.299*k[4*q+0]+.587*k[4*q+1]+.114*k[4*q+2])+(.299*k[4*(q+1)+0]+.587*k[4*(q+1)+1]+.114*k[4*(q+1)+2]))/4,kr++,X+=2,q+=2;X+=jr,q+=jr}})(b,u,y):xo(b,y,o),!0}return!1},r.getSize=function(){return u},r};var sa=xr,Ke={274:"orientation"},yr=Object.keys(Ke).map((function(t){return Ke[t]}));function fa(t){return new Promise((function(n){var e=new FileReader;e.onload=function(r){return n(r.target.result)},e.readAsArrayBuffer(t)}))}function la(t){return new Promise((function(n,e){var r=new XMLHttpRequest;r.open("GET",t,!0),r.responseType="blob",r.onreadystatechange=function(){r.readyState!==XMLHttpRequest.DONE||r.status!==200&&r.status!==0||n(this.response)},r.onerror=e,r.send()}))}function da(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:yr,e=new DataView(t),r=t.byteLength,o=n.reduce((function(u,l){var h=Object.keys(Ke).filter((function(d){return Ke[d]===l}))[0];return h&&(u[h]=l),u}),{}),i=2;if(e.getUint8(0)!==255||e.getUint8(1)!==216)return!1;for(;i<r;){if(e.getUint8(i)!==255)return!1;if(e.getUint8(i+1)===225)return ha(e,i+4,o);i+=2+e.getUint16(i+2)}return!1}function ha(t,n,e){if((function(u,l,h){for(var d="",m=l;m<l+h;m++)d+=String.fromCharCode(u.getUint8(m));return d})(t,n,4)!=="Exif")return!1;var r,o=n+6;if(t.getUint16(o)===18761)r=!1;else{if(t.getUint16(o)!==19789)return!1;r=!0}if(t.getUint16(o+2,!r)!==42)return!1;var i=t.getUint32(o+4,!r);return!(i<8)&&(function(u,l,h,d,m){for(var y=u.getUint16(h,!m),C={},b=0;b<y;b++){var E=h+12*b+2,w=d[u.getUint16(E,!m)];w&&(C[w]=pa(u,E,l,h,m))}return C})(t,o,o+i,e,r)}function pa(t,n,e,r,o){var i=t.getUint16(n+2,!o),u=t.getUint32(n+4,!o);switch(i){case 3:if(u===1)return t.getUint16(n+8,!o)}return null}var gr={};function va(t,n){t.onload=function(){n.loaded(this)}}gr.load=function(t,n,e,r,o,i){var u,l,h,d=new Array(r),m=new Array(d.length);if(o===!1)d[0]=t;else for(u=0;u<d.length;u++)h=e+u,d[u]="".concat(t,"image-").concat("00".concat(h).slice(-3),".jpg");for(m.notLoaded=[],m.addImage=function(y){m.notLoaded.push(y)},m.loaded=function(y){for(var C=m.notLoaded,b=0;b<C.length;b++)if(C[b]===y){C.splice(b,1);for(var E=0;E<d.length;E++){var w=d[E].substr(d[E].lastIndexOf("/"));if(y.src.lastIndexOf(w)!==-1){m[E]={img:y};break}}break}C.length===0&&(o===!1?(function(R){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:yr;return/^blob:/i.test(R)?la(R).then(fa).then((function(k){return da(k,A)})):Promise.resolve(null)})(t,["orientation"]).then((function(R){m[0].tags=R,n(m)})).catch((function(R){console.log(R),n(m)})):n(m))},u=0;u<d.length;u++)l=new Image,m.addImage(l),va(l,m),l.src=d[u]};var ma=gr,_r={createVideoStream:function(t){console.warn("**** InputStreamBrowser createVideoStream");var n,e,r=null,o=["canrecord","ended"],i={},u={x:0,y:0,type:"Point"},l={x:0,y:0,type:"XYSize"},h={getRealWidth:function(){return t.videoWidth},getRealHeight:function(){return t.videoHeight},getWidth:function(){return n},getHeight:function(){return e},setWidth:function(d){n=d},setHeight:function(d){e=d},setInputStream:function(d){r=d,this.setAttribute("src",d.src!==void 0?d.src:"")},ended:function(){return t.ended},getConfig:function(){return r},setAttribute:function(d,m){t&&t.setAttribute(d,m)},pause:function(){t.pause()},play:function(){t.play()},setCurrentTime:function(d){var m;((m=r)===null||m===void 0?void 0:m.type)!=="LiveStream"&&this.setAttribute("currentTime",d.toString())},addEventListener:function(d,m,y){o.indexOf(d)!==-1?(i[d]||(i[d]=[]),i[d].push(m)):t.addEventListener(d,m,y)},clearEventHandlers:function(){o.forEach((function(d){var m=i[d];m&&m.length>0&&m.forEach((function(y){t.removeEventListener(d,y)}))}))},trigger:function(d,m){var y,C,b,E,w,R=i[d];if(d==="canrecord"&&(E=t.videoWidth,w=t.videoHeight,n=(C=r)!==null&&C!==void 0&&C.size?E/w>1?r.size:Math.floor(E/w*r.size):E,e=(b=r)!==null&&b!==void 0&&b.size?E/w>1?Math.floor(w/E*r.size):r.size:w,l.x=n,l.y=e),R&&R.length>0)for(y=0;y<R.length;y++)R[y].apply(h,m)},setTopRight:function(d){u.x=d.x,u.y=d.y},getTopRight:function(){return u},setCanvasSize:function(d){l.x=d.x,l.y=d.y},getCanvasSize:function(){return l},getFrame:function(){return t}};return h},createLiveStream:function(t){console.warn("**** InputStreamBrowser createLiveStream"),t&&t.setAttribute("autoplay","true");var n=_r.createVideoStream(t);return n.ended=function(){return!1},n},createImageStream:function(){var t,n,e=null,r=0,o=0,i=0,u=!0,l=!1,h=null,d=0,m=null,y=!1,C=["canrecord","ended"],b={},E={x:0,y:0,type:"Point"},w={x:0,y:0,type:"XYSize"};function R(k,W){var L,$=b[k];if($&&$.length>0)for(L=0;L<$.length;L++)$[L].apply(A,W)}var A={trigger:R,getWidth:function(){return t},getHeight:function(){return n},setWidth:function(k){t=k},setHeight:function(k){n=k},getRealWidth:function(){return r},getRealHeight:function(){return o},setInputStream:function(k){var W;e=k,k.sequence===!1?(m=k.src,d=1):(m=k.src,d=k.length),l=!1,ma.load(m,(function(L){var $,X;if(h=L,L[0].tags&&L[0].tags.orientation)switch(L[0].tags.orientation){case 6:case 8:r=L[0].img.height,o=L[0].img.width;break;default:r=L[0].img.width,o=L[0].img.height}else r=L[0].img.width,o=L[0].img.height;t=($=e)!==null&&$!==void 0&&$.size?r/o>1?e.size:Math.floor(r/o*e.size):r,n=(X=e)!==null&&X!==void 0&&X.size?r/o>1?Math.floor(o/r*e.size):e.size:o,w.x=t,w.y=n,l=!0,i=0,setTimeout((function(){R("canrecord",[])}),0)}),1,d,(W=e)===null||W===void 0?void 0:W.sequence,e)},ended:function(){return y},setAttribute:function(){},getConfig:function(){return e},pause:function(){u=!0},play:function(){u=!1},setCurrentTime:function(k){i=k},addEventListener:function(k,W){C.indexOf(k)!==-1&&(b[k]||(b[k]=[]),b[k].push(W))},clearEventHandlers:function(){Object.keys(b).forEach((function(k){return delete b[k]}))},setTopRight:function(k){E.x=k.x,E.y=k.y},getTopRight:function(){return E},setCanvasSize:function(k){w.x=k.x,w.y=k.y},getCanvasSize:function(){return w},getFrame:function(){var k,W;return l?(u||(k=(W=h)===null||W===void 0?void 0:W[i],i<d-1?i++:setTimeout((function(){y=!0,R("ended",[])}),0)),k):null}};return A}},xa=_r,Je={searchDirections:[[0,1],[1,1],[1,0],[1,-1],[0,-1],[-1,-1],[-1,0],[-1,1]],create:function(t,n){var e,r=t.data,o=n.data,i=this.searchDirections,u=t.size.x;function l(d,m,y,C){var b,E,w;for(b=0;b<i.length;b++){if(E=d.cy+i[d.dir][0],w=d.cx+i[d.dir][1],r[e=E*u+w]===m&&(o[e]===0||o[e]===y))return o[e]=y,d.cy=E,d.cx=w,!0;o[e]===0&&(o[e]=C),d.dir=(d.dir+1)%8}return!1}function h(d,m,y){return{dir:y,x:d,y:m,next:null,prev:null}}return{trace:function(d,m,y,C){return l(d,m,y,C)},contourTracing:function(d,m,y,C,b){return(function(E,w,R,A,k){var W,L,$,X=null,q={cx:w,cy:E,dir:0};if(l(q,A,R,k)){W=X=h(w,E,q.dir),$=q.dir,(L=h(q.cx,q.cy,0)).prev=W,W.next=L,L.next=null,W=L;var Z=t.size.x*t.size.y,vt=0;do q.dir=(q.dir+6)%8,l(q,A,R,k),$!==q.dir?(W.dir=q.dir,(L=h(q.cx,q.cy,0)).prev=W,W.next=L,L.next=null,W=L):(W.dir=$,W.x=q.cx,W.y=q.cy),$=q.dir;while((q.cx!==w||q.cy!==E)&&++vt<Z);X.prev=W.prev,W.prev.next=X}return X})(d,m,y,C,b)}}}},se={createContour2D:function(){return{dir:null,index:null,firstVertex:null,insideContours:null,nextpeer:null,prevpeer:null}},CONTOUR_DIR:{CW_DIR:0,CCW_DIR:1,UNKNOWN_DIR:2},DIR:{OUTSIDE_EDGE:-32767,INSIDE_EDGE:-32766},create:function(t,n){var e=t.data,r=n.data,o=t.size.x,i=t.size.y,u=Je.create(t,n);return{rasterize:function(l){var h,d,m,y,C,b,E,w,R,A,k,W,L=[],$=0;for(W=0;W<400;W++)L[W]=0;for(L[0]=e[0],R=null,b=1;b<i-1;b++)for(y=0,d=L[0],C=1;C<o-1;C++)if(r[k=b*o+C]===0)if((h=e[k])!==d){if(y===0)L[m=$+1]=h,d=h,(E=u.contourTracing(b,C,m,h,se.DIR.OUTSIDE_EDGE))!==null&&($++,y=m,(w=se.createContour2D()).dir=se.CONTOUR_DIR.CW_DIR,w.index=y,w.firstVertex=E,w.nextpeer=R,w.insideContours=null,R!==null&&(R.prevpeer=w),R=w);else if((E=u.contourTracing(b,C,se.DIR.INSIDE_EDGE,h,y))!==null){for((w=se.createContour2D()).firstVertex=E,w.insideContours=null,w.dir=l===0?se.CONTOUR_DIR.CCW_DIR:se.CONTOUR_DIR.CW_DIR,w.index=l,A=R;A!==null&&A.index!==y;)A=A.nextpeer;A!==null&&(w.nextpeer=A.insideContours,A.insideContours!==null&&(A.insideContours.prevpeer=w),A.insideContours=w)}}else r[k]=y;else r[k]===se.DIR.OUTSIDE_EDGE||r[k]===se.DIR.INSIDE_EDGE?(y=0,d=r[k]===se.DIR.INSIDE_EDGE?e[k]:L[0]):d=L[y=r[k]];for(A=R;A!==null;)A.index=l,A=A.nextpeer;return{cc:R,count:$}},debug:{drawContour:function(l,h){var d,m,y,C=l.getContext("2d"),b=h;for(C.strokeStyle="red",C.fillStyle="red",C.lineWidth=1,d=b!==null?b.insideContours:null;b!==null;){switch(d!==null?(m=d,d=d.nextpeer):(m=b,d=(b=b.nextpeer)!==null?b.insideContours:null),m.dir){case se.CONTOUR_DIR.CW_DIR:C.strokeStyle="red";break;case se.CONTOUR_DIR.CCW_DIR:C.strokeStyle="blue";break;case se.CONTOUR_DIR.UNKNOWN_DIR:C.strokeStyle="green"}y=m.firstVertex,C.beginPath(),C.moveTo(y.x,y.y);do y=y.next,C.lineTo(y.x,y.y);while(y!==m.firstVertex);C.stroke()}}}}}},ya=se;/* @preserve ASM END */var je,Ce,ht,ge,et,Ue,ee,Ee,_e,fe,Ve,br,ga=function(t,n,e){var r=new t.Uint8Array(e),o=n.size|0,i=t.Math.imul;function u(w,R){w=w|0,R=R|0;var A=0,k=0,W=0,L=0,$=0,X=0,q=0,Z=0;for(A=1;(A|0)<(o-1|0);A=A+1|0)for(Z=Z+o|0,k=1;(k|0)<(o-1|0);k=k+1|0)L=Z-o|0,$=Z+o|0,X=k-1|0,q=k+1|0,W=(r[w+L+X|0]|0)+(r[w+L+q|0]|0)+(r[w+Z+k|0]|0)+(r[w+$+X|0]|0)+(r[w+$+q|0]|0)|0,(W|0)==5?r[R+Z+k|0]=1:r[R+Z+k|0]=0}function l(w,R,A){w=w|0,R=R|0,A=A|0;var k=0;for(k=i(o,o)|0;(k|0)>0;)k=k-1|0,r[A+k|0]=(r[w+k|0]|0)-(r[R+k|0]|0)|0}function h(w,R,A){w=w|0,R=R|0,A=A|0;var k=0;for(k=i(o,o)|0;(k|0)>0;)k=k-1|0,r[A+k|0]=r[w+k|0]|0|(r[R+k|0]|0)|0}function d(w){w=w|0;var R=0,A=0;for(A=i(o,o)|0;(A|0)>0;)A=A-1|0,R=(R|0)+(r[w+A|0]|0)|0;return R|0}function m(w,R){w=w|0,R=R|0;var A=0;for(A=i(o,o)|0;(A|0)>0;)A=A-1|0,r[w+A|0]=R}function y(w,R){w=w|0,R=R|0;var A=0,k=0,W=0,L=0,$=0,X=0,q=0,Z=0;for(A=1;(A|0)<(o-1|0);A=A+1|0)for(Z=Z+o|0,k=1;(k|0)<(o-1|0);k=k+1|0)L=Z-o|0,$=Z+o|0,X=k-1|0,q=k+1|0,W=(r[w+L+X|0]|0)+(r[w+L+q|0]|0)+(r[w+Z+k|0]|0)+(r[w+$+X|0]|0)+(r[w+$+q|0]|0)|0,(W|0)>0?r[R+Z+k|0]=1:r[R+Z+k|0]=0}function C(w,R){w=w|0,R=R|0;var A=0;for(A=i(o,o)|0;(A|0)>0;)A=A-1|0,r[R+A|0]=r[w+A|0]|0}function b(w){w=w|0;var R=0,A=0;for(R=0;(R|0)<(o-1|0);R=R+1|0)r[w+R|0]=0,r[w+A|0]=0,A=A+o-1|0,r[w+A|0]=0,A=A+1|0;for(R=0;(R|0)<(o|0);R=R+1|0)r[w+A|0]=0,A=A+1|0}function E(){var w=0,R=0,A=0,k=0,W=0,L=0;R=i(o,o)|0,A=R+R|0,k=A+R|0,m(k,0),b(w);do u(w,R),y(R,A),l(w,A,A),h(k,A,k),C(R,w),W=d(w)|0,L=(W|0)==0|0;while(!L)}return{skeletonize:E}},Be={ctx:{binary:null},dom:{binary:null}},Te={x:0,y:0};function _a(t){var n,e,r,o,i,u,l,h=_e.size.x,d=_e.size.y,m=-_e.size.x,y=-_e.size.y;for(n=0,e=0;e<t.length;e++)n+=(o=t[e]).rad;for((n=(180*(n/=t.length)/Math.PI+90)%180-90)<0&&(n+=180),n=(180-n)*Math.PI/180,i=f.copy(f.create(),[Math.cos(n),Math.sin(n),-Math.sin(n),Math.cos(n)]),e=0;e<t.length;e++)for(o=t[e],r=0;r<4;r++)s.transformMat2(o.box[r],o.box[r],i);for(e=0;e<t.length;e++)for(o=t[e],r=0;r<4;r++)o.box[r][0]<h&&(h=o.box[r][0]),o.box[r][0]>m&&(m=o.box[r][0]),o.box[r][1]<d&&(d=o.box[r][1]),o.box[r][1]>y&&(y=o.box[r][1]);for(u=[[h,d],[m,d],[m,y],[h,y]],l=je.halfSample?2:1,i=f.invert(i,i),r=0;r<4;r++)s.transformMat2(u[r],u[r],i);for(r=0;r<4;r++)s.scale(u[r],u[r],l);return u}function ba(t){var n=(function(i,u,l){var h,d,m,y,C=0,b=0,E=[];for(h=0;h<u;h++)E[h]={score:0,item:null};for(h=0;h<i.length;h++)if((d=l.apply(this,[i[h]]))>b)for((m=E[C]).score=d,m.item=i[h],b=Number.MAX_VALUE,y=0;y<u;y++)E[y].score<b&&(b=E[y].score,C=y);return E})((function(i,u,l){var h,d,m,y,C=[];function b(E){var w=!1;for(d=0;d<C.length;d++)(m=C[d]).fits(E)&&(m.add(E),w=!0);return w}for(l||(l="rad"),h=0;h<i.length;h++)b(y=po(i[h],h,l))||C.push(ho(y,u));return C})(t,.9),1,(function(i){return i.getPoints().length})),e=[],r=[];if(n.length===1){e=n[0].item.getPoints();for(var o=0;o<e.length;o++)r.push(e[o].point)}return r}function wa(t,n){_e.subImageAsCopy(ge,ot(t,n)),br.skeletonize()}function Oa(t,n,e,r){var o,i,u,l,h=[],d=[],m=Math.ceil(fe.x/3);if(t.length>=2){for(o=0;o<t.length;o++)t[o].m00>m&&h.push(t[o]);if(h.length>=2){for(u=ba(h),i=0,o=0;o<u.length;o++){var y,C;i+=(y=(C=u[o])===null||C===void 0?void 0:C.rad)!==null&&y!==void 0?y:0}u.length>1&&u.length>=h.length/4*3&&u.length>t.length/4&&(i/=u.length,l={index:n[1]*Te.x+n[0],pos:{x:e,y:r},box:[s.clone([e,r]),s.clone([e+ge.size.x,r]),s.clone([e+ge.size.x,r+ge.size.y]),s.clone([e,r+ge.size.y])],moments:u,rad:i,vec:s.clone([Math.cos(i),Math.sin(i)])},d.push(l))}}return d}var Ca=function(t,n){je=n,Ve=t,(function(){Ce=je.halfSample?new me({x:Ve.size.x/2|0,y:Ve.size.y/2|0}):Ve,fe=Ut(je.patchSize,Ce.size),Te.x=Ce.size.x/fe.x|0,Te.y=Ce.size.y/fe.y|0,_e=new me(Ce.size,void 0,Uint8Array,!1),et=new me(fe,void 0,Array,!0);var e=new ArrayBuffer(65536);ge=new me(fe,new Uint8Array(e,0,fe.x*fe.y)),ht=new me(fe,new Uint8Array(e,fe.x*fe.y*3,fe.x*fe.y),void 0,!0),br=ga({Math,Uint8Array},{size:fe.x},e),Ee=new me({x:Ce.size.x/ge.size.x|0,y:Ce.size.y/ge.size.y|0},void 0,Array,!0),Ue=new me(Ee.size,void 0,void 0,!0),ee=new me(Ee.size,void 0,Int32Array,!0)})(),(function(){if(!je.useWorker&&typeof document<"u"){Be.dom.binary=document.createElement("canvas"),Be.dom.binary.className="binaryBuffer";var e=!!je.willReadFrequently;Be.ctx.binary=Be.dom.binary.getContext("2d",{willReadFrequently:e}),Be.dom.binary.width=_e.size.x,Be.dom.binary.height=_e.size.y}})()},Ma=function(){je.halfSample&&(function(r,o){for(var i=r.data,u=r.size.x,l=o.data,h=0,d=u,m=i.length,y=u/2,C=0;d<m;){for(var b=0;b<y;b++)l[C]=Math.floor((i[h]+i[h+1]+i[d]+i[d+1])/4),C++,h+=2,d+=2;h+=u,d+=u}})(Ve,Ce),mo(Ce,_e),_e.zeroBorder();var t=(function(){var r,o,i,u,l,h,d=[];for(r=0;r<Te.x;r++)for(o=0;o<Te.y;o++)wa(i=ge.size.x*r,u=ge.size.y*o),ht.zeroBorder(),Ie(et.data,0),h=ya.create(ht,et).rasterize(0),l=et.moments(h.count),d=d.concat(Oa(l,[r,o],i,u));return d})();if(t.length<Te.x*Te.y*.05)return null;var n=(function(r){var o,i,u=0,l=0;function h(){var m;for(m=0;m<ee.data.length;m++)if(ee.data[m]===0&&Ue.data[m]===1)return m;return ee.data.length}function d(m){var y,C,b,E,w,R=m%ee.size.x,A=m/ee.size.x|0;if(m<ee.data.length)for(b=Ee.data[m],ee.data[m]=u,w=0;w<Je.searchDirections.length;w++)C=A+Je.searchDirections[w][0],y=R+Je.searchDirections[w][1],E=C*ee.size.x+y,Ue.data[E]!==0?ee.data[E]===0&&Math.abs(s.dot(Ee.data[E].vec,b.vec))>.95&&d(E):ee.data[E]=Number.MAX_VALUE}for(Ie(Ue.data,0),Ie(ee.data,0),Ie(Ee.data,null),o=0;o<r.length;o++)i=r[o],Ee.data[i.index]=i,Ue.data[i.index]=1;for(Ue.zeroBorder();(l=h())<ee.data.length;)u++,d(l);return u})(t);if(n<1)return null;var e=(function(r){var o,i,u=[];for(o=0;o<r;o++)u.push(0);for(i=ee.data.length;i--;)ee.data[i]>0&&u[ee.data[i]-1]++;return(u=u.map((function(l,h){return{val:l,label:h+1}}))).sort((function(l,h){return h.val-l.val})),u.filter((function(l){return l.val>=5}))})(n);return e.length===0?null:(function(r,o){var i,u,l,h,d=[],m=[];for(i=0;i<r.length;i++){for(u=ee.data.length,d.length=0;u--;)ee.data[u]===r[i].label&&(l=Ee.data[u],d.push(l));(h=_a(d))&&m.push(h)}return m})(e)},Ra=function(t,n){var e,r,o=t.getWidth(),i=t.getHeight(),u=n.halfSample?.5:1;t.getConfig().area&&(r=_o(o,i,t.getConfig().area),t.setTopRight({x:r.sx,y:r.sy}),t.setCanvasSize({x:o,y:i}),o=r.sw,i=r.sh);var l={x:Math.floor(o*u),y:Math.floor(i*u)};if(e=Ut(n.patchSize,l),t.setWidth(Math.max(Math.floor(Math.floor(l.x/e.x)*(1/u)*e.x),e.x)),t.setHeight(Math.max(Math.floor(Math.floor(l.y/e.y)*(1/u)*e.y),e.y)),t.getWidth()%e.x==0&&t.getHeight()%e.y==0)return!0;throw new Error("Image dimensions do not comply with the current settings: Width (".concat(o," )and height (").concat(i,") must a multiple of ").concat(e.x))},Sa=B()((function t(){F()(this,t),M()(this,"config",void 0),M()(this,"inputStream",void 0),M()(this,"framegrabber",void 0),M()(this,"inputImageWrapper",void 0),M()(this,"stopped",!1),M()(this,"boxSize",void 0),M()(this,"resultCollector",void 0),M()(this,"decoder",void 0),M()(this,"workerPool",[]),M()(this,"onUIThread",!0),M()(this,"canvasContainer",new Ea)})),wr=B()((function t(){F()(this,t),M()(this,"image",void 0),M()(this,"overlay",void 0)})),Ea=B()((function t(){F()(this,t),M()(this,"ctx",void 0),M()(this,"dom",void 0),this.ctx=new wr,this.dom=new wr}));function Or(t){if(typeof document>"u")return null;if(t instanceof HTMLElement&&t.nodeName&&t.nodeType===1)return t;var n=typeof t=="string"?t:"#interactive.viewport";return document.querySelector(n)}function Cr(t,n,e){var r=(function(i,u){var l=document.querySelector(i);return l||((l=document.createElement("canvas")).className=u),l})(t,n),o=r.getContext("2d",{willReadFrequently:e.willReadFrequently});return{canvas:r,context:o}}function Aa(t){var n,e,r,o,i,u,l,h,d=Or(t==null||(n=t.config)===null||n===void 0||(e=n.inputStream)===null||e===void 0?void 0:e.target),m=t==null||(r=t.config)===null||r===void 0||(o=r.inputStream)===null||o===void 0?void 0:o.type;if(!m)return null;var y=(function(b,E){var w=E.willReadFrequently;if(typeof document<"u"){var R=Cr("canvas.imgBuffer","imgBuffer",{willReadFrequently:w}),A=Cr("canvas.drawingBuffer","drawingBuffer",{willReadFrequently:w});return R.canvas.width=A.canvas.width=b.x,R.canvas.height=A.canvas.height=b.y,{dom:{image:R.canvas,overlay:A.canvas},ctx:{image:R.context,overlay:A.context}}}return null})(t.inputStream.getCanvasSize(),{willReadFrequently:!(t==null||(i=t.config)===null||i===void 0||(u=i.inputStream)===null||u===void 0||!u.willReadFrequently),debug:t==null||(l=t.config)===null||l===void 0||(h=l.locator)===null||h===void 0?void 0:h.debug});if(!y)return{dom:{image:null,overlay:null},ctx:{image:null,overlay:null}};var C=y.dom;return typeof document<"u"&&d&&(m!=="ImageStream"||d.contains(C.image)||d.appendChild(C.image),d.contains(C.overlay)||d.appendChild(C.overlay)),y}function Mr(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable}))),e.push.apply(e,r)}return e}function tt(t){for(var n=1;n<arguments.length;n++){var e=arguments[n]!=null?arguments[n]:{};n%2?Mr(Object(e),!0).forEach((function(r){M()(t,r,e[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):Mr(Object(e)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))}))}return t}var be=[];function ka(t){return tt(tt({},t),{},{inputStream:tt(tt({},t.inputStream),{},{target:null})})}function ja(t){if(t){var n=t().default;if(!n)return void self.postMessage({event:"error",message:"Quagga could not be created"})}var e;function r(i){self.postMessage({event:"processed",imageData:e.data,result:i},[e.data.buffer])}function o(){self.postMessage({event:"initialized",imageData:e.data},[e.data.buffer])}self.onmessage=function(i){if(i.data.cmd==="init"){var u=i.data.config;u.numOfWorkers=0,e=new n.ImageWrapper({x:i.data.size.x,y:i.data.size.y},new Uint8Array(i.data.imageData)),n.init(u,o,e),n.onProcessed(r)}else i.data.cmd==="process"?(e.data=new Uint8Array(i.data.imageData),n.start()):i.data.cmd==="setReaders"?n.setReaders(i.data.readers):i.data.cmd==="registerReader"&&n.registerReader(i.data.name,i.data.reader)}}function Ta(t,n,e){var r,o,i=(typeof __factorySource__<"u"&&(o=__factorySource__),r=new Blob(["("+ja.toString()+")("+o+");"],{type:"text/javascript"}),window.URL.createObjectURL(r)),u={worker:new Worker(i),imageData:new Uint8Array(n.getWidth()*n.getHeight()),busy:!0};u.worker.onmessage=function(l){l.data.event==="initialized"?(URL.revokeObjectURL(i),u.busy=!1,u.imageData=new Uint8Array(l.data.imageData),e(u)):l.data.event==="processed"?(u.imageData=new Uint8Array(l.data.imageData),u.busy=!1,typeof publishResult<"u"&&publishResult(l.data.result,u.imageData)):l.data.event},u.worker.postMessage({cmd:"init",size:{x:n.getWidth(),y:n.getHeight()},imageData:u.imageData,config:ka(t)},[u.imageData.buffer])}function Rr(t,n,e,r){var o=t-be.length;if(o===0&&r)r();else if(o<0)be.slice(o).forEach((function(l){l.worker.terminate()})),be=be.slice(0,o),r&&r();else{var i=function(l){be.push(l),be.length>=t&&r&&r()};if(n)for(var u=0;u<o;u++)Ta(n,e,i)}}function Sr(t,n,e){for(var r=t.length;r--;)t[r][0]+=n,t[r][1]+=e}var Er=(function(){return B()((function e(){var r=this;F()(this,e),M()(this,"context",new Sa),M()(this,"canRecord",(function(o){var i;r.context.config&&(Ra(r.context.inputStream,(i=r.context.config)===null||i===void 0?void 0:i.locator),r.initCanvas(),r.context.framegrabber=sa.create(r.context.inputStream,r.context.canvasContainer.dom.image),r.context.config.numOfWorkers===void 0&&(r.context.config.numOfWorkers=0),Rr(r.context.config.numOfWorkers,r.context.config,r.context.inputStream,(function(){var u;((u=r.context.config)===null||u===void 0?void 0:u.numOfWorkers)===0&&r.initializeData(),r.ready(o)})))})),M()(this,"update",(function(){if(r.context.onUIThread){var o,i=(l=r.context.framegrabber,be.length?!!(h=be.filter((function(d){return!d.busy}))[0])&&(l.attachData(h.imageData),l.grab()&&(h.busy=!0,h.worker.postMessage({cmd:"process",imageData:h.imageData},[h.imageData.buffer])),!0):null);i||(r.context.framegrabber.attachData((o=r.context.inputImageWrapper)===null||o===void 0?void 0:o.data),r.context.framegrabber.grab()&&(i||r.locateAndDecode()))}else{var u;r.context.framegrabber.attachData((u=r.context.inputImageWrapper)===null||u===void 0?void 0:u.data),r.context.framegrabber.grab(),r.locateAndDecode()}var l,h}))}),[{key:"initBuffers",value:function(e){if(this.context.config){var r=(function(u,l,h){var d=l||new me({x:u.getWidth(),y:u.getHeight(),type:"XYSize"}),m=[s.clone([0,0]),s.clone([0,d.size.y]),s.clone([d.size.x,d.size.y]),s.clone([d.size.x,0])];return Ca(d,h),{inputImageWrapper:d,boxSize:m}})(this.context.inputStream,e,this.context.config.locator),o=r.inputImageWrapper,i=r.boxSize;this.context.inputImageWrapper=o,this.context.boxSize=i}}},{key:"initializeData",value:function(e){this.context.config&&(this.initBuffers(e),this.context.decoder=lt.create(this.context.config.decoder,this.context.inputImageWrapper))}},{key:"getViewPort",value:function(){return this.context.config&&this.context.config.inputStream?Or(this.context.config.inputStream.target):null}},{key:"ready",value:function(e){this.context.inputStream.play(),e()}},{key:"initCanvas",value:function(){var e=Aa(this.context);if(e){var r=e.ctx,o=e.dom;this.context.canvasContainer.dom.image=o.image,this.context.canvasContainer.dom.overlay=o.overlay,this.context.canvasContainer.ctx.image=r.image,this.context.canvasContainer.ctx.overlay=r.overlay}}},{key:"initInputStream",value:function(e){if(this.context.config&&this.context.config.inputStream){var r=this.context.config.inputStream,o=r.type,i=r.constraints,u=(function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"LiveStream",m=arguments.length>1?arguments[1]:void 0,y=arguments.length>2?arguments[2]:void 0;switch(d){case"VideoStream":var C=document.createElement("video");return{video:C,inputStream:y.createVideoStream(C)};case"ImageStream":return{inputStream:y.createImageStream()};case"LiveStream":var b=null;return m&&((b=m.querySelector("video"))||(b=document.createElement("video"),m.appendChild(b))),{video:b,inputStream:y.createLiveStream(b)};default:return console.error("* setupInputStream invalid type ".concat(d)),{video:null,inputStream:null}}})(o,this.getViewPort(),xa),l=u.video,h=u.inputStream;o==="LiveStream"&&l&&Ze.request(l,i).then((function(){return h.trigger("canrecord")})).catch((function(d){return e(d)})),h&&(h.setAttribute("preload","auto"),h.setInputStream(this.context.config.inputStream),h.addEventListener("canrecord",this.canRecord.bind(void 0,e))),this.context.inputStream=h}}},{key:"getBoundingBoxes",value:function(){var e;return(e=this.context.config)!==null&&e!==void 0&&e.locate?Ma():[[s.clone(this.context.boxSize[0]),s.clone(this.context.boxSize[1]),s.clone(this.context.boxSize[2]),s.clone(this.context.boxSize[3])]]}},{key:"transformResult",value:function(e){var r=this,o=this.context.inputStream.getTopRight(),i=o.x,u=o.y;if((i!==0||u!==0)&&(e.barcodes&&e.barcodes.forEach((function(h){return r.transformResult(h)})),e.line&&e.line.length===2&&(function(h,d,m){h[0].x+=d,h[0].y+=m,h[1].x+=d,h[1].y+=m})(e.line,i,u),e.box&&Sr(e.box,i,u),e.boxes&&e.boxes.length>0))for(var l=0;l<e.boxes.length;l++)Sr(e.boxes[l],i,u)}},{key:"addResult",value:function(e,r){var o=this;r&&this.context.resultCollector&&(e.barcodes?e.barcodes.filter((function(i){return i.codeResult})).forEach((function(i){return o.addResult(i,r)})):e.codeResult&&this.context.resultCollector.addResult(r,this.context.inputStream.getCanvasSize(),e.codeResult))}},{key:"hasCodeResult",value:function(e){return!(!e||!(e.barcodes?e.barcodes.some((function(r){return r.codeResult})):e.codeResult))}},{key:"publishResult",value:function(){var e,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,o=arguments.length>1?arguments[1]:void 0,i=r;r&&this.context.onUIThread&&(this.transformResult(r),this.addResult(r,o),i=(r==null||(e=r.barcodes)===null||e===void 0?void 0:e.length)>0?r.barcodes:r),ke.publish("processed",i),this.hasCodeResult(r)&&ke.publish("detected",i)}},{key:"locateAndDecode",value:(n=Oe()(J.a.mark((function e(){var r,o,i,u,l,h;return J.a.wrap((function(d){for(;;)switch(d.prev=d.next){case 0:if(!(r=this.getBoundingBoxes())){d.next=3;break}return d.next=1,this.context.decoder.decodeFromBoundingBoxes(r);case 1:if(h=d.sent){d.next=2;break}h={};case 2:(i=h).boxes=r,this.publishResult(i,(o=this.context.inputImageWrapper)===null||o===void 0?void 0:o.data),d.next=5;break;case 3:return d.next=4,this.context.decoder.decodeFromImage(this.context.inputImageWrapper);case 4:(u=d.sent)?this.publishResult(u,(l=this.context.inputImageWrapper)===null||l===void 0?void 0:l.data):this.publishResult();case 5:case"end":return d.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"startContinuousUpdate",value:function(){var e,r=this,o=null,i=1e3/(((e=this.context.config)===null||e===void 0?void 0:e.frequency)||60);this.context.stopped=!1;var u=this.context,l=function(h){o=o||h,u.stopped||(h>=o&&(o+=i,r.update()),window.requestAnimationFrame(l))};l(performance.now())}},{key:"start",value:function(){var e,r;this.context.onUIThread&&((e=this.context.config)===null||e===void 0||(r=e.inputStream)===null||r===void 0?void 0:r.type)==="LiveStream"?this.startContinuousUpdate():this.update()}},{key:"stop",value:(t=Oe()(J.a.mark((function e(){var r;return J.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(this.context.stopped=!0,Rr(0),(r=this.context.config)===null||r===void 0||!r.inputStream||this.context.config.inputStream.type!=="LiveStream"){o.next=2;break}return o.next=1,Ze.release();case 1:this.context.inputStream.clearEventHandlers();case 2:case"end":return o.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"setReaders",value:function(e){this.context.decoder&&this.context.decoder.setReaders(e),(function(r){be.forEach((function(o){return o.worker.postMessage({cmd:"setReaders",readers:r})}))})(e)}},{key:"registerReader",value:function(e,r){lt.registerReader(e,r),this.context.decoder&&this.context.decoder.registerReader(e,r),(function(o,i){be.forEach((function(u){return u.worker.postMessage({cmd:"registerReader",name:o,reader:i})}))})(e,r)}}]);var t,n})(),Fe=new Er,pt=Fe.context,Ar={init:function(t,n,e){var r,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Fe;return n||(r=new Promise((function(i,u){n=function(l){l?u(l):i()}}))),o.context.config=S()({},ca,t),o.context.config.numOfWorkers>0&&(o.context.config.numOfWorkers=0),e?(o.context.onUIThread=!1,o.initializeData(e),n&&n()):o.initInputStream(n),r},start:function(){return Fe.start()},stop:function(){return Fe.stop()},pause:function(){pt.stopped=!0},onDetected:function(t){t&&(typeof t=="function"||_()(t)==="object"&&t.callback)?ke.subscribe("detected",t):console.trace("* warning: Quagga.onDetected called with invalid callback, ignoring")},offDetected:function(t){ke.unsubscribe("detected",t)},onProcessed:function(t){t&&(typeof t=="function"||_()(t)==="object"&&t.callback)?ke.subscribe("processed",t):console.trace("* warning: Quagga.onProcessed called with invalid callback, ignoring")},offProcessed:function(t){ke.unsubscribe("processed",t)},setReaders:function(t){t?Fe.setReaders(t):console.trace("* warning: Quagga.setReaders called with no readers, ignoring")},registerReader:function(t,n){t?n?Fe.registerReader(t,n):console.trace("* warning: Quagga.registerReader called with no reader, ignoring"):console.trace("* warning: Quagga.registerReader called with no name, ignoring")},registerResultCollector:function(t){t&&typeof t.addResult=="function"&&(pt.resultCollector=t)},get canvas(){return pt.canvasContainer},decodeSingle:function(t,n){var e=this,r=new Er;return(t=S()({inputStream:{type:"ImageStream",sequence:!1,size:800,src:t.src},numOfWorkers:1,locator:{halfSample:!1}},t)).numOfWorkers>0&&(t.numOfWorkers=0),t.numOfWorkers>0&&(typeof Blob>"u"||typeof Worker>"u")&&(console.warn("* no Worker and/or Blob support - forcing numOfWorkers to 0"),t.numOfWorkers=0),new Promise((function(o,i){try{e.init(t,(function(){ke.once("processed",(function(u){r.stop(),n&&n.call(null,u),o(u)}),!0),r.start()}),null,r)}catch(u){i(u)}}))},get default(){return Ar},Readers:v,CameraAccess:Ze,ImageDebug:it,ImageWrapper:me,ResultCollector:vr};g.default=Ar}]).default}))})(gt)),gt.exports}var Xa=$a();const De=Da(Xa);function Qa({logger:D,onScanResult:te,hideResults:c=!1}){const[g,a]=ve.useState(!1),[f,s]=ve.useState(null),[p,v]=ve.useState(0),x=ve.useRef(null),_=ve.useRef(null),O=ve.useRef(null),S=window.isSecureContext,T=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1",j=S||T,U=ve.useCallback(()=>{try{const I=new(window.AudioContext||window.webkitAudioContext),M=I.createOscillator(),P=I.createGain();M.connect(P),P.connect(I.destination),M.frequency.value=800,M.type="sine",P.gain.setValueAtTime(.3,I.currentTime),P.gain.exponentialRampToValueAtTime(.01,I.currentTime+.3),M.start(I.currentTime),M.stop(I.currentTime+.3),D==null||D.info("Success sound played")}catch(I){D==null||D.error(`Failed to play sound: ${I instanceof Error?I.message:"Unknown error"}`)}},[D]),F=ve.useCallback(I=>{if(!_.current)return;const M=_.current,P=M.getContext("2d");if(P&&(P.clearRect(0,0,M.width,M.height),I&&I.boxes&&I.boxes.length>0&&(D==null||D.info(`Drawing detection box for ${I.boxes.length} boxes`),I.boxes.forEach(z=>{P.strokeStyle="#00ff00",P.lineWidth=3,P.beginPath(),P.moveTo(z[0][0],z[0][1]),P.lineTo(z[1][0],z[1][1]),P.lineTo(z[2][0],z[2][1]),P.lineTo(z[3][0],z[3][1]),P.lineTo(z[0][0],z[0][1]),P.stroke()})),I&&I.box)){D==null||D.info("Drawing main detection box");const z=I.box;P.strokeStyle="#ff0000",P.lineWidth=4,P.beginPath(),P.moveTo(z[0][0],z[0][1]),P.lineTo(z[1][0],z[1][1]),P.lineTo(z[2][0],z[2][1]),P.lineTo(z[3][0],z[3][1]),P.lineTo(z[0][0],z[0][1]),P.stroke()}},[D]),V=ve.useCallback(()=>{D==null||D.info("Stopping barcode scanner");try{if(De.stop(),a(!1),O.current=null,_.current){const I=_.current.getContext("2d");I==null||I.clearRect(0,0,_.current.width,_.current.height)}}catch(I){D==null||D.error(`Error stopping scanner: ${I instanceof Error?I.message:"Unknown error"}`)}},[D]),B=async()=>{if(!x.current){D==null||D.error("Scanner ref not available");return}if(!j){s("Camera access requires HTTPS or localhost. Please access this page over HTTPS."),D==null||D.error("Camera access denied: not a secure context");return}try{s(null),v(0),D==null||D.info("Starting barcode scanner initialization");const I={inputStream:{name:"Live",type:"LiveStream",target:x.current,constraints:{width:{min:640,ideal:1280,max:1920},height:{min:480,ideal:720,max:1080},facingMode:"environment",aspectRatio:{min:1,max:2}},area:{top:"20%",right:"10%",left:"10%",bottom:"20%"}},locator:{patchSize:"medium",halfSample:!0},numOfWorkers:navigator.hardwareConcurrency||4,decoder:{readers:["ean_reader"],multiple:!1},locate:!0,frequency:10};D==null||D.info(`Initializing scanner with ${I.decoder.readers.length} readers, ${I.numOfWorkers} workers, frequency: ${I.frequency}`),await De.init(I,M=>{var z;if(M){D==null||D.error(`Quagga initialization error: ${M.message}`),s(`Failed to initialize scanner: ${M.message}`),a(!1);return}D==null||D.info("Quagga initialized successfully");const P=(z=x.current)==null?void 0:z.querySelector("video");if(P&&_.current){const Q=_.current;Q.width=P.videoWidth||640,Q.height=P.videoHeight||480,D==null||D.info(`Canvas overlay set to ${Q.width}x${Q.height}`)}De.start(),a(!0),D==null||D.info("Scanner started successfully")})}catch(I){const M=I instanceof Error?I.message:"Unknown error";D==null||D.error(`Scanner start error: ${M}`),s(`Failed to start scanner: ${M}`),a(!1)}};return ve.useEffect(()=>{if(!g)return;D==null||D.info("Setting up Quagga event listeners");const I=P=>{v(z=>z+1),P&&(F(P),P.boxes&&P.boxes.length>0&&(D==null||D.info(`Frame processed: ${P.boxes.length} potential boxes detected`)))},M=P=>{if(!P||!P.codeResult){D==null||D.error("Detection result missing codeResult");return}const z=P.codeResult.code,Q=P.codeResult.format;D==null||D.info(` BARCODE DETECTED: ${z} (${Q})`),F(P),O.current!==z?(U(),O.current=z,D==null||D.info(`New barcode detected, playing sound: ${z}`)):D==null||D.info(`Same barcode detected, skipping sound: ${z}`),D==null||D.info(`Calling onScanResult callback for: ${z}`),te==null||te({code:z,format:Q,timestamp:new Date})};return De.onProcessed(I),De.onDetected(M),D==null||D.info("Event listeners registered"),()=>{D==null||D.info("Cleaning up event listeners"),De.offProcessed(I),De.offDetected(M)}},[g,D,F,te,U]),N.jsx("div",{className:"barcode-scanner-demo","data-test":"barcode-scanner-demo",children:N.jsxs("div",{className:"space-y-4 md:space-y-6",children:[N.jsxs(Na,{"data-test":"scanner-card",children:[N.jsxs(Ia,{className:"p-4 md:p-6",children:[N.jsx(za,{className:"text-lg md:text-xl",children:"Barcode Scanner"}),N.jsx(Ua,{className:"text-sm",children:"Scan EAN-13 barcodes using your device camera."})]}),N.jsxs(Ba,{className:"space-y-4 p-4 md:p-6",children:[!j&&N.jsxs(mt,{variant:"destructive","data-test":"https-warning",children:[N.jsx(yt,{className:"h-4 w-4","data-test":"https-warning-icon"}),N.jsxs(xt,{className:"text-sm","data-test":"https-warning-description",children:[N.jsx("strong",{children:"HTTPS Required:"})," Camera access requires a secure connection.",N.jsx("br",{}),"You're on ",N.jsxs("code",{className:"text-xs",children:[window.location.protocol,"//",window.location.host]}),N.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1 text-xs",children:[N.jsx("li",{children:"Access via HTTPS (production)"}),N.jsx("li",{children:"Or use localhost (development)"})]})]})]}),N.jsx("div",{className:"flex gap-2 flex-wrap","data-test":"scanner-controls",children:g?N.jsxs(_t,{onClick:V,variant:"destructive","data-test":"stop-scanner-button",className:"flex items-center gap-2",size:"lg",children:[N.jsx(Wa,{className:"h-5 w-5","data-test":"stop-scanner-icon"}),"Stop Scanner"]}):N.jsxs(_t,{onClick:B,"data-test":"start-scanner-button",className:"flex items-center gap-2",disabled:!j,size:"lg",children:[N.jsx(Fa,{className:"h-5 w-5","data-test":"start-scanner-icon"}),"Start Scanner"]})}),f&&N.jsxs(mt,{variant:"destructive","data-test":"scanner-error",children:[N.jsx(yt,{className:"h-4 w-4","data-test":"scanner-error-icon"}),N.jsx(xt,{className:"text-sm","data-test":"scanner-error-description",children:f})]}),N.jsxs("div",{className:"relative w-full",children:[N.jsx("div",{ref:x,className:"scanner-container relative w-full bg-black rounded-lg overflow-hidden",style:{minHeight:"300px",maxHeight:"60vh"},"data-test":"scanner-viewport"}),N.jsx("canvas",{ref:_,className:"absolute top-0 left-0 w-full h-full pointer-events-none",style:{zIndex:10},"data-test":"detection-canvas"})]}),g&&N.jsxs("div",{className:"text-sm space-y-1","data-test":"scanning-status",children:[N.jsxs("p",{className:"font-medium",children:[" Camera active  Frames processed: ",p]}),N.jsx("p",{className:"text-xs text-muted-foreground",children:"Point camera at barcode. Hold steady with good lighting."}),N.jsx("p",{className:"text-xs text-muted-foreground",children:"Green box = potential detection  Red box = confirmed barcode"})]})]})]}),!c&&N.jsx(N.Fragment,{children:N.jsxs(mt,{"data-test":"mobile-tip",children:[N.jsx(yt,{className:"h-4 w-4","data-test":"mobile-tip-icon"}),N.jsxs(xt,{className:"text-xs md:text-sm","data-test":"mobile-tip-description",children:[N.jsx("strong",{children:"Requirements:"}),N.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[N.jsx("li",{children:"HTTPS connection or localhost"}),N.jsx("li",{children:"Best on mobile with rear camera"}),N.jsx("li",{children:"Allow camera permissions"}),N.jsx("li",{children:"Good lighting & steady hold"})]})]})]})})]})})}function ai({logger:D}){const[te,c]=ve.useState([]),[g,a]=ve.useState(!1),f=[{label:"Home",href:"/"},{label:"Demo",href:"/demo"},{label:"Barcode Scanner"}],s=v=>{c(x=>x.some(O=>O.code===v.code&&Date.now()-O.timestamp.getTime()<2e3)?x:[v,...x].slice(0,10))},p=()=>{c([]),D==null||D.info("Cleared scan results from header")};return N.jsxs("div",{className:"barcode-scanner-demo-page flex-1 flex flex-col h-full relative","data-test":"barcode-scanner-demo-page",children:[N.jsxs("div",{className:"page-header sticky top-0 z-10 bg-background border-b flex-shrink-0 shadow-sm",children:[N.jsxs("div",{className:"p-3 md:p-4",children:[N.jsx("div",{className:"breadcrumb-section mb-2 hidden md:block",children:N.jsx(Pa,{items:f})}),N.jsxs("div",{className:"flex items-center justify-between mb-2",children:[N.jsx("h1",{className:"text-lg md:text-2xl font-bold",children:"Barcode Scanner"}),te.length>0&&N.jsxs(_t,{onClick:p,variant:"ghost",size:"sm",className:"h-7 text-xs","data-test":"clear-results-header",children:[N.jsx(La,{className:"h-3 w-3 mr-1"}),"Clear"]})]})]}),te.length>0&&N.jsxs("div",{className:"border-t bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-950/20 dark:to-emerald-950/20","data-test":"header-scan-results",children:[N.jsx("div",{className:"p-4 border-b bg-white/50 dark:bg-black/20",children:N.jsxs("div",{className:"flex items-start gap-3",children:[N.jsx("div",{className:"flex-shrink-0 mt-1",children:N.jsx("div",{className:"h-10 w-10 rounded-full bg-green-500 flex items-center justify-center",children:N.jsx(qa,{className:"h-6 w-6 text-white"})})}),N.jsxs("div",{className:"flex-1 min-w-0",children:[N.jsx("div",{className:"text-xs text-green-700 dark:text-green-400 font-medium mb-1",children:"LATEST SCAN"}),N.jsx("div",{className:"font-mono font-bold text-2xl md:text-3xl text-green-900 dark:text-green-100 break-all mb-2","data-test":"latest-result-code",children:te[0].code}),N.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[N.jsx(Tr,{className:"bg-green-600 hover:bg-green-700 text-white text-xs",children:te[0].format.toUpperCase()}),N.jsx("span",{className:"text-xs text-muted-foreground",children:te[0].timestamp.toLocaleTimeString()})]})]})]})}),te.length>1&&N.jsxs("div",{className:"bg-muted/20",children:[N.jsxs("button",{onClick:()=>a(!g),className:"w-full px-4 py-2 flex items-center justify-between text-xs font-medium text-muted-foreground hover:text-foreground transition-colors","data-test":"toggle-history-button",children:[N.jsx("span",{className:"flex items-center gap-2",children:N.jsxs("span",{children:["History (",te.length-1," previous)"]})}),g?N.jsx(Va,{className:"h-3 w-3"}):N.jsx(Ga,{className:"h-3 w-3"})]}),g&&N.jsxs("div",{className:"px-4 pb-3 space-y-2 max-h-32 overflow-y-auto","data-test":"history-results",children:[te.slice(1,6).map((v,x)=>N.jsxs("div",{className:"flex items-center justify-between gap-2 p-2 bg-background/50 rounded border border-border/50 text-xs opacity-70","data-test":`history-result-${x}`,children:[N.jsxs("div",{className:"flex-1 min-w-0",children:[N.jsx("div",{className:"font-mono font-medium truncate text-xs","data-test":"history-result-code",children:v.code}),N.jsx(Tr,{variant:"outline",className:"text-[9px] h-3 px-1 mt-0.5 border-muted-foreground/30",children:v.format.toUpperCase()})]}),N.jsx("div",{className:"text-[9px] text-muted-foreground whitespace-nowrap",children:v.timestamp.toLocaleTimeString()})]},`${v.code}-${v.timestamp.getTime()}`)),te.length>6&&N.jsxs("div",{className:"text-center text-[9px] text-muted-foreground pt-1",children:["+",te.length-6," more scans"]})]})]})]})]}),N.jsx("div",{className:"page-content flex-1 p-4 md:p-6 overflow-y-auto min-h-0",children:N.jsx(Qa,{logger:D,onScanResult:s,hideResults:!0})}),N.jsx("div",{className:"fixed bottom-4 right-4 z-50 md:bottom-6 md:right-6",children:N.jsx(Ha,{})})]})}export{ai as BarcodeScannerDemoPage};
