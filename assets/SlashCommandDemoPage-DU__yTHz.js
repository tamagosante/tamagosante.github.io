import{r as i,j as e}from"./react-vendor-Byz07MLO.js";import{C as r,b as m,c,d as u,e as l,T as O,B as p}from"./index-eHP58yiE.js";import{u as k,S as I}from"./SlashCommandMenu-DAHzvOSL.js";import{B as J}from"./Breadcrumbs-B61dZAu9.js";import{A as E,F as $,I as A,J as B,N as M}from"./icons-vtiX7BHn.js";import"./utils-DJ2ViQ2u.js";import"./radix-ui-v9Pxfv0s.js";import"./ui-utils-BxIQ3qGg.js";import"./cursorPosition-otMhJ5rZ.js";function U({logger:a}){const f=[{label:"Home",href:"/"},{label:"Demo",href:"/demo"},{label:"Slash Commands"}],[j,N]=i.useState(""),[d,n]=i.useState([]),o=i.useRef(null),x=i.useMemo(()=>[{id:"claude",name:"Claude",trigger:"claude",description:"Send message to Claude AI",icon:e.jsx(E,{className:"h-4 w-4 text-purple-500"}),onSelect:t=>(a==null||a.info(`[SlashCommand] /claude selected: ${JSON.stringify(t)}`),n(s=>[...s,{command:"/claude",context:JSON.stringify(t,null,2),timestamp:new Date}]),"")},{id:"document",name:"Document",trigger:"doc",description:"Insert a document reference",icon:e.jsx($,{className:"h-4 w-4 text-blue-500"}),onSelect:t=>(a==null||a.info(`[SlashCommand] /doc selected: ${JSON.stringify(t)}`),n(s=>[...s,{command:"/doc",context:JSON.stringify(t,null,2),timestamp:new Date}]),"[Document: example.pdf]")},{id:"image",name:"Image",trigger:"img",description:"Insert an image",icon:e.jsx(A,{className:"h-4 w-4 text-green-500"}),onSelect:t=>(a==null||a.info(`[SlashCommand] /img selected: ${JSON.stringify(t)}`),n(s=>[...s,{command:"/img",context:JSON.stringify(t,null,2),timestamp:new Date}]),"![Image description](url)")},{id:"code",name:"Code Block",trigger:"code",description:"Insert a code block",icon:e.jsx(B,{className:"h-4 w-4 text-orange-500"}),onSelect:t=>(a==null||a.info(`[SlashCommand] /code selected: ${JSON.stringify(t)}`),n(s=>[...s,{command:"/code",context:JSON.stringify(t,null,2),timestamp:new Date}]),"```\n// Your code here\n```")},{id:"mention",name:"Mention",trigger:"mention",description:"Mention a user",icon:e.jsx(M,{className:"h-4 w-4 text-cyan-500"}),onSelect:t=>(a==null||a.info(`[SlashCommand] /mention selected: ${JSON.stringify(t)}`),n(s=>[...s,{command:"/mention",context:JSON.stringify(t,null,2),timestamp:new Date}]),"@user")}],[a]),{isOpen:g,filteredCommands:y,selectedIndex:b,handleKeyDown:C,handleChange:h,selectCommand:S,close:v,menuPosition:w}=k({commands:x,inputRef:o}),T=i.useCallback(t=>{const s=t.target.value;N(s),h(s)},[h]),D=i.useCallback(()=>{n([])},[]);return e.jsxs("div",{"data-test":"slash-command-demo-page",className:"slash-command-demo-page flex-1 flex flex-col h-full",children:[e.jsxs("div",{"data-test":"page-header",className:"page-header p-6 pb-0 flex-shrink-0",children:[e.jsx("div",{"data-test":"breadcrumb-section",className:"breadcrumb-section mb-4",children:e.jsx(J,{items:f})}),e.jsx("h1",{"data-test":"page-title",className:"text-3xl font-bold mb-2",children:"Slash Commands"}),e.jsx("p",{"data-test":"page-description",className:"text-muted-foreground mb-4",children:'A reusable slash command system for text inputs. Type "/" to trigger the command menu.'})]}),e.jsxs("div",{"data-test":"page-content",className:"page-content flex-1 p-6 overflow-y-auto min-h-0",children:[e.jsxs("div",{"data-test":"demo-grid",className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(r,{"data-test":"input-card",children:[e.jsxs(m,{children:[e.jsx(c,{"data-test":"input-card-title",children:"Try It Out"}),e.jsx(u,{"data-test":"input-card-description",children:'Type "/" at the start or after a space to open the command menu. Use arrow keys to navigate, Enter/Tab to select, Escape to close.'})]}),e.jsxs(l,{children:[e.jsxs("div",{"data-test":"textarea-container",className:"relative",children:[g&&e.jsx(I,{commands:y,selectedIndex:b,position:w,onSelect:S,onClose:v}),e.jsx(O,{ref:o,"data-test":"demo-textarea",value:j,onChange:T,onKeyDown:C,placeholder:"Type / to see available commands...",className:"min-h-[150px] resize-none",rows:6})]}),e.jsxs("div",{"data-test":"available-commands",className:"mt-4",children:[e.jsx("h4",{"data-test":"available-commands-title",className:"text-sm font-medium mb-2",children:"Available Commands:"}),e.jsx("div",{"data-test":"command-badges",className:"flex flex-wrap gap-2",children:x.map(t=>e.jsxs(p,{variant:"secondary","data-test":`command-badge-${t.id}`,children:[e.jsx("span",{className:"mr-1",children:t.icon}),"/",t.trigger]},t.id))})]})]})]}),e.jsxs(r,{"data-test":"history-card",children:[e.jsx(m,{children:e.jsxs("div",{"data-test":"history-header",className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx(c,{"data-test":"history-card-title",children:"Execution History"}),e.jsx(u,{"data-test":"history-card-description",children:"Commands executed and their context"})]}),d.length>0&&e.jsx("button",{"data-test":"clear-history-button",onClick:D,className:"text-sm text-muted-foreground hover:text-foreground",children:"Clear"})]})}),e.jsx(l,{children:d.length===0?e.jsx("p",{"data-test":"no-commands-message",className:"text-muted-foreground text-sm",children:'No commands executed yet. Try typing "/" in the textarea.'}):e.jsx("div",{"data-test":"command-history-list",className:"space-y-3 max-h-[300px] overflow-y-auto",children:d.slice().reverse().map((t,s)=>e.jsxs("div",{"data-test":"history-item",className:"border rounded-md p-3",children:[e.jsxs("div",{"data-test":"history-item-header",className:"flex justify-between items-center mb-2",children:[e.jsx(p,{"data-test":"history-item-command",children:t.command}),e.jsx("span",{"data-test":"history-item-timestamp",className:"text-xs text-muted-foreground",children:t.timestamp.toLocaleTimeString()})]}),e.jsx("pre",{"data-test":"history-item-context",className:"text-xs bg-muted p-2 rounded overflow-x-auto",children:t.context})]},d.length-1-s))})})]})]}),e.jsxs(r,{"data-test":"features-card",className:"mt-6",children:[e.jsx(m,{children:e.jsx(c,{"data-test":"features-card-title",children:"Features"})}),e.jsx(l,{children:e.jsxs("ul",{"data-test":"features-list",className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("li",{"data-test":"feature-item-1",className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-green-500",children:"✓"}),'Trigger with "/" at start or after whitespace']}),e.jsxs("li",{"data-test":"feature-item-2",className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-green-500",children:"✓"}),"Fuzzy filtering by trigger or name"]}),e.jsxs("li",{"data-test":"feature-item-3",className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-green-500",children:"✓"}),"Keyboard navigation (↑/↓, Enter/Tab, Escape)"]}),e.jsxs("li",{"data-test":"feature-item-4",className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-green-500",children:"✓"}),"Automatic text replacement"]}),e.jsxs("li",{"data-test":"feature-item-5",className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-green-500",children:"✓"}),"Click outside to close"]}),e.jsxs("li",{"data-test":"feature-item-6",className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-green-500",children:"✓"}),"Custom icons per command"]}),e.jsxs("li",{"data-test":"feature-item-7",className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-green-500",children:"✓"}),"Callback with full context"]}),e.jsxs("li",{"data-test":"feature-item-8",className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-green-500",children:"✓"}),"Reusable hook for any input"]})]})})]})]})]})}export{U as SlashCommandDemoPage};
