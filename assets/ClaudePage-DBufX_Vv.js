import{d as w,r as n,j as e}from"./react-vendor-Byz07MLO.js";import{S as N}from"./SessionSidebar-CSfwOUNw.js";import{u as y,C,e as M,a as b,q as E,r as k}from"./index-hTFRJyrx.js";import{G as A}from"./icons-yhbeTEay.js";import"./radix-ui-9f16WUVy.js";import"./tree-CNsSXVP0.js";import"./utils-G1l1U0hd.js";import"./ui-utils-BxIQ3qGg.js";function V(){const t=w(),{sessions:l,loadingSessions:i,sessionsError:c,pagination:d,currentPage:u,excludeAgents:g,searchSessions:h,refreshSessions:m,handlePageChange:f,handleLoadMore:p,toggleExcludeAgents:x}=y({loadOnMount:!1,subscribeToSSE:!1}),[L,o]=n.useState(null),[P,r]=n.useState(!1),S=a=>{t(`/claude/${a}`)},v=async(a,j)=>{try{r(!0);const s=await k.searchMessages(a,j);o(s.results),console.log("Message search results:",s)}catch(s){console.error("Message search failed:",s),o([])}finally{r(!1)}};return e.jsx("div",{className:"claude-page-container h-full p-4 overflow-hidden","data-test":"claude-page-container",children:e.jsxs("div",{className:"claude-layout grid grid-cols-[350px_1fr] gap-4 h-full overflow-hidden","data-test":"claude-page-layout",children:[e.jsx("div",{className:"sessions-sidebar overflow-hidden","data-test":"claude-page-sessions-sidebar",children:e.jsx(N,{sessions:l,loading:i,error:c,onSessionSelect:S,selectedSessionId:null,onRefresh:m,pagination:d,currentPage:u,onPageChange:f,onLoadMore:p,onSearch:h,onMessageSearch:v,excludeAgents:g,onToggleExcludeAgents:x})}),e.jsx("div",{className:"welcome-area overflow-hidden","data-test":"claude-page-welcome-area",children:e.jsx(C,{className:"h-full flex items-center justify-center","data-test":"claude-page-welcome-card",children:e.jsxs(M,{className:"text-center p-8","data-test":"claude-page-welcome-content",children:[e.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"Select a Session"}),e.jsx("p",{className:"text-muted-foreground",children:"Choose a session from the sidebar to view its conversation"}),e.jsxs(b,{variant:"outline",className:"mt-4",onClick:()=>t("/claude/forks"),"data-test":"claude-page-forks-button",children:[e.jsx(A,{className:"h-4 w-4 mr-2"}),"View Forks"]}),e.jsx("div",{className:"session-activity-display mt-4","data-test":"claude-page-session-activity",children:e.jsx(E,{sessionIds:[]})})]})})})]})})}export{V as ClaudePage};
