import{r,j as e}from"./react-vendor-Byz07MLO.js";import{u as L,D as k}from"./data-table-BcaOzJVU.js";import{B as d,a as i,C as m,b as h,c as x,d as u,e as g}from"./index-DPqC4dt9.js";import"./table-iyitXjRb.js";import"./utils-CsrmMPoT.js";import"./radix-ui-CdiC0DQF.js";import"./ui-utils-BxIQ3qGg.js";import"./icons-Ce2OFwrV.js";const j=[{id:1,name:"John Doe",email:"john@example.com",role:"Admin",status:"active",joinDate:"2024-01-15",lastLogin:"2024-03-20"},{id:2,name:"Jane Smith",email:"jane@example.com",role:"Editor",status:"active",joinDate:"2024-02-01",lastLogin:"2024-03-19"},{id:3,name:"Bob Johnson",email:"bob@example.com",role:"Viewer",status:"inactive",joinDate:"2024-01-20",lastLogin:"2024-03-10"},{id:4,name:"Alice Brown",email:"alice@example.com",role:"Editor",status:"pending",joinDate:"2024-03-01",lastLogin:"2024-03-18"},{id:5,name:"Charlie Davis",email:"charlie@example.com",role:"Admin",status:"active",joinDate:"2023-12-15",lastLogin:"2024-03-21"},{id:6,name:"Eva Wilson",email:"eva@example.com",role:"Viewer",status:"active",joinDate:"2024-02-15",lastLogin:"2024-03-17"},{id:7,name:"Frank Miller",email:"frank@example.com",role:"Editor",status:"inactive",joinDate:"2024-01-10",lastLogin:"2024-02-28"},{id:8,name:"Grace Lee",email:"grace@example.com",role:"Admin",status:"active",joinDate:"2024-02-20",lastLogin:"2024-03-22"}];function z(){const[n,l]=r.useState(j),[p,o]=r.useState(!1),f=r.useMemo(()=>[{key:"id",header:"ID",width:80,sortable:!0},{key:"name",header:"Name",sortable:!0},{key:"email",header:"Email",sortable:!0},{key:"role",header:"Role",sortable:!0,accessor:s=>e.jsx(d,{variant:s.role==="Admin"?"default":s.role==="Editor"?"secondary":"outline",children:s.role})},{key:"status",header:"Status",sortable:!0,accessor:s=>e.jsx(d,{variant:s.status==="active"?"default":s.status==="pending"?"secondary":"destructive",children:s.status})},{key:"joinDate",header:"Join Date",sortable:!0,accessor:s=>new Date(s.joinDate).toLocaleDateString()},{key:"lastLogin",header:"Last Login",sortable:!0,accessor:s=>new Date(s.lastLogin).toLocaleDateString()},{key:"actions",header:"Actions",sortable:!1,accessor:s=>e.jsxs("div",{className:"action-buttons flex gap-2",children:[e.jsx(i,{size:"sm",variant:"outline",onClick:a=>{a.stopPropagation(),v(s.id)},children:"Edit"}),e.jsx(i,{size:"sm",variant:"destructive",onClick:a=>{a.stopPropagation(),D(s.id)},children:"Delete"})]})}],[]),t=L({data:n,columns:f,initialSortBy:"name",initialPageSize:5,enableSelection:!0,selectionOptions:{multiSelect:!0,getRowId:s=>s.id}}),v=s=>{console.log("Edit user:",s)},D=s=>{l(a=>a.filter(c=>c.id!==s))},b=()=>{const s={id:Math.max(...n.map(a=>a.id))+1,name:`User ${n.length+1}`,email:`user${n.length+1}@example.com`,role:"Viewer",status:"pending",joinDate:new Date().toISOString().split("T")[0],lastLogin:new Date().toISOString().split("T")[0]};l(a=>[...a,s])},S=()=>{const s=Array.from(t.selection.selectedRows);l(a=>a.filter((c,w)=>!s.includes(w))),t.selection.actions.deselectAll()},y=async()=>{o(!0),await new Promise(s=>setTimeout(s,1e3)),l(j),o(!1)};return e.jsxs("div",{className:"table-page container mx-auto py-8 space-y-6 h-full flex flex-col",children:[e.jsxs(m,{className:"flex-1 flex flex-col",children:[e.jsx(h,{children:e.jsxs("div",{className:"card-header-content flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(x,{children:"User Management"}),e.jsx(u,{children:"Manage users with sorting, filtering, and bulk operations"})]}),e.jsxs("div",{className:"header-actions flex items-center gap-2",children:[t.selection.selectedRows.size>0&&e.jsxs(i,{variant:"destructive",onClick:S,children:["Delete Selected (",t.selection.selectedRows.size,")"]}),e.jsx(i,{onClick:b,children:"Add User"}),e.jsx(i,{variant:"outline",onClick:y,children:"Refresh"})]})]})}),e.jsx(g,{className:"flex-1 flex flex-col",children:e.jsx(k,{table:t,isLoading:p,searchPlaceholder:"Search users...",pageSizeOptions:[5,10,20,50],emptyMessage:"No users found. Try adjusting your search.",className:"flex-1 flex flex-col"})})]}),e.jsxs(m,{children:[e.jsxs(h,{children:[e.jsx(x,{children:"Table State"}),e.jsx(u,{children:"Current table state for debugging"})]}),e.jsx(g,{children:e.jsxs("div",{className:"debug-info grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Total Items:"})," ",t.computed.totalItems]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Current Page:"})," ",t.state.currentPage," / ",t.computed.totalPages]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Page Size:"})," ",t.state.pageSize]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Search Term:"}),' "',t.state.searchTerm,'"']}),e.jsxs("div",{children:[e.jsx("strong",{children:"Sort By:"})," ",t.state.sortBy??"None"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Sort Order:"})," ",t.state.sortOrder]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Selected Rows:"})," ",t.selection.selectedRows.size]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Selected Items:"})," ",t.selection.selectedItems.map(s=>s.name).join(", ")??"None"]})]})})]})]})}export{z as TablePage};
