import{r as m,j as e}from"./react-vendor-Byz07MLO.js";import{B as V}from"./Breadcrumbs-KCfVAlqp.js";import{C as d,b as p,c as x,d as h,e as n,T as E,B as k,m as G,n as I,o as f,p as y,av as u,V as N,a as q}from"./index-CJ-Awmlc.js";import{i as A,h as K}from"./clipboardHtmlToMarkdown-BNZmEbgs.js";import{m as R}from"./markdownToHtml-C-4HvgxL.js";import{k as C,h as $,F as J,i as O,ak as Q,x as U,E as W,C as X,e as Y}from"./icons-Detj0uxE.js";import"./radix-ui-B6r6BEmy.js";import"./utils-DjFvUtuq.js";import"./ui-utils-BxIQ3qGg.js";function Z(){const[b,_]=m.useState([]),[H,T]=m.useState(""),[c,M]=m.useState(""),[P,S]=m.useState(!1),[B,j]=m.useState({}),[v,z]=m.useState(!1),L=t=>{t.preventDefault();const a=t.clipboardData,s=a.types,r=[];let g="";if(s.forEach(l=>{try{const o=a.getData(l);r.push({type:l,content:o,size:o.length}),l==="text/html"&&(g=o)}catch(o){console.warn(`Could not getData for type: ${l}`,o),r.push({type:l,content:"[Error retrieving data]",size:0})}}),_(r),T(s.includes("text/html")?"text/html":s[0]||""),z(!0),g){const l=A(g);S(l);const o=K(g);M(o)}else S(!1),M("")},F=async(t,a)=>{try{await navigator.clipboard.writeText(t),j(s=>({...s,[a]:"copied"})),setTimeout(()=>{j(s=>({...s,[a]:"idle"}))},2e3)}catch(s){console.error("Failed to copy:",s),j(r=>({...r,[a]:"error"})),setTimeout(()=>{j(r=>({...r,[a]:"idle"}))},2e3)}},i=t=>{var a;return((a=b.find(s=>s.type===t))==null?void 0:a.content)||""},w=({content:t,copyKey:a})=>{const s=B[a]||"idle";return e.jsx(q,{variant:"outline",size:"sm",onClick:()=>F(t,a),disabled:!t,className:"gap-2","data-test":"copy-button",children:s==="copied"?e.jsxs(e.Fragment,{children:[e.jsx(X,{className:"h-4 w-4 text-green-500"}),"Copied"]}):e.jsxs(e.Fragment,{children:[e.jsx(Y,{className:"h-4 w-4"}),"Copy"]})})},D=t=>{if(t===0)return"0 B";const a=1024,s=["B","KB","MB"],r=Math.floor(Math.log(t)/Math.log(a));return parseFloat((t/Math.pow(a,r)).toFixed(1))+" "+s[r]};return e.jsxs("div",{className:"p-6 max-w-6xl mx-auto space-y-6","data-test":"pasted-content-viewer",children:[e.jsxs(d,{"data-test":"paste-input-card",children:[e.jsxs(p,{children:[e.jsxs(x,{className:"flex items-center gap-2","data-test":"paste-input-title",children:[e.jsx(C,{className:"h-5 w-5"}),"Clipboard Content Analyzer"]}),e.jsx(h,{"data-test":"paste-input-description",children:"Paste content from any source to analyze clipboard data types and convert to Markdown"})]}),e.jsxs(n,{children:[e.jsx(E,{rows:4,onPaste:L,placeholder:"Paste content here (Ctrl+V / Cmd+V)...",className:"font-mono text-sm","data-test":"paste-input-textarea"}),v&&e.jsxs("div",{className:"mt-3 flex flex-wrap gap-2","data-test":"clipboard-types-badges",children:[b.map(t=>e.jsxs(k,{variant:t.type===H?"default":"outline",className:"cursor-pointer",onClick:()=>T(t.type),"data-test":"clipboard-type-badge",children:[t.type,e.jsxs("span",{className:"ml-1 text-xs opacity-70",children:["(",D(t.size),")"]})]},t.type)),P&&e.jsxs(k,{variant:"secondary",className:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200","data-test":"badge-google-docs",children:[e.jsx($,{className:"h-3 w-3 mr-1"}),"Google Docs"]})]})]})]}),v&&e.jsxs(G,{defaultValue:"markdown",className:"w-full","data-test":"results-tabs",children:[e.jsxs(I,{className:"grid w-full grid-cols-4","data-test":"tabs-list",children:[e.jsxs(f,{value:"markdown",className:"gap-2","data-test":"tab-markdown",children:[e.jsx(J,{className:"h-4 w-4"}),"Markdown"]}),e.jsxs(f,{value:"html",className:"gap-2","data-test":"tab-html",children:[e.jsx(O,{className:"h-4 w-4"}),"HTML Source"]}),e.jsxs(f,{value:"plain",className:"gap-2","data-test":"tab-plain",children:[e.jsx(Q,{className:"h-4 w-4"}),"Plain Text"]}),e.jsxs(f,{value:"all",className:"gap-2","data-test":"tab-all",children:[e.jsx(C,{className:"h-4 w-4"}),"All Types"]})]}),e.jsx(y,{value:"markdown","data-test":"content-markdown",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[e.jsxs(d,{"data-test":"markdown-source-card",children:[e.jsxs(p,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsxs("div",{children:[e.jsxs(x,{className:"text-lg flex items-center gap-2","data-test":"markdown-source-title",children:[e.jsx(U,{className:"h-4 w-4"}),"Markdown Source"]}),e.jsx(h,{"data-test":"markdown-source-description",children:P?"Converted from Google Docs HTML":"Converted from HTML source"})]}),e.jsx(w,{content:c,copyKey:"markdown"})]}),e.jsx(n,{children:e.jsx(u,{className:"h-[400px] w-full rounded-md border bg-muted/30","data-test":"markdown-source-scroll",children:e.jsx("pre",{className:N("p-4 text-sm font-mono whitespace-pre-wrap break-words",!c&&"text-muted-foreground italic"),"data-test":"markdown-source-content",children:c||"No HTML content to convert. Paste content containing HTML."})})})]}),e.jsxs(d,{"data-test":"markdown-preview-card",children:[e.jsxs(p,{className:"pb-2",children:[e.jsxs(x,{className:"text-lg flex items-center gap-2","data-test":"markdown-preview-title",children:[e.jsx(W,{className:"h-4 w-4"}),"Rendered Preview"]}),e.jsx(h,{"data-test":"markdown-preview-description",children:"How the markdown will appear when rendered"})]}),e.jsx(n,{children:e.jsx(u,{className:"h-[400px] w-full rounded-md border bg-background","data-test":"markdown-preview-scroll",children:e.jsx("div",{className:N("p-4 prose prose-sm dark:prose-invert max-w-none","[&_h1]:text-2xl [&_h1]:font-bold [&_h1]:mb-2 [&_h1]:mt-0","[&_h2]:text-xl [&_h2]:font-semibold [&_h2]:mb-2 [&_h2]:mt-4","[&_h3]:text-lg [&_h3]:font-medium [&_h3]:mb-2 [&_h3]:mt-3","[&_p]:mb-2 [&_p]:leading-relaxed","[&_ul]:list-disc [&_ul]:pl-6 [&_ul]:mb-2","[&_ol]:list-decimal [&_ol]:pl-6 [&_ol]:mb-2","[&_li]:mb-1","[&_blockquote]:border-l-4 [&_blockquote]:border-muted-foreground/30 [&_blockquote]:pl-4 [&_blockquote]:italic [&_blockquote]:text-muted-foreground","[&_code]:bg-muted [&_code]:px-1.5 [&_code]:py-0.5 [&_code]:rounded [&_code]:text-sm [&_code]:font-mono","[&_pre]:bg-muted [&_pre]:p-3 [&_pre]:rounded-md [&_pre]:overflow-x-auto","[&_a]:text-primary [&_a]:underline","[&_table]:w-full [&_table]:border-collapse","[&_th]:border [&_th]:border-border [&_th]:px-3 [&_th]:py-2 [&_th]:bg-muted [&_th]:text-left","[&_td]:border [&_td]:border-border [&_td]:px-3 [&_td]:py-2","[&_hr]:border-border [&_hr]:my-4","[&_strong]:font-bold","[&_em]:italic","[&_del]:line-through",!c&&"text-muted-foreground italic"),"data-test":"markdown-preview-content",dangerouslySetInnerHTML:{__html:c?R(c):"<p>No content to preview</p>"}})})})]})]})}),e.jsx(y,{value:"html","data-test":"content-html",children:e.jsxs(d,{children:[e.jsxs(p,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsxs("div",{children:[e.jsx(x,{className:"text-lg","data-test":"html-title",children:"HTML Source"}),e.jsx(h,{"data-test":"html-description",children:"Raw HTML from clipboard (text/html)"})]}),e.jsx(w,{content:i("text/html"),copyKey:"html"})]}),e.jsx(n,{children:e.jsx(u,{className:"h-[400px] w-full rounded-md border","data-test":"html-scroll-area",children:e.jsx("pre",{className:N("p-4 text-sm font-mono whitespace-pre-wrap break-words",!i("text/html")&&"text-muted-foreground italic"),"data-test":"html-content",children:i("text/html")||"No HTML content in clipboard."})})})]})}),e.jsx(y,{value:"plain","data-test":"content-plain",children:e.jsxs(d,{children:[e.jsxs(p,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsxs("div",{children:[e.jsx(x,{className:"text-lg","data-test":"plain-title",children:"Plain Text"}),e.jsx(h,{"data-test":"plain-description",children:"Raw text content (text/plain)"})]}),e.jsx(w,{content:i("text/plain"),copyKey:"plain"})]}),e.jsx(n,{children:e.jsx(u,{className:"h-[400px] w-full rounded-md border","data-test":"plain-scroll-area",children:e.jsx("pre",{className:N("p-4 text-sm font-mono whitespace-pre-wrap break-words",!i("text/plain")&&"text-muted-foreground italic"),"data-test":"plain-content",children:i("text/plain")||"No plain text content in clipboard."})})})]})}),e.jsx(y,{value:"all","data-test":"content-all",children:e.jsxs(d,{children:[e.jsxs(p,{children:[e.jsx(x,{className:"text-lg","data-test":"all-title",children:"All Clipboard Types"}),e.jsx(h,{"data-test":"all-description",children:"View content for each clipboard data type"})]}),e.jsx(n,{className:"space-y-4",children:b.map(t=>e.jsxs("div",{className:"rounded-lg border p-4","data-test":"clipboard-type-section",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(k,{variant:"outline","data-test":"type-badge",children:t.type}),e.jsx("span",{className:"text-xs text-muted-foreground","data-test":"type-size",children:D(t.size)})]}),e.jsx(w,{content:t.content,copyKey:t.type})]}),e.jsx(u,{className:"h-[200px] w-full rounded-md border bg-muted/30","data-test":"type-scroll-area",children:e.jsx("pre",{className:"p-3 text-xs font-mono whitespace-pre-wrap break-words","data-test":"type-content",children:t.content||"[Empty]"})})]},t.type))})]})})]}),!v&&e.jsx(d,{className:"border-dashed","data-test":"empty-state-card",children:e.jsxs(n,{className:"flex flex-col items-center justify-center py-12 text-center",children:[e.jsx(C,{className:"h-12 w-12 text-muted-foreground/50 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-muted-foreground","data-test":"empty-state-title",children:"No content pasted yet"}),e.jsx("p",{className:"text-sm text-muted-foreground/70 mt-1","data-test":"empty-state-description",children:"Paste content from Google Docs, web pages, or any other source to analyze and convert"})]})})]})}function ce({logger:b}){const _=[{label:"Home",href:"/"},{label:"Demo",href:"/demo"},{label:"Pasted Content Viewer"}];return e.jsxs("div",{className:"pasted-content-viewer-demo-page flex-1 flex flex-col h-full","data-test":"pasted-content-viewer-demo-page",children:[e.jsxs("div",{className:"page-header p-6 pb-0 flex-shrink-0","data-test":"page-header",children:[e.jsx("div",{className:"breadcrumb-section mb-4","data-test":"breadcrumb-section",children:e.jsx(V,{items:_})}),e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Pasted Content Viewer"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Inspect clipboard data types and content. Paste from any source to see available MIME types."})]}),e.jsx("div",{className:"page-content flex-1 p-6 overflow-y-auto min-h-0","data-test":"page-content",children:e.jsx(Z,{})})]})}export{ce as PastedContentViewerDemoPage};
