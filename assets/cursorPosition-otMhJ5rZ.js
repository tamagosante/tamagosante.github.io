function E(o){const n=o.getBoundingClientRect(),s=window.getComputedStyle(o),c=parseInt(s.lineHeight||s.fontSize);if(o.tagName==="TEXTAREA"){const i=o,m=i.selectionEnd,t=document.createElement("div");["boxSizing","width","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","paddingTop","paddingRight","paddingBottom","paddingLeft","fontFamily","fontSize","fontWeight","lineHeight","letterSpacing"].forEach(a=>{t.style[a]=s[a]}),t.style.position="absolute",t.style.top=n.top+"px",t.style.left=n.left+"px",t.style.visibility="hidden",t.style.whiteSpace="pre-wrap",t.style.wordWrap="break-word",t.style.overflow="hidden";const b=i.value.substring(0,m);t.textContent=b;const l=document.createElement("span");l.textContent="|",t.appendChild(l),document.body.appendChild(t);const p=l.getBoundingClientRect();t.getBoundingClientRect(),document.body.removeChild(t);const w=p.top-n.top,C=p.left-n.left,v=w+c+4-i.scrollTop,x=C-i.scrollLeft;return{top:v,left:x}}const d=o,f=d.selectionEnd||0,g=d.value.substring(0,f),e=document.createElement("span"),r=window.getComputedStyle(d);e.style.font=r.font,e.style.visibility="hidden",e.style.position="absolute",e.style.whiteSpace="pre",e.textContent=g,document.body.appendChild(e);const h=e.getBoundingClientRect().width;document.body.removeChild(e);const u=parseInt(r.paddingLeft),y=Math.min(u+h,n.width-50);return{top:c+4,left:y}}export{E as g};
