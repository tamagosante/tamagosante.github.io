import{r as c}from"./react-vendor-Byz07MLO.js";function O({sessionIds:t,selectedSessionId:r,onSessionSelect:k,onFocusMessageInput:o,enabled:E=!0}){const[a,x]=c.useState(-1),[w,b]=c.useState(!1),h=c.useRef(null);c.useEffect(()=>{if(r){const e=t.indexOf(r);e!==-1&&e!==a&&x(e)}},[r,t]);const l=c.useCallback(()=>{var e;if(b(!0),a===-1&&t.length>0){const u=r?t.indexOf(r):-1;x(u!==-1?u:0)}(e=h.current)==null||e.focus()},[a,t,r]),y=c.useCallback(()=>{b(!1)},[]);return c.useEffect(()=>{if(!E)return;const e=u=>{const n=document.activeElement,D=(n==null?void 0:n.tagName)==="TEXTAREA",A=(n==null?void 0:n.tagName)==="INPUT",T=(n==null?void 0:n.getAttribute("contenteditable"))==="true",m=D||A||T;if(u.key==="Escape"&&m){u.preventDefault(),n.blur(),l();return}if(!m)switch(u.key){case"ArrowUp":u.preventDefault(),w||b(!0),x(f=>{if(f===-1){const i=r?t.indexOf(r):-1;return i!==-1?i:0}return f>0?f-1:t.length-1});break;case"ArrowDown":u.preventDefault(),w||b(!0),x(f=>{if(f===-1){const i=r?t.indexOf(r):-1;return i!==-1?i:0}return f<t.length-1?f+1:0});break;case"Enter":if(u.preventDefault(),a>=0&&a<t.length){const f=t[a];k(f),b(!1),setTimeout(()=>{o==null||o()},100)}break}};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[E,w,a,t,r,k,o,l]),{focusedIndex:a,setFocusedIndex:x,sidebarHasFocus:w,focusSidebar:l,blurSidebar:y,sidebarRef:h}}export{O as u};
