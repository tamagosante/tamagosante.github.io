import{r as c,j as e}from"./react-vendor-BOZDwKwV.js";import{u as y,a as m,b as v}from"./react-hooks-Dl1bdWHK.js";import{B as ae}from"./Breadcrumbs-S61b4Rvs.js";import"./DragDropManager-BCQ9eUTy.js";import"./radix-ui-DhHtVSYQ.js";import"./index-Cmkaodfg.js";import"./utils-CGefl9Xh.js";import"./ui-utils-BxIQ3qGg.js";import"./icons-Cf9puwNc.js";function ge({logger:u}){const C=[{label:"Home",href:"/"},{label:"Demo",href:"/demo"},{label:"Drag and Drop"}],[x,E]=c.useState([{id:"1",title:"Design homepage",status:"todo"},{id:"2",title:"Implement auth",status:"todo"},{id:"3",title:"Write tests",status:"in-progress"},{id:"4",title:"Deploy to prod",status:"done"}]),[D,$]=c.useState([{id:"v1",text:"First item"},{id:"v2",text:"Second item"},{id:"v3",text:"Third item"},{id:"v4",text:"Fourth item"}]),[z,F]=c.useState([{id:"h1",text:"A"},{id:"h2",text:"B"},{id:"h3",text:"C"},{id:"h4",text:"D"}]),[j,k]=c.useState(null),[a,S]=c.useState(null),[g,R]=c.useState(null),[M,T]=c.useState(null),[Z,A]=c.useState(null),[B,H]=c.useState(!1),P=c.useMemo(()=>({onDragStart:s=>{var n;const t=(n=s.item.data)==null?void 0:n.taskId;k(t),u==null||u.log("Drag started:",t)},onDragMove:s=>{var n;const t=((n=s.dropZone)==null?void 0:n.id)||null;S(t),R(s.sortIndex)},onDrop:s=>{var i,l;const t=(i=s.item.data)==null?void 0:i.taskId,n=(l=s.dropZone.data)==null?void 0:l.status;let o=s.sortIndex??0;t&&n&&(E(h=>{const r=h.find(d=>d.id===t),oe=h.filter(d=>d.status===n),N=h.filter(d=>d.id!==t);if((r==null?void 0:r.status)===n){const d=oe.findIndex(re=>re.id===t);d!==-1&&d<o&&(o=o-1)}let w=0;for(const d of N){if(d.status===n)break;w++}if(w+=o,r){const d={...r,status:n};N.splice(w,0,d)}return N}),u==null||u.log(`Task ${t} moved to ${n}`))},onDragEnd:()=>{k(null),S(null),R(null)}}),[u]),{manager:p}=y({snap:{enabled:!1,threshold:10},sort:{enabled:!0,orientation:"vertical",threshold:.5},dragThreshold:5},P),V=c.useMemo(()=>({onDragMove:s=>{T(s.sortIndex)},onDrop:s=>{var o;const t=(o=s.item.data)==null?void 0:o.itemId,n=s.sortIndex;t!=null&&n!=null&&$(i=>{const l=[...i],h=l.findIndex(r=>r.id===t);if(h!==-1){const[r]=l.splice(h,1);l.splice(n,0,r)}return l})},onDragEnd:()=>{T(null)}}),[]),{manager:b}=y({sort:{enabled:!0,orientation:"vertical",threshold:.5},dragThreshold:5},V),K=c.useMemo(()=>({onDragMove:s=>{A(s.sortIndex)},onDrop:s=>{var o;const t=(o=s.item.data)==null?void 0:o.itemId,n=s.sortIndex;t!=null&&n!=null&&F(i=>{const l=[...i],h=l.findIndex(r=>r.id===t);if(h!==-1){const[r]=l.splice(h,1);l.splice(n,0,r)}return l})},onDragEnd:()=>{A(null)}}),[]),{manager:f}=y({sort:{enabled:!0,orientation:"horizontal",threshold:.5},snap:{enabled:B,threshold:20},dragThreshold:5},K),I={1:m(p,"1",{taskId:"1"}),2:m(p,"2",{taskId:"2"}),3:m(p,"3",{taskId:"3"}),4:m(p,"4",{taskId:"4"})},L=v(p,"todo-zone",void 0,{status:"todo"}),U=v(p,"in-progress-zone",void 0,{status:"in-progress"}),W=v(p,"done-zone",void 0,{status:"done"}),q=m(b,"v1",{itemId:"v1"}),G=m(b,"v2",{itemId:"v2"}),J=m(b,"v3",{itemId:"v3"}),O=m(b,"v4",{itemId:"v4"}),Q=v(b,"vertical-zone"),X={v1:q,v2:G,v3:J,v4:O},Y=m(f,"h1",{itemId:"h1"}),_=m(f,"h2",{itemId:"h2"}),ee=m(f,"h3",{itemId:"h3"}),se=m(f,"h4",{itemId:"h4"}),te=v(f,"horizontal-zone"),ne={h1:Y,h2:_,h3:ee,h4:se};return e.jsxs("div",{className:"drag-and-drop-demo-page flex-1 flex flex-col h-full",children:[e.jsxs("div",{className:"page-header p-6 pb-0 flex-shrink-0",children:[e.jsx("div",{className:"breadcrumb-section mb-4",children:e.jsx(ae,{items:C})}),e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Drag and Drop Library"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Framework-agnostic headless drag and drop with dropzones, sorting, and snapping"})]}),e.jsxs("div",{className:"page-content flex-1 p-6 overflow-y-auto min-h-0",children:[e.jsxs("div",{className:"demo-section mb-8",children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Dropzones (Kanban Board)"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Drag tasks between different status columns"}),e.jsxs("div",{className:"kanban-board grid grid-cols-3 gap-4",children:[e.jsxs("div",{ref:L,className:`kanban-column bg-gray-100 rounded-lg p-4 min-h-[300px] ${a==="todo-zone"?"ring-2 ring-blue-500":""}`,children:[e.jsx("h3",{className:"font-semibold mb-3 text-gray-700",children:"To Do"}),e.jsxs("div",{className:"tasks-list space-y-2",children:[x.filter(s=>s.status==="todo").map((s,t,n)=>{const o=a==="todo-zone"&&g===t,i=a==="todo-zone"&&g===t+1&&t===n.length-1;return e.jsxs("div",{children:[o&&e.jsx("div",{className:"insertion-indicator h-1 bg-blue-500 rounded-full my-2 animate-pulse"}),e.jsx("div",{ref:I[s.id],className:`task-card bg-white p-3 rounded shadow cursor-move hover:shadow-md transition-shadow ${j===s.id?"opacity-50":""}`,children:s.title}),i&&e.jsx("div",{className:"insertion-indicator h-1 bg-blue-500 rounded-full my-2 animate-pulse"})]},s.id)}),a==="todo-zone"&&x.filter(s=>s.status==="todo").length===0&&e.jsx("div",{className:"insertion-indicator h-1 bg-blue-500 rounded-full my-2 animate-pulse"})]})]}),e.jsxs("div",{ref:U,className:`kanban-column bg-gray-100 rounded-lg p-4 min-h-[300px] ${a==="in-progress-zone"?"ring-2 ring-blue-500":""}`,children:[e.jsx("h3",{className:"font-semibold mb-3 text-gray-700",children:"In Progress"}),e.jsxs("div",{className:"tasks-list space-y-2",children:[x.filter(s=>s.status==="in-progress").map((s,t,n)=>{const o=a==="in-progress-zone"&&g===t,i=a==="in-progress-zone"&&g===t+1&&t===n.length-1;return e.jsxs("div",{children:[o&&e.jsx("div",{className:"insertion-indicator h-1 bg-blue-500 rounded-full my-2 animate-pulse"}),e.jsx("div",{ref:I[s.id],className:`task-card bg-white p-3 rounded shadow cursor-move hover:shadow-md transition-shadow ${j===s.id?"opacity-50":""}`,children:s.title}),i&&e.jsx("div",{className:"insertion-indicator h-1 bg-blue-500 rounded-full my-2 animate-pulse"})]},s.id)}),a==="in-progress-zone"&&x.filter(s=>s.status==="in-progress").length===0&&e.jsx("div",{className:"insertion-indicator h-1 bg-blue-500 rounded-full my-2 animate-pulse"})]})]}),e.jsxs("div",{ref:W,className:`kanban-column bg-gray-100 rounded-lg p-4 min-h-[300px] ${a==="done-zone"?"ring-2 ring-blue-500":""}`,children:[e.jsx("h3",{className:"font-semibold mb-3 text-gray-700",children:"Done"}),e.jsxs("div",{className:"tasks-list space-y-2",children:[x.filter(s=>s.status==="done").map((s,t,n)=>{const o=a==="done-zone"&&g===t,i=a==="done-zone"&&g===t+1&&t===n.length-1;return e.jsxs("div",{children:[o&&e.jsx("div",{className:"insertion-indicator h-1 bg-blue-500 rounded-full my-2 animate-pulse"}),e.jsx("div",{ref:I[s.id],className:`task-card bg-white p-3 rounded shadow cursor-move hover:shadow-md transition-shadow ${j===s.id?"opacity-50":""}`,children:s.title}),i&&e.jsx("div",{className:"insertion-indicator h-1 bg-blue-500 rounded-full my-2 animate-pulse"})]},s.id)}),a==="done-zone"&&x.filter(s=>s.status==="done").length===0&&e.jsx("div",{className:"insertion-indicator h-1 bg-blue-500 rounded-full my-2 animate-pulse"})]})]})]})]}),e.jsxs("div",{className:"demo-section mb-8",children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Vertical Sorting"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Drag items up and down to reorder them"}),e.jsx("div",{ref:Q,className:"vertical-sort-zone bg-gray-100 rounded-lg p-4 max-w-md",children:e.jsx("div",{className:"sortable-list space-y-2",children:D.map((s,t)=>{const n=M===t,o=M===t+1&&t===D.length-1;return e.jsxs("div",{children:[n&&e.jsx("div",{className:"insertion-indicator h-1 bg-green-500 rounded-full my-2 animate-pulse"}),e.jsx("div",{ref:X[s.id],className:"sortable-item bg-white p-4 rounded shadow cursor-move hover:shadow-md transition-shadow",children:s.text}),o&&e.jsx("div",{className:"insertion-indicator h-1 bg-green-500 rounded-full my-2 animate-pulse"})]},s.id)})})})]}),e.jsxs("div",{className:"demo-section mb-8",children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Horizontal Sorting with Snapping"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Drag items left and right to reorder them"}),e.jsx("div",{className:"snap-toggle mb-4",children:e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:B,onChange:s=>H(s.target.checked),className:"w-4 h-4"}),e.jsx("span",{children:"Enable Snapping"})]})}),e.jsx("div",{ref:te,className:"horizontal-sort-zone bg-gray-100 rounded-lg p-4",children:e.jsx("div",{className:"sortable-list flex gap-4",children:z.map((s,t)=>{const n=Z===t,o=Z===t+1&&t===z.length-1;return e.jsxs("div",{className:"flex items-center gap-4",children:[n&&e.jsx("div",{className:"insertion-indicator w-1 h-16 bg-purple-500 rounded-full animate-pulse"}),e.jsx("div",{ref:ne[s.id],className:"sortable-item bg-white p-8 rounded shadow cursor-move hover:shadow-md transition-shadow flex items-center justify-center min-w-[100px]",children:e.jsx("span",{className:"text-2xl font-bold",children:s.text})}),o&&e.jsx("div",{className:"insertion-indicator w-1 h-16 bg-purple-500 rounded-full animate-pulse"})]},s.id)})})})]}),e.jsxs("div",{className:"library-info bg-blue-50 border border-blue-200 rounded-lg p-6",children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Library Features"}),e.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-700",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Framework Agnostic:"})," Core library works with any framework"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Dropzones:"})," Define multiple drop targets (like Kanban boards)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Sorting:"})," Automatic position calculation for vertical and horizontal lists"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Snapping:"})," Configurable snap-to-grid and snap-to-elements"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Touch Support:"})," Full mobile and tablet support"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Auto-scroll:"})," Scroll when dragging near viewport edges"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Type-safe:"})," Full TypeScript support with comprehensive types"]})]}),e.jsxs("div",{className:"usage-example mt-6",children:[e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Basic Usage"}),e.jsx("pre",{className:"bg-gray-800 text-gray-100 p-4 rounded overflow-x-auto text-sm",children:`import { DragDropManager } from '@/lib/modules/dnd';

const manager = new DragDropManager({
  snap: { enabled: true, threshold: 10 },
  sort: { enabled: true, orientation: 'vertical' }
}, {
  onDrop: (event) => {
    console.log('Dropped:', event);
  }
});

manager.registerDraggable('item-1', element, { data });
manager.registerDropZone('zone-1', zoneElement);`})]})]})]})]})}export{ge as DragAndDropDemoPage};
