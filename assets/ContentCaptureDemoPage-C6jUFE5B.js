var V=Object.defineProperty;var Z=(o,t,s)=>t in o?V(o,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):o[t]=s;var g=(o,t,s)=>Z(o,typeof t!="symbol"?t+"":t,s);import{r as m,j as e}from"./react-vendor-Byz07MLO.js";import{N as _,ai as $,K as X,ac as U,a as A,ad as Y,ae as Q,af as ee,ay as te,be as se,m as ae,n as ne,o as B,p as q}from"./index-CJ-Awmlc.js";import{D as H}from"./DraggableCrudTree-C1-qpnFJ.js";import{t as E}from"./utils-DjFvUtuq.js";import{I as ie,S as re,a as oe,C as ce}from"./CustomCaptureController-B8DlCD_S.js";import{R as le,e as K,aa as de,$ as he,F as J,bj as me,bk as pe,X as ue,a7 as xe}from"./icons-Detj0uxE.js";import"./radix-ui-B6r6BEmy.js";import"./ui-utils-BxIQ3qGg.js";import"./DragDropManager-CacIWg_Z.js";import"./treeHelpers-DUv_6quS.js";class W{constructor(){g(this,"nodes",[]);g(this,"hierarchyMode","sibling");g(this,"lastCapturedId",null);g(this,"currentParentId",null);g(this,"isActive",!1);g(this,"listeners",new Set)}onChange(t){return this.listeners.add(t),()=>{this.listeners.delete(t)}}getState(){return{nodes:[...this.nodes],hierarchyMode:this.hierarchyMode,lastCapturedId:this.lastCapturedId,currentParentId:this.currentParentId,isActive:this.isActive}}notifyListeners(){const t=this.getState();this.listeners.forEach(s=>s(t))}activate(){this.isActive=!0,this.notifyListeners()}deactivate(){this.isActive=!1,this.notifyListeners()}setHierarchyMode(t){t==="sibling"&&this.goUpOneLevel(),this.hierarchyMode=t,this.notifyListeners()}goUpOneLevel(){if(this.currentParentId===null)return;const t=this.nodes.find(s=>s.id===this.currentParentId);t&&(this.currentParentId=t.parentId)}getNextOrder(t){const s=this.nodes.filter(a=>a.parentId===t);return s.length>0?Math.max(...s.map(a=>a.order))+1:0}captureNode(t,s){const a=this.hierarchyMode==="child"?this.lastCapturedId:this.currentParentId,n={id:_(10),text:t.trim(),content:s==null?void 0:s.trim(),parentId:a,order:this.getNextOrder(a)};return this.nodes.push(n),this.lastCapturedId=n.id,this.currentParentId=a,this.hierarchyMode="sibling",this.notifyListeners(),n}removeNode(t){const s=new Set,a=n=>{s.add(n),this.nodes.filter(i=>i.parentId===n).forEach(i=>a(i.id))};a(t),this.nodes=this.nodes.filter(n=>!s.has(n.id)),s.has(this.lastCapturedId??"")&&(this.lastCapturedId=this.nodes.length>0?this.nodes[this.nodes.length-1].id:null),s.has(this.currentParentId??"")&&(this.currentParentId=null),this.notifyListeners()}updateNode(t,s){const a=this.nodes.find(n=>n.id===t);a&&(a.text=s.trim(),this.notifyListeners())}findNodeByText(t){return this.nodes.find(s=>s.text===t)}getNodes(){return[...this.nodes]}getDepth(t){let s=0,a=this.nodes.find(n=>n.id===t);for(;a!=null&&a.parentId;)s++,a=this.nodes.find(n=>n.id===(a==null?void 0:a.parentId));return s}generateCanvasJson(t=!0){const{pasteWidth:s,nodeGap:a}=$.contentCapture,n=this.nodes.map((l,d)=>({id:l.id,type:X.TEXT,x:100+this.getDepth(l.id)*$.contentCapture.depthOffset,y:100+d*(80+a),width:s,height:void 0,title:l.content?l.text:void 0,content:l.content||l.text})),i=t?this.nodes.filter(l=>l.parentId).map(l=>({id:_(10),startNodeId:l.parentId,endNodeId:l.id,startPoint:{x:0,y:0},endPoint:{x:0,y:0}})):[];return{nodes:n,arrows:i}}toTreeNodes(){const t=s=>this.nodes.filter(a=>a.parentId===s).sort((a,n)=>a.order-n.order).map(a=>({id:a.id,label:a.text.slice(0,50)+(a.text.length>50?"...":""),children:t(a.id),data:a}));return t(null)}updateFromTree(t){const s=(a,n)=>{a.forEach((i,l)=>{const d=this.nodes.find(j=>j.id===i.id);d&&(d.parentId=n,d.order=l),i.children&&s(i.children,i.id)})};s(t,null),this.notifyListeners()}clear(){this.nodes=[],this.hierarchyMode="sibling",this.lastCapturedId=null,this.currentParentId=null,this.notifyListeners()}importNode(t){this.nodes.push(t),this.lastCapturedId=t.id}importNodes(t){this.clear(),t.forEach(s=>{this.nodes.push(s)}),t.length>0&&(this.lastCapturedId=t[t.length-1].id),this.notifyListeners()}}const be={childKey:"c",siblingKey:"m",finishKey:"Escape"};class ge{constructor(t={}){g(this,"config");g(this,"isEnabled",!1);g(this,"listeners",new Set);g(this,"boundHandler");this.config={...be,...t},this.boundHandler=this.handleKeyDown.bind(this)}onAction(t){return this.listeners.add(t),()=>{this.listeners.delete(t)}}parseKey(t){return t.toLowerCase()===this.config.childKey.toLowerCase()?{type:"SET_MODE",mode:"child"}:t.toLowerCase()===this.config.siblingKey.toLowerCase()?{type:"SET_MODE",mode:"sibling"}:t===this.config.finishKey?{type:"FINISH"}:{type:"NONE"}}handleKeyDown(t){if(!this.isEnabled)return;const s=this.parseKey(t.key);s.type!=="NONE"&&(t.preventDefault(),t.stopPropagation(),this.notifyListeners(s))}notifyListeners(t){this.listeners.forEach(s=>s(t))}enable(){this.isEnabled||(this.isEnabled=!0,document.addEventListener("keydown",this.boundHandler,!0))}disable(){this.isEnabled&&(this.isEnabled=!1,document.removeEventListener("keydown",this.boundHandler,!0))}getIsEnabled(){return this.isEnabled}getConfig(){return{...this.config}}destroy(){this.disable(),this.listeners.clear()}}class fe{constructor(){g(this,"captureFacade");g(this,"keyboardFacade");g(this,"inspectorFacade");g(this,"phase","idle");g(this,"listeners",new Set);g(this,"unsubscribeCapture",null);g(this,"unsubscribeKeyboard",null);g(this,"unsubscribeInspectorClick",null);this.captureFacade=new W,this.keyboardFacade=new ge,this.inspectorFacade=new ie}onStateChange(t){return this.listeners.add(t),()=>{this.listeners.delete(t)}}getState(){return{phase:this.phase,captureState:this.captureFacade.getState(),inspectorActive:this.inspectorFacade.isActive()}}notifyListeners(){const t=this.getState();this.listeners.forEach(s=>s(t))}setPhase(t){this.phase=t,this.notifyListeners()}async startCapture(){this.phase==="idle"&&(await this.inspectorFacade.init(),this.captureFacade.clear(),this.captureFacade.activate(),this.unsubscribeCapture=this.captureFacade.onChange(()=>{this.notifyListeners()}),this.unsubscribeKeyboard=this.keyboardFacade.onAction(t=>{this.handleKeyboardAction(t)}),this.unsubscribeInspectorClick=this.inspectorFacade.onElementClick(t=>{var n;let s,a;(n=t.siteFields)!=null&&n.title?(s=t.siteFields.title,a=t.siteFields.content||t.semanticMarkdown||t.text):(s=t.semanticMarkdown||t.text,a=void 0),this.captureElement(s,a)}),this.keyboardFacade.enable(),this.inspectorFacade.startManaging(),this.inspectorFacade.activate(),this.setPhase("capturing"))}handleKeyboardAction(t){switch(t.type){case"SET_MODE":this.captureFacade.setHierarchyMode(t.mode);break;case"FINISH":this.finishCapture();break}}captureElement(t,s){this.phase==="capturing"&&this.captureFacade.captureNode(t,s)}finishCapture(){this.phase==="capturing"&&(this.keyboardFacade.disable(),this.inspectorFacade.deactivate(),this.captureFacade.deactivate(),this.setPhase("preview"))}closePreview(){this.phase==="preview"&&(this.cleanup(),this.setPhase("idle"))}resumeCapture(){this.phase==="preview"&&(this.captureFacade.activate(),this.keyboardFacade.enable(),this.inspectorFacade.activate(),this.setPhase("capturing"))}cancel(){this.cleanup(),this.captureFacade.clear(),this.setPhase("idle")}cleanup(){this.keyboardFacade.disable(),this.inspectorFacade.deactivate(),this.inspectorFacade.stopManaging(),this.captureFacade.deactivate(),this.unsubscribeCapture&&(this.unsubscribeCapture(),this.unsubscribeCapture=null),this.unsubscribeKeyboard&&(this.unsubscribeKeyboard(),this.unsubscribeKeyboard=null),this.unsubscribeInspectorClick&&(this.unsubscribeInspectorClick(),this.unsubscribeInspectorClick=null)}getCaptureFacade(){return this.captureFacade}getKeyboardFacade(){return this.keyboardFacade}exportCanvasJson(t=!0){const s=this.captureFacade.generateCanvasJson(t);return JSON.stringify(s,null,2)}async copyToClipboard(t=!0){try{const s=this.exportCanvasJson(t);return await navigator.clipboard.writeText(`__paste-create__${s}`),!0}catch{return!1}}getInspectorFacade(){return this.inspectorFacade}destroy(){this.cleanup(),this.keyboardFacade.destroy(),this.inspectorFacade.destroy(),this.listeners.clear()}}function je({onCaptureComplete:o,autoStart:t=!1,portalContainer:s}){const a=m.useRef(null),n=m.useRef(null),[i,l]=m.useState(null),[d,j]=m.useState(!0);m.useEffect(()=>{const r=new fe;a.current=r;const p=r.onStateChange(y=>{l({...y})});return l(r.getState()),t&&(r.startCapture(),E.info("Capture mode activated",{description:"Click elements to capture. Press 'c' for child, 'm' for sibling, ESC to finish."})),()=>{p(),r.destroy()}},[t]);const h=m.useCallback(async()=>{if(a.current)if(await a.current.copyToClipboard(d)){const p=a.current.exportCanvasJson(d);o==null||o(p),E.success("Canvas JSON copied to clipboard!")}else E.error("Failed to copy to clipboard")},[o,d]),v=m.useCallback(()=>{var r;(r=a.current)==null||r.closePreview()},[]),f=m.useCallback(()=>{var r;(r=a.current)==null||r.resumeCapture(),E.info("Resumed capture mode",{description:"Click elements to capture. Press ESC to finish."})},[]),b=m.useCallback(()=>{var r;(r=a.current)==null||r.cancel()},[]),C=m.useCallback(()=>{if(!a.current)return[];const r=a.current.getCaptureFacade().toTreeNodes(),p=y=>y.map(F=>({id:F.id,label:F.label,children:F.children?p(F.children):void 0,data:F.data}));return p(r)},[]),T=m.useCallback((r,p,y,F)=>{const w=r.data;return w!=null&&w.content&&w.content!==w.text?e.jsxs("div",{"data-test":"tree-node-with-content",children:[F,e.jsxs("div",{className:"ml-8 mr-2 -mt-1 mb-1 px-2 py-1 text-xs text-muted-foreground bg-muted/30 rounded line-clamp-2",title:w.content,"data-test":"node-content-preview",children:[w.content.slice(0,150),w.content.length>150?"...":""]})]}):F},[]),D=m.useCallback((r,p)=>{var y;(y=a.current)==null||y.getCaptureFacade().updateNode(r,p)},[]),L=m.useCallback(r=>{var p;(p=a.current)==null||p.getCaptureFacade().removeNode(r)},[]),P=m.useCallback(r=>{var y;const p=F=>F.map(w=>({id:w.id,label:w.label,children:w.children?p(w.children):void 0,data:w.data}));(y=a.current)==null||y.getCaptureFacade().updateFromTree(p(r))},[]),S=(i==null?void 0:i.captureState.nodes.length)??0;if(m.useEffect(()=>{n.current&&S>0&&(n.current.scrollTop=n.current.scrollHeight)},[S]),!i)return null;const M=C(),O=new Set(i.captureState.nodes.map(r=>r.id)),u=i.phase==="capturing"&&S>0||i.phase==="preview",x=i.phase==="capturing",N=x?`Capturing (${S}) - ${i.captureState.hierarchyMode==="child"?"â†’ Child":"â†” Sibling"}`:`Captured Nodes (${S})`;return e.jsx("div",{className:"content-capture-controller","data-test":"content-capture-controller",children:e.jsx(U,{isVisible:u,onClose:v,title:N,shouldCloseManually:!0,resizable:!0,initialPosition:{x:window.innerWidth-370,y:20},initialSize:{width:350,height:400},portalContainer:s,showPinButton:!1,showInspectorButton:!1,headerActions:e.jsxs(e.Fragment,{children:[!x&&e.jsx(A,{variant:"ghost",size:"sm",onClick:f,className:"h-6 px-2",title:"Resume Capture","data-test":"resume-capture-button",children:e.jsx(le,{className:"w-3 h-3"})}),e.jsx(A,{variant:"ghost",size:"sm",onClick:h,className:"h-6 px-2",title:"Copy Canvas JSON","data-test":"copy-json-button",children:e.jsx(K,{className:"w-3 h-3"})}),e.jsx(A,{variant:"ghost",size:"sm",onClick:b,className:"h-6 px-2 text-destructive",title:"Clear All","data-test":"clear-button",children:e.jsx(de,{className:"w-3 h-3"})}),e.jsxs(Y,{children:[e.jsx(Q,{asChild:!0,children:e.jsx(A,{variant:"ghost",size:"sm",className:"h-6 px-1",title:"More options","data-test":"more-options-button",children:e.jsx(he,{className:"w-3 h-3"})})}),e.jsx(ee,{align:"end",style:{zIndex:te.draggablePopoverDropdown},"data-test":"more-options-content",children:e.jsx(se,{checked:d,onCheckedChange:j,"data-test":"add-arrows-checkbox",children:"Add arrows"})})]})]}),children:e.jsxs("div",{ref:n,className:"p-2 h-full overflow-auto","data-test":"capture-tree-container",children:[S===0?e.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No elements captured yet."}):e.jsx(H,{data:M,onUpdate:D,onDelete:L,onReorder:P,defaultExpandedIds:O,enableEdit:!0,enableDelete:!0,enableDrag:!0,renderNode:T}),x&&e.jsxs("div",{className:"mt-2 p-2 bg-muted/50 rounded text-xs text-muted-foreground",children:[e.jsx("span",{className:"font-medium",children:"c"})," child Â ",e.jsx("span",{className:"font-medium",children:"m"})," up/sibling Â ",e.jsx("span",{className:"font-medium",children:"ESC"})," finish"]})]})})})}class ve{constructor(t){g(this,"config");g(this,"maxDepth");this.config=t,this.maxDepth=t.maxDepth??10}capture(){const t=[];let s=0;console.log("[SiteCaptureService] Starting capture...");const a=this.captureUrl();if(t.push({...a,order:s++}),console.log("[SiteCaptureService] Captured URL:",a.text),this.config.article){const n=this.captureArticle();n.forEach(i=>{t.push({...i,order:s++})}),console.log(`[SiteCaptureService] Captured ${n.length} article nodes`)}if(this.config.comments){const n=this.captureComments(s);t.push(...n),console.log(`[SiteCaptureService] Captured ${n.length} comments`)}return console.log(`[SiteCaptureService] Total captured: ${t.length} nodes`),t}captureUrl(){const t=window.location.href;return{id:`url-${_(8)}`,text:t,parentId:null}}captureArticle(){var j,h,v,f;const{containerSelector:t,titleSelector:s,contentSelector:a}=this.config.article,n=[],i=document.querySelector(t);if(!i)return console.log(`[SiteCaptureService] Article container not found: ${t}`),n;const l=((h=(j=i.querySelector(s))==null?void 0:j.textContent)==null?void 0:h.trim())||"Untitled";n.push({id:`title-${_(8)}`,text:`# ${l}`,parentId:null});const d=((f=(v=i.querySelector(a))==null?void 0:v.textContent)==null?void 0:f.trim())||"";return d&&n.push({id:`article-${_(8)}`,text:d,parentId:null}),n}captureComments(t){const{sectionSelector:s,commentContainerSelector:a,indent:n}=this.config.comments,i=document.querySelector(s);return i?n?this.captureCommentsWithIndent(i,a,t):this.captureCommentsNested(i,a,t):(console.log(`[SiteCaptureService] Comments section not found: ${s}`),[])}captureCommentsNested(t,s,a){const n=[],i=t.querySelectorAll(`:scope > ${s}`);console.log(`[SiteCaptureService] Found ${i.length} top-level comments`);let l=a;return i.forEach(d=>{const j=this.extractCommentTree(d,null,0,l);n.push(...j.nodes),l=j.nextOrder}),n}captureCommentsWithIndent(t,s,a){const n=[],{indent:i,commentSelector:l,fields:d}=this.config.comments,j=t.querySelectorAll(s);console.log(`[SiteCaptureService] Found ${j.length} comments (indent-based)`);const h=new Map;let v=a;return j.forEach(f=>{var M,O;const b=f.querySelector(i.selector),C=parseInt((b==null?void 0:b.getAttribute(i.attribute))||"0",10),T=f.querySelector(l);if(!T)return;const D=((O=(M=T.querySelector(d.title))==null?void 0:M.textContent)==null?void 0:O.trim())||"Unknown",L=this.extractTextWithParagraphs(T.querySelector(d.content));let P=null;for(let u=C-1;u>=0;u--)if(h.has(u)){P=h.get(u);break}const S=`comment-${_(8)}`;n.push({id:S,text:D,content:L,parentId:P,order:v++}),h.set(C,S);for(const u of h.keys())u>C&&h.delete(u)}),n}extractCommentTree(t,s,a,n){var T,D;const i=[],{commentSelector:l,childrenSelector:d,fields:j,commentContainerSelector:h}=this.config.comments,v=t.querySelector(l);if(!v)return{nodes:i,nextOrder:n};const f=((D=(T=v.querySelector(j.title))==null?void 0:T.textContent)==null?void 0:D.trim())||"Unknown",b=this.extractTextWithParagraphs(v.querySelector(j.content)),C=`comment-${_(8)}`;if(i.push({id:C,text:f,content:b,parentId:s,order:n++}),a<this.maxDepth&&d){const L=t.querySelector(d);L&&L.querySelectorAll(`:scope > ${h}`).forEach(S=>{const M=this.extractCommentTree(S,C,a+1,n);i.push(...M.nodes),n=M.nextOrder})}return{nodes:i,nextOrder:n}}extractTextWithParagraphs(t){var i;if(!t)return"";const s=t.cloneNode(!0);return s.querySelectorAll("p").forEach((l,d)=>{(d>0||l.previousSibling)&&l.insertAdjacentText("beforebegin",`
`)}),s.querySelectorAll("br").forEach(l=>{l.replaceWith(`
`)}),((i=s.textContent)==null?void 0:i.trim())||""}}function Ne({portalContainer:o,onCaptureComplete:t,config:s}){const[a,n]=m.useState(!1),[i,l]=m.useState([]),[d,j]=m.useState(!1),h=m.useRef(null),v=m.useRef(null);m.useEffect(()=>{const u=async()=>{console.log("[SiteCaptureController] Triggered");const x=s??await re.getConfigForDomain(window.location.hostname);if(!(x!=null&&x.article)&&!(x!=null&&x.comments)){console.warn("[SiteCaptureController] No site capture config for this domain"),E.error("No site capture config for this domain");return}const r=new ve(x).capture();if(r.length===0){E.warning("No content captured");return}const p=new W;p.importNodes(r),h.current=p,l(r),n(!0),E.success(`Captured ${r.length} items`)};return window.addEventListener("watcher:site-capture:trigger",u),()=>{window.removeEventListener("watcher:site-capture:trigger",u)}},[]);const f=m.useCallback(()=>{n(!1),l([]),h.current=null},[]),b=m.useCallback(async()=>{if(!h.current)return;const u=h.current.generateCanvasJson(),x=`__paste-create__${JSON.stringify(u)}`;try{await navigator.clipboard.writeText(x),E.success("Canvas JSON copied to clipboard!"),t==null||t(JSON.stringify(u))}catch(N){console.error("[SiteCaptureController] Failed to copy:",N),E.error("Failed to copy to clipboard")}},[t]),C=m.useCallback(()=>{if(!h.current)return[];const u=h.current.toTreeNodes(),x=N=>N.map(r=>({id:r.id,label:r.label,children:r.children?x(r.children):void 0,data:r.data}));return x(u)},[i]),T=m.useCallback((u,x,N,r)=>{const p=u.data;return p!=null&&p.content&&p.content!==p.text?e.jsxs("div",{"data-test":"tree-node-with-content",children:[r,e.jsxs("div",{className:"ml-8 mr-2 -mt-1 mb-1 px-2 py-1 text-xs text-muted-foreground bg-muted/30 rounded line-clamp-2",title:p.content,"data-test":"node-content-preview",children:[p.content.slice(0,150),p.content.length>150?"...":""]})]}):r},[]),D=m.useCallback((u,x)=>{var N,r;(N=h.current)==null||N.updateNode(u,x),l([...((r=h.current)==null?void 0:r.getNodes())??[]])},[]),L=m.useCallback(u=>{var x,N;(x=h.current)==null||x.removeNode(u),l([...((N=h.current)==null?void 0:N.getNodes())??[]])},[]),P=m.useCallback(u=>{var N,r;const x=p=>p.map(y=>({id:y.id,label:y.label,children:y.children?x(y.children):void 0,data:y.data}));(N=h.current)==null||N.updateFromTree(x(u)),l([...((r=h.current)==null?void 0:r.getNodes())??[]])},[]);if(!a)return null;const S=C(),M=new Set(i.map(u=>u.id)),O=d?"!bg-[#1a1a1a] !text-white !border-[#333]":"!bg-white !text-black !border-gray-200";return e.jsx(U,{isVisible:a,onClose:f,title:`Site Capture (${i.length})`,shouldCloseManually:!0,resizable:!0,initialPosition:{x:window.innerWidth-420,y:20},initialSize:{width:400,height:500},portalContainer:o,className:O,headerActions:e.jsxs(e.Fragment,{children:[e.jsx(A,{variant:"ghost",size:"sm",onClick:()=>j(!d),className:"h-6 px-2",title:d?"Light mode":"Dark mode","data-test":"theme-toggle-button",children:d?e.jsx(me,{className:"w-3 h-3"}):e.jsx(pe,{className:"w-3 h-3"})}),e.jsx(A,{variant:"ghost",size:"sm",onClick:b,className:"h-6 px-2",title:"Copy Canvas JSON","data-test":"copy-json-button",children:e.jsx(K,{className:"w-3 h-3"})}),e.jsx(A,{variant:"ghost",size:"sm",onClick:f,className:"h-6 px-2 text-destructive",title:"Close","data-test":"close-button",children:e.jsx(ue,{className:"w-3 h-3"})})]}),children:e.jsx("div",{ref:v,className:"p-2 h-full overflow-auto","data-test":"site-capture-tree-container",children:i.length===0?e.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No content captured."}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-2 p-2 bg-muted/50 rounded text-xs text-muted-foreground flex items-center gap-2",children:[e.jsx(J,{className:"w-3 h-3"}),"Article + ",i.length-1," comments captured"]}),e.jsx(H,{data:S,onUpdate:D,onDelete:L,onReorder:P,defaultExpandedIds:M,enableEdit:!0,enableDelete:!0,enableDrag:!0,renderNode:T})]})})})}let R=[];function c(...o){const t=o.map(s=>typeof s=="object"?JSON.stringify(s,null,2):String(s)).join(" ");R.push(t),console.log(...o)}const k={champions:{_container:"[data-test='tab-content-tft'] .sample-content",_item:".rounded.text-white1.bg-bg",cost:".items-end",traits:"[class='absolute text-lg leading-snug bottom-[6px] left-[6px]']",type:".bg-bg2",ability:{manaCost:":scope > div:nth-child(2) > div:nth-child(2) > div:nth-child(2) > div:nth-child(2) > div:nth-child(2)",description:"[class='leading-tight']",activation:{_container:"[class='flex flex-col gap-[2px]']",_item:"[class='flex flex-wrap justify-between']",kind:"div:nth-child(1) > div:nth-child(1) > span:nth-child(1) > span:nth-child(1)",value:"div:nth-child(1) > div:nth-child(1) > span:nth-child(2) > span:nth-child(1) > span:nth-child(1) > span:nth-child(1)",valuePerLevel:"div:nth-child(1) > div:nth-child(2) > span:nth-child(1)"}}}};let G=0;function I(){return`test-field-${++G}`}function ye(){const o=[];let t=0;const s=I();o.push({id:s,name:"champions",path:"champions",type:"array",parentId:null,order:t++,containerSelector:k.champions._container,itemSelector:k.champions._item}),o.push({id:I(),name:"cost",path:"champions[].cost",type:"string",parentId:s,order:t++,mapping:{selector:k.champions.cost}}),o.push({id:I(),name:"traits",path:"champions[].traits",type:"string",parentId:s,order:t++,mapping:{selector:k.champions.traits}}),o.push({id:I(),name:"type",path:"champions[].type",type:"string",parentId:s,order:t++,mapping:{selector:k.champions.type}});const a=I();o.push({id:a,name:"ability",path:"champions[].ability",type:"parentSelector",parentId:s,order:t++}),o.push({id:I(),name:"manaCost",path:"champions[].ability.manaCost",type:"string",parentId:a,order:t++,mapping:{selector:k.champions.ability.manaCost}}),o.push({id:I(),name:"description",path:"champions[].ability.description",type:"string",parentId:a,order:t++,mapping:{selector:k.champions.ability.description}});const n=I();return o.push({id:n,name:"activation",path:"champions[].ability.activation",type:"array",parentId:a,order:t++,containerSelector:k.champions.ability.activation._container,itemSelector:k.champions.ability.activation._item}),o.push({id:I(),name:"kind",path:"champions[].ability.activation[].kind",type:"string",parentId:n,order:t++,mapping:{selector:k.champions.ability.activation.kind}}),o.push({id:I(),name:"value",path:"champions[].ability.activation[].value",type:"string",parentId:n,order:t++,mapping:{selector:k.champions.ability.activation.value}}),o.push({id:I(),name:"valuePerLevel",path:"champions[].ability.activation[].valuePerLevel",type:"string",parentId:n,order:t++,mapping:{selector:k.champions.ability.activation.valuePerLevel}}),o}function z(){R=[],G=0,c("=== TFT Extraction Test ==="),c("Timestamp:",new Date().toISOString()),c(""),c("=== DOM Debug ===");const o=document.querySelectorAll(".sample-content");c("Found .sample-content elements:",o.length),o.forEach((h,v)=>{const f=h.querySelectorAll("[class='rounded text-white1 w-[291px] flex flex-col h-full bg-bg']"),b=h.querySelectorAll(".rounded.text-white1.bg-bg");if(c(`  Container ${v}: exactMatch=${f.length}, flexMatch=${b.length}`),h.children.length>0){const C=h.children[0];c(`    First child tag: ${C.tagName}, class: "${C.className}"`)}});const t=document.querySelector('[value="tft"][data-state="active"]');c("TFT tab active:",!!t);const s=document.querySelectorAll(".bg-bg.w-\\[291px\\]");c("TFT cards found globally (flexible):",s.length),c("");const a=ye();c("=== Schema Fields ==="),c(a),c("");const n=new oe;for(const h of a)n.schema.fields.push(h);const i=n.applyCapture();c("=== Extracted Content ==="),c(i),c("");const l=n.extractSelectors();c("=== Selectors Preview ==="),c(l),c(""),c("=== Detailed Analysis ===");const d=i.champions;return Array.isArray(d)?(c(`Found ${d.length} champions`),d.forEach((h,v)=>{const f=h;c(`
--- Champion ${v+1} ---`),c("cost:",f.cost),c("traits:",f.traits),c("type:",f.type);const b=f.ability;b?(c("ability.manaCost:",b.manaCost),c("ability.description:",b.description),c("ability.activation:",b.activation),c("ability.activation is array:",Array.isArray(b.activation)),c("ability.activation type:",typeof b.activation),Array.isArray(b.activation)&&(c("ability.activation length:",b.activation.length),b.activation.forEach((C,T)=>{c(`  activation[${T}]:`,C)}))):c("ability: MISSING!")})):(c("ERROR: champions is not an array!"),c("champions value:",d),c("champions type:",typeof d)),c(""),c("=== Expected vs Actual ==="),c("Expected: activation should be an array with 1-2 items per champion"),c("Expected: Anivia should have 1 activation item (Damage)"),c("Expected: Blitzcrank should have 2 activation items (Shield, Damage)"),R.join(`
`)}function Ce(){const o=document.getElementById("tft-test-copy-btn");o&&o.remove();const t=document.createElement("button");t.id="tft-test-copy-btn",t.textContent="ðŸ“‹ Copy TFT Test Result",t.style.cssText=`
    position: fixed;
    bottom: 20px;
    right: 20px;
    z-index: 99999;
    padding: 12px 20px;
    background: #4f46e5;
    color: white;
    border: none;
    border-radius: 8px;
    font-size: 14px;
    font-weight: 600;
    cursor: pointer;
    box-shadow: 0 4px 12px rgba(0,0,0,0.3);
  `,t.addEventListener("click",()=>{const s=z();navigator.clipboard.writeText(s).then(()=>{t.textContent="âœ… Copied!",setTimeout(()=>{t.textContent="ðŸ“‹ Copy TFT Test Result"},2e3)})}),document.body.appendChild(t)}if(typeof window<"u"){const o=()=>{Ce(),setTimeout(()=>{const t=document.querySelector('[data-test="tab-tft"]');t?(t.click(),console.log("Clicked TFT tab"),setTimeout(()=>{z()},200)):(console.log("TFT tab not found, running test anyway"),z())},500)};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",o):o()}typeof window<"u"&&(window.runTftExtractionTest=z);const we={domain:"localhost",name:"LessWrong Demo",maxDepth:10,article:{containerSelector:".MultiToCLayout-content",titleSelector:".PostsPageTitle-root",contentSelector:".PostsPage-postContent"},comments:{sectionSelector:".CommentsListMeta-root + div",commentContainerSelector:".CommentFrame-node",commentSelector:".CommentsItem-root",childrenSelector:".CommentsNode-children",fields:{title:".CommentsItemMeta-root .UsersNameDisplay-noColor",content:".CommentBody-root"}}};function Se(){const[o,t]=m.useState(null),[s,a]=m.useState(!1),n=()=>{a(!0)},i=d=>{t(d),a(!1)},l=()=>{window.dispatchEvent(new CustomEvent("watcher:site-capture:trigger"))};return e.jsxs("div",{className:"content-capture-demo p-4 space-y-6","data-test":"content-capture-demo",children:[e.jsxs("div",{className:"controls-section sticky top-0 z-10 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 pb-4 -mx-4 px-4 border-b","data-test":"controls-section",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Content Capture Demo"}),e.jsxs("div",{className:"flex flex-wrap gap-2","data-test":"capture-buttons",children:[e.jsxs(A,{onClick:n,variant:"outline",disabled:s,"data-test":"start-content-capture-button",children:[e.jsx(xe,{className:"w-4 h-4 mr-2"}),s?"Capturing...":"Start Content Capture"]}),e.jsx(ce,{onCaptureComplete:t}),e.jsxs(A,{onClick:l,variant:"outline","data-test":"start-site-capture-button",children:[e.jsx(J,{className:"w-4 h-4 mr-2"}),"Start Site Capture"]})]}),s&&e.jsx(je,{onCaptureComplete:i,autoStart:!0}),e.jsx(Ne,{onCaptureComplete:t,config:we})]}),e.jsxs(ae,{defaultValue:"semantic",className:"w-full","data-test":"demo-tabs",children:[e.jsxs(ne,{"data-test":"demo-tabs-list",children:[e.jsx(B,{value:"semantic","data-test":"tab-semantic",children:"Semantic HTML"}),e.jsx(B,{value:"lesswrong","data-test":"tab-lesswrong",children:"LessWrong"}),e.jsx(B,{value:"comments","data-test":"tab-comments",children:"Comments"}),e.jsx(B,{value:"tft","data-test":"tab-tft",children:"TFT Card"})]}),e.jsx(q,{value:"semantic","data-test":"tab-content-semantic",children:e.jsxs("div",{className:"sample-content border rounded-lg p-4 bg-muted/30 space-y-3","data-test":"semantic-showcase",children:[e.jsx("h3",{className:"text-md font-medium mb-2",children:"Semantic HTML Showcase"}),e.jsx("h1",{"data-test":"h1",children:"Heading Level 1"}),e.jsx("h2",{"data-test":"h2",children:"Heading Level 2"}),e.jsx("h3",{"data-test":"h3",children:"Heading Level 3"}),e.jsx("h4",{"data-test":"h4",children:"Heading Level 4"}),e.jsx("h5",{"data-test":"h5",children:"Heading Level 5"}),e.jsx("h6",{"data-test":"h6",children:"Heading Level 6"}),e.jsx("p",{"data-test":"paragraph",children:"A simple paragraph element."}),e.jsx("strong",{"data-test":"strong",children:"Bold text using strong tag"}),e.jsx("em",{"data-test":"em",children:"Italic text using em tag"}),e.jsxs("ul",{"data-test":"ul",children:[e.jsx("li",{children:"Unordered item one"}),e.jsx("li",{children:"Unordered item two"})]}),e.jsxs("ol",{"data-test":"ol",children:[e.jsx("li",{children:"Ordered item one"}),e.jsx("li",{children:"Ordered item two"})]}),e.jsx("blockquote",{"data-test":"blockquote",children:"A blockquote for citations."})]})}),e.jsx(q,{value:"lesswrong","data-test":"tab-content-lesswrong",children:e.jsxs("div",{className:"sample-content border rounded-lg p-4 bg-muted/30","data-test":"lesswrong-demo",children:[e.jsx("h3",{className:"text-md font-medium mb-4",children:"LessWrong Site Mock"}),e.jsx("p",{className:"text-xs text-muted-foreground mb-4",children:"Matches site-config selectors for Site Capture testing"}),e.jsxs("div",{className:"MultiToCLayout-content border rounded p-4 mb-4 bg-background",children:[e.jsx("h1",{className:"PostsPageTitle-root text-xl font-bold mb-3",children:"The Rationalist's Guide to Epistemology"}),e.jsxs("div",{className:"PostsPage-postContent text-sm space-y-2",children:[e.jsx("p",{children:"Rationality is systematized winning. It's the art of thinking in ways that lead to true beliefs and effective actions. The core insight is that our intuitions can be wrong, and we need methods to correct them."}),e.jsx("p",{children:"This post explores the foundations of epistemic rationality and how we can apply it to everyday decision-making."})]})]}),e.jsx("div",{className:"CommentsListMeta-root text-sm text-muted-foreground mb-2",children:"4 comments"}),e.jsxs("div",{className:"comments-section","data-test":"comments-section",children:[e.jsxs("div",{className:"CommentFrame-node mb-3","data-test":"lw-comment-1",children:[e.jsxs("div",{className:"CommentsItem-root p-3 bg-background rounded border",children:[e.jsxs("div",{className:"CommentsItemMeta-root text-sm text-muted-foreground mb-1",children:[e.jsx("span",{className:"UsersNameDisplay-noColor font-medium text-blue-600",children:"Eliezer Yudkowsky"})," Â· 2h"]}),e.jsx("div",{className:"CommentBody-root text-sm",children:"The key insight here is that rationality is about winning, not about following rules. When your map disagrees with the territory, update the map."})]}),e.jsxs("div",{className:"CommentsNode-children ml-6 mt-2",children:[e.jsxs("div",{className:"CommentFrame-node mb-3","data-test":"lw-comment-1-1",children:[e.jsxs("div",{className:"CommentsItem-root p-3 bg-background rounded border",children:[e.jsxs("div",{className:"CommentsItemMeta-root text-sm text-muted-foreground mb-1",children:[e.jsx("span",{className:"UsersNameDisplay-noColor font-medium text-blue-600",children:"Scott Alexander"})," Â· 1h"]}),e.jsx("div",{className:"CommentBody-root text-sm",children:"I think this connects to the broader point about epistemic humility. We should hold our beliefs provisionally and be willing to change them when presented with new evidence."})]}),e.jsx("div",{className:"CommentsNode-children ml-6 mt-2",children:e.jsx("div",{className:"CommentFrame-node mb-3","data-test":"lw-comment-1-1-1",children:e.jsxs("div",{className:"CommentsItem-root p-3 bg-background rounded border",children:[e.jsxs("div",{className:"CommentsItemMeta-root text-sm text-muted-foreground mb-1",children:[e.jsx("span",{className:"UsersNameDisplay-noColor font-medium text-blue-600",children:"Gwern"})," Â· 45m"]}),e.jsx("div",{className:"CommentBody-root text-sm",children:"Related: my analysis of prediction markets shows they consistently outperform expert forecasts in domains with clear resolution criteria."})]})})})]}),e.jsx("div",{className:"CommentFrame-node mb-3","data-test":"lw-comment-1-2",children:e.jsxs("div",{className:"CommentsItem-root p-3 bg-background rounded border",children:[e.jsxs("div",{className:"CommentsItemMeta-root text-sm text-muted-foreground mb-1",children:[e.jsx("span",{className:"UsersNameDisplay-noColor font-medium text-blue-600",children:"Anna Salamon"})," Â· 50m"]}),e.jsx("div",{className:"CommentBody-root text-sm",children:'This reminds me of the distinction between "rationality as etiquette" vs "rationality as winning". The former is cargo-culting.'})]})})]})]}),e.jsxs("div",{className:"CommentFrame-node mb-3","data-test":"lw-comment-2",children:[e.jsxs("div",{className:"CommentsItem-root p-3 bg-background rounded border",children:[e.jsxs("div",{className:"CommentsItemMeta-root text-sm text-muted-foreground mb-1",children:[e.jsx("span",{className:"UsersNameDisplay-noColor font-medium text-blue-600",children:"Zvi Mowshowitz"})," Â· 30m"]}),e.jsx("div",{className:"CommentBody-root text-sm",children:"The practical implication is that we need better institutional mechanisms for aggregating and acting on distributed knowledge. Current systems are systematically biased toward legibility over effectiveness."})]}),e.jsx("div",{className:"CommentsNode-children ml-6 mt-2",children:e.jsx("div",{className:"CommentFrame-node mb-3","data-test":"lw-comment-2-1",children:e.jsxs("div",{className:"CommentsItem-root p-3 bg-background rounded border",children:[e.jsxs("div",{className:"CommentsItemMeta-root text-sm text-muted-foreground mb-1",children:[e.jsx("span",{className:"UsersNameDisplay-noColor font-medium text-blue-600",children:"Wei Dai"})," Â· 15m"]}),e.jsx("div",{className:"CommentBody-root text-sm",children:"Have you considered how this applies to AI alignment? The same coordination problems seem relevant there."})]})})})]})]})]})}),e.jsx(q,{value:"comments","data-test":"tab-content-comments",children:e.jsxs("div",{className:"sample-content border rounded-lg p-4 bg-muted/30","data-test":"comment-thread-section",children:[e.jsx("h3",{className:"text-md font-medium mb-4",children:"Sample Comment Thread"}),e.jsxs("div",{className:"comment p-3 bg-background rounded border mb-2","data-test":"comment-root",children:[e.jsx("div",{className:"font-medium text-sm",children:"Alice"}),e.jsx("p",{className:"text-sm mt-1",children:"This is the root comment. It starts the discussion about the new feature proposal."})]}),e.jsxs("div",{className:"ml-6",children:[e.jsxs("div",{className:"comment p-3 bg-background rounded border mb-2","data-test":"comment-child-1",children:[e.jsx("div",{className:"font-medium text-sm",children:"Bob"}),e.jsx("p",{className:"text-sm mt-1",children:"I agree with the proposal. Here are my thoughts on the implementation details."})]}),e.jsx("div",{className:"ml-6",children:e.jsxs("div",{className:"comment p-3 bg-background rounded border mb-2","data-test":"comment-grandchild",children:[e.jsx("div",{className:"font-medium text-sm",children:"Carol"}),e.jsx("p",{className:"text-sm mt-1",children:"Good point Bob! I have a follow-up question about the timeline."})]})})]}),e.jsx("div",{className:"ml-6",children:e.jsxs("div",{className:"comment p-3 bg-background rounded border mb-2","data-test":"comment-child-2",children:[e.jsx("div",{className:"font-medium text-sm",children:"Dave"}),e.jsx("p",{className:"text-sm mt-1",children:"I have some concerns about the approach. Let me share my alternative suggestion."})]})}),e.jsxs("div",{className:"comment p-3 bg-background rounded border mb-2 mt-4","data-test":"comment-root-2",children:[e.jsx("div",{className:"font-medium text-sm",children:"Eve"}),e.jsx("p",{className:"text-sm mt-1",children:"Starting a new thread here. This is unrelated to Alice's comment above."})]})]})}),e.jsx(q,{value:"tft",forceMount:!0,"data-test":"tab-content-tft",children:e.jsxs("div",{className:"sample-content border rounded-lg p-4 bg-muted/30",children:[e.jsx("h3",{className:"text-md font-medium mb-4",children:"TFT Champion Card Mock"}),e.jsx("p",{className:"text-xs text-muted-foreground mb-4",children:"Complex nested structure with images, tabs, and varied content for testing selectors"}),e.jsxs("div",{className:"flex flex-wrap gap-4",children:[e.jsxs("div",{className:"rounded text-white1 w-[291px] flex flex-col h-full bg-bg",children:[e.jsx("a",{className:"no-webkit-preview",children:e.jsxs("div",{className:"relative rounded-[6px] border-[3px] border-primary-6",children:[e.jsxs("div",{className:"relative flex justify-between p-[9px] bg-bg text-[18px] font-montserrat font-semibold rounded-[3px] css-7wiopk",children:["Anivia",e.jsxs("div",{className:"flex items-end text-[16px]",children:["1",e.jsx("img",{className:"ml-[2px] pb-[1px]",alt:"gold",height:"13",src:"https://cdn.tft.tools/general/gold.png?width=13",width:"13"})]})]}),e.jsx("img",{className:"mt-[-3px] z-[-1] aspect-[9/4] object-cover css-hzvj2z",alt:"Anivia",src:"https://ap.tft.tools/img/face_full_ultrawide/TFT16_Anivia.jpg?w=290",width:"290"}),e.jsxs("div",{className:"absolute text-lg leading-snug bottom-[6px] left-[6px]",children:[e.jsxs("div",{className:"flex items-center sm:pt-1 font-montserrat font-bold text-[15px]",children:[e.jsx("img",{alt:"Freljord 0",className:"aspect-square w-[21px]",src:"https://ap.tft.tools/static/trait-icons/tft16_freljord_w.svg",style:{opacity:.87}}),e.jsx("div",{className:"pl-1 css-1fxzlo3",children:"Freljord"})]}),e.jsxs("div",{className:"flex items-center sm:pt-1 font-montserrat font-bold text-[15px]",children:[e.jsx("img",{alt:"Invoker 0",className:"aspect-square w-[21px]",src:"https://ap.tft.tools/static/trait-icons/tft16_invoker_w.svg",style:{opacity:.87}}),e.jsx("div",{className:"pl-1 css-1fxzlo3",children:"Invoker"})]})]})]})}),e.jsxs("div",{className:"p-3 flex flex-col text-sm",children:[e.jsx("div",{className:"mb-2 bg-bg2 rounded-lg px-2 py-1 font-montserrat font-medium self-start",style:{outlineOffset:"2px"},children:"Magic Caster"}),e.jsxs("div",{className:"flex items-center mt-1 mb-2",style:{outlineOffset:"2px"},children:[e.jsx("img",{className:"rounded flex-shrink-0 w-[22px] h-[22px]",height:"22",src:"https://ap.tft.tools/img/ability/TFT16_Anivia.jpg?w=22",width:"22"}),e.jsxs("div",{className:"flex items-center pl-2 leading-none",children:[e.jsx("div",{className:"font-medium text-sm",children:"Frostbite"}),e.jsxs("div",{className:"flex items-center pt-[2px] h-[18px] text-sm pl-2",children:[e.jsx("div",{className:"mt-[-1px] mr-[2px] w-[14px] h-[14px]",children:e.jsx("img",{alt:"Mana",height:"14",src:"https://cdn.tft.tools/general/mana.png",width:"14"})}),e.jsx("div",{className:"pt-[1px]",children:"0/40"})]})]})]}),e.jsxs("div",{className:"leading-tight",children:[e.jsx("span",{className:"",children:e.jsx("span",{children:"Fire an ice shard at target that deals "})}),e.jsx("span",{className:"",children:e.jsxs("span",{className:"text-sky-11",children:[e.jsx("span",{className:"",children:e.jsx("span",{children:"325/455/650"})}),e.jsx("span",{className:"",children:"Â "}),e.jsx("span",{className:"",children:e.jsx("span",{children:"("})}),e.jsx("span",{className:"",children:e.jsx("img",{className:"inline-block mt-[-2px]",alt:"Ability power",width:"14",height:"14",src:"https://ap.tft.tools/img/general/ap.png?w=14"})}),e.jsx("span",{className:"",children:e.jsx("span",{children:")"})})]})}),e.jsx("span",{className:"",children:e.jsx("span",{children:" magic damage. If they are "})}),e.jsx("span",{className:"",children:e.jsx("span",{className:"text-bronze-11",children:"Chilled"})}),e.jsx("span",{className:"",children:e.jsx("span",{children:", the damage Critically"})}),e.jsx("span",{className:"",children:"Â "}),e.jsx("span",{className:"",children:e.jsx("span",{children:"Strikes."})}),e.jsx("span",{className:"",children:e.jsx("div",{className:"h-[10px]"})}),e.jsx("span",{className:"",children:e.jsx("span",{})})]}),e.jsx("hr",{className:"my-[10px] mx-1 border-white2"}),e.jsx("div",{className:"flex flex-col gap-[2px]",children:e.jsxs("div",{className:"flex flex-wrap justify-between",children:[e.jsxs("div",{className:"leading-tight",children:[e.jsx("span",{className:"",children:e.jsx("span",{children:"Damage: "})}),e.jsx("span",{className:"",children:e.jsxs("span",{className:"text-sky-11",children:[e.jsx("span",{className:"",children:e.jsx("span",{children:"455 ("})}),e.jsx("span",{className:"",children:e.jsx("img",{className:"inline-block mt-[-2px]",alt:"Ability power",width:"14",height:"14",src:"https://ap.tft.tools/img/general/ap.png?w=14"})}),e.jsx("span",{className:"",children:e.jsx("span",{children:")"})})]})}),e.jsx("span",{className:"",children:e.jsx("span",{})})]}),e.jsx("div",{className:"ml-auto",children:e.jsxs("span",{className:"text-white2",children:["[325/",e.jsx("span",{className:"text-white1",children:"455"}),"/650]"]})})]})})]}),e.jsx("div",{className:"MuiTabs-root mt-auto css-26p5om",children:e.jsxs("div",{className:"MuiTabs-scroller MuiTabs-fixed css-18jpbi7",style:{overflow:"hidden",marginBottom:0},children:[e.jsxs("div",{className:"MuiTabs-flexContainer css-7sga7m",role:"tablist",children:[e.jsxs("button",{className:"MuiButtonBase-root MuiTab-root min-w-[97px] MuiTab-textColorPrimary Mui-selected css-1wkhbd8",tabIndex:0,type:"button",role:"tab","aria-selected":"true",children:["Ability",e.jsx("span",{className:"MuiTouchRipple-root css-w0pj6f"})]}),e.jsxs("button",{className:"MuiButtonBase-root MuiTab-root min-w-[97px] MuiTab-textColorPrimary css-1wkhbd8",tabIndex:-1,type:"button",role:"tab","aria-selected":"false",children:["Traits",e.jsx("span",{className:"MuiTouchRipple-root css-w0pj6f"})]}),e.jsxs("button",{className:"MuiButtonBase-root MuiTab-root min-w-[97px] MuiTab-textColorPrimary css-1wkhbd8",tabIndex:-1,type:"button",role:"tab","aria-selected":"false",children:["Stats",e.jsx("span",{className:"MuiTouchRipple-root css-w0pj6f"})]})]}),e.jsx("span",{className:"MuiTabs-indicator css-1dp86by",style:{left:"0px",width:"97px"}})]})})]}),e.jsxs("div",{className:"rounded text-white1 w-[291px] flex flex-col h-full bg-bg",children:[e.jsx("a",{className:"no-webkit-preview",children:e.jsxs("div",{className:"relative rounded-[6px] border-[3px] border-primary-6",children:[e.jsxs("div",{className:"relative flex justify-between p-[9px] bg-bg text-[18px] font-montserrat font-semibold rounded-[3px] css-7wiopk",children:["Blitzcrank",e.jsxs("div",{className:"flex items-end text-[16px]",children:["1",e.jsx("img",{className:"ml-[2px] pb-[1px]",alt:"gold",height:"13",src:"https://cdn.tft.tools/general/gold.png?width=13",width:"13"})]})]}),e.jsx("img",{className:"mt-[-3px] z-[-1] aspect-[9/4] object-cover css-hzvj2z",alt:"Blitzcrank",src:"https://ap.tft.tools/img/face_full_ultrawide/TFT16_Blitzcrank.jpg?w=290",width:"290"}),e.jsxs("div",{className:"absolute text-lg leading-snug bottom-[6px] left-[6px]",children:[e.jsxs("div",{className:"flex items-center sm:pt-1 font-montserrat font-bold text-[15px]",children:[e.jsx("img",{alt:"Zaun 0",className:"aspect-square w-[21px]",src:"https://ap.tft.tools/static/trait-icons/tft16_zaun_w.svg",style:{opacity:.87}}),e.jsx("div",{className:"pl-1 css-1fxzlo3",children:"Zaun"})]}),e.jsxs("div",{className:"flex items-center sm:pt-1 font-montserrat font-bold text-[15px]",children:[e.jsx("img",{alt:"Juggernaut 0",className:"aspect-square w-[21px]",src:"https://ap.tft.tools/static/trait-icons/tft16_juggernaut_w.svg",style:{opacity:.87}}),e.jsx("div",{className:"pl-1 css-1fxzlo3",children:"Juggernaut"})]})]})]})}),e.jsxs("div",{className:"p-3 flex flex-col text-sm",children:[e.jsx("div",{className:"mb-2 bg-bg2 rounded-lg px-2 py-1 font-montserrat font-medium self-start",style:{outlineOffset:"2px"},children:"Magic Tank"}),e.jsxs("div",{className:"flex items-center mt-1 mb-2",style:{outlineOffset:"2px"},children:[e.jsx("img",{className:"rounded flex-shrink-0 w-[22px] h-[22px]",height:"22",src:"https://ap.tft.tools/img/ability/TFT16_Blitzcrank.jpg?w=22",width:"22"}),e.jsxs("div",{className:"flex items-center pl-2 leading-none",children:[e.jsx("div",{className:"font-medium text-sm",children:"Static Field"}),e.jsxs("div",{className:"flex items-center pt-[2px] h-[18px] text-sm pl-2",children:[e.jsx("div",{className:"mt-[-1px] mr-[2px] w-[14px] h-[14px]",children:e.jsx("img",{alt:"Mana",height:"14",src:"https://cdn.tft.tools/general/mana.png",width:"14"})}),e.jsx("div",{className:"pt-[1px]",children:"60/120"})]})]})]}),e.jsxs("div",{className:"leading-tight",children:[e.jsx("span",{className:"",children:e.jsx("span",{children:"Gain "})}),e.jsx("span",{className:"",children:e.jsxs("span",{className:"text-sky-11",children:[e.jsx("span",{className:"",children:e.jsx("span",{children:"400/480/600"})}),e.jsx("span",{className:"",children:"Â "}),e.jsx("span",{className:"",children:e.jsx("span",{children:"("})}),e.jsx("span",{className:"",children:e.jsx("img",{className:"inline-block mt-[-2px]",alt:"Ability power",width:"14",height:"14",src:"https://ap.tft.tools/img/general/ap.png?w=14"})}),e.jsx("span",{className:"",children:e.jsx("span",{children:")"})})]})}),e.jsx("span",{className:"",children:e.jsx("span",{children:" Shield for 4 seconds and deal "})}),e.jsx("span",{className:"",children:e.jsxs("span",{className:"text-sky-11",children:[e.jsx("span",{className:"",children:e.jsx("span",{children:"56/84/126"})}),e.jsx("span",{className:"",children:"Â "}),e.jsx("span",{className:"",children:e.jsx("span",{children:"("})}),e.jsx("span",{className:"",children:e.jsx("img",{className:"inline-block mt-[-2px]",alt:"Ability power",width:"14",height:"14",src:"https://ap.tft.tools/img/general/ap.png?w=14"})}),e.jsx("span",{className:"",children:e.jsx("span",{children:")"})})]})}),e.jsx("span",{className:"",children:e.jsx("span",{children:" magic damage to all enemies within 1 hex."})}),e.jsx("span",{className:"",children:e.jsx("div",{className:"h-[10px]"})}),e.jsx("span",{className:"",children:e.jsx("span",{})})]}),e.jsx("hr",{className:"my-[10px] mx-1 border-white2"}),e.jsxs("div",{className:"flex flex-col gap-[2px]",children:[e.jsxs("div",{className:"flex flex-wrap justify-between",children:[e.jsxs("div",{className:"leading-tight",children:[e.jsx("span",{className:"",children:e.jsx("span",{children:"Shield: "})}),e.jsx("span",{className:"",children:e.jsxs("span",{className:"text-sky-11",children:[e.jsx("span",{className:"",children:e.jsx("span",{children:"480 ("})}),e.jsx("span",{className:"",children:e.jsx("img",{className:"inline-block mt-[-2px]",alt:"Ability power",width:"14",height:"14",src:"https://ap.tft.tools/img/general/ap.png?w=14"})}),e.jsx("span",{className:"",children:e.jsx("span",{children:")"})})]})}),e.jsx("span",{className:"",children:e.jsx("span",{})})]}),e.jsx("div",{className:"ml-auto",children:e.jsxs("span",{className:"text-white2",children:["[400/",e.jsx("span",{className:"text-white1",children:"480"}),"/600]"]})})]}),e.jsxs("div",{className:"flex flex-wrap justify-between",children:[e.jsxs("div",{className:"leading-tight",children:[e.jsx("span",{className:"",children:e.jsx("span",{children:"Damage: "})}),e.jsx("span",{className:"",children:e.jsxs("span",{className:"text-sky-11",children:[e.jsx("span",{className:"",children:e.jsx("span",{children:"84 ("})}),e.jsx("span",{className:"",children:e.jsx("img",{className:"inline-block mt-[-2px]",alt:"Ability power",width:"14",height:"14",src:"https://ap.tft.tools/img/general/ap.png?w=14"})}),e.jsx("span",{className:"",children:e.jsx("span",{children:")"})})]})}),e.jsx("span",{className:"",children:e.jsx("span",{})})]}),e.jsx("div",{className:"ml-auto",children:e.jsxs("span",{className:"text-white2",children:["[140/",e.jsx("span",{className:"text-white1",children:"210"}),"/315]"]})})]})]})]}),e.jsx("div",{className:"MuiTabs-root mt-auto css-26p5om",children:e.jsxs("div",{className:"MuiTabs-scroller MuiTabs-fixed css-18jpbi7",style:{overflow:"hidden",marginBottom:0},children:[e.jsxs("div",{className:"MuiTabs-flexContainer css-7sga7m",role:"tablist",children:[e.jsxs("button",{className:"MuiButtonBase-root MuiTab-root min-w-[97px] MuiTab-textColorPrimary Mui-selected css-1wkhbd8",tabIndex:0,type:"button",role:"tab","aria-selected":"true",children:["Ability",e.jsx("span",{className:"MuiTouchRipple-root css-w0pj6f"})]}),e.jsxs("button",{className:"MuiButtonBase-root MuiTab-root min-w-[97px] MuiTab-textColorPrimary css-1wkhbd8",tabIndex:-1,type:"button",role:"tab","aria-selected":"false",children:["Traits",e.jsx("span",{className:"MuiTouchRipple-root css-w0pj6f"})]}),e.jsxs("button",{className:"MuiButtonBase-root MuiTab-root min-w-[97px] MuiTab-textColorPrimary css-1wkhbd8",tabIndex:-1,type:"button",role:"tab","aria-selected":"false",children:["Stats",e.jsx("span",{className:"MuiTouchRipple-root css-w0pj6f"})]})]}),e.jsx("span",{className:"MuiTabs-indicator css-1dp86by",style:{left:"0px",width:"97px"}})]})})]})]})]})})]}),e.jsxs("div",{className:"instructions text-sm text-muted-foreground bg-muted/20 p-4 rounded","data-test":"instructions",children:[e.jsx("h4",{className:"font-medium mb-2",children:"How to use:"}),e.jsxs("ol",{className:"list-decimal list-inside space-y-1",children:[e.jsx("li",{children:'Click "Start Capture" to activate capture mode'}),e.jsx("li",{children:"Click on any semantic element (h1-h6, p, ul, ol, blockquote)"}),e.jsx("li",{children:"See the captured text converted to markdown format"}),e.jsx("li",{children:"Press 'c' before clicking to capture as a child node"}),e.jsx("li",{children:"Press 'm' before clicking to capture as a sibling node"}),e.jsx("li",{children:"Press ESC when done to see the preview"}),e.jsx("li",{children:"Edit or reorder nodes in the preview panel"})]}),e.jsxs("p",{className:"mt-3 text-xs",children:[e.jsx("strong",{children:"Semantic extraction:"})," h1â†’# heading, pâ†’paragraph, ulâ†’- list, olâ†’1. list, blockquoteâ†’> quote"]})]}),o&&e.jsxs("div",{className:"last-export border rounded-lg p-4","data-test":"last-export",children:[e.jsx("h4",{className:"text-sm font-medium mb-2",children:"Last Exported JSON:"}),e.jsx("pre",{className:"text-xs bg-muted p-3 rounded overflow-auto max-h-64",children:o})]})]})}function Oe(){return e.jsx("div",{className:"content-capture-demo-page h-full overflow-auto p-6","data-test":"content-capture-demo-page",children:e.jsx(Se,{})})}export{Oe as default};
