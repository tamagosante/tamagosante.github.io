import{r as f}from"./react-vendor-Byz07MLO.js";function y({sessionIds:e,selectedSessionId:u,onSessionSelect:w,onFocusMessageInput:o,enabled:k=!0}){const[a,c]=f.useState(-1),[x,b]=f.useState(!1),d=f.useRef(null);f.useEffect(()=>{if(u){const r=e.indexOf(u);r!==-1&&r!==a&&c(r)}},[u,e]);const l=f.useCallback(()=>{var r;if(b(!0),a===-1&&e.length>0){const n=u?e.indexOf(u):-1;c(n!==-1?n:0)}(r=d.current)==null||r.focus()},[a,e,u]),m=f.useCallback(()=>{b(!1)},[]);return f.useEffect(()=>{if(!k)return;const r=n=>{if(n.key==="Escape"){const t=document.activeElement,i=(t==null?void 0:t.tagName)==="TEXTAREA",E=(t==null?void 0:t.tagName)==="INPUT";if(i||E){n.preventDefault(),t.blur(),l();return}}if(x)switch(n.key){case"ArrowUp":n.preventDefault(),c(t=>t>0?t-1:e.length-1);break;case"ArrowDown":n.preventDefault(),c(t=>t<e.length-1?t+1:0);break;case"Enter":if(n.preventDefault(),a>=0&&a<e.length){const t=e[a];w(t),b(!1),setTimeout(()=>{o==null||o()},100)}break}};return document.addEventListener("keydown",r),()=>document.removeEventListener("keydown",r)},[k,x,a,e,w,o,l]),{focusedIndex:a,setFocusedIndex:c,sidebarHasFocus:x,focusSidebar:l,blurSidebar:m,sidebarRef:d}}export{y as u};
