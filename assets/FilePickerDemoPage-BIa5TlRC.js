import{r as p,j as e}from"./react-vendor-CrhW4DYn.js";import{ao as w,ap as S,B as P,aq as C,ay as b,C as l,r as i,s as n,t as h,u as c,q as g}from"./index-CgyRe94A.js";import{p as z,a3 as v,a4 as B,ad as H}from"./icons-6Gjq1X59.js";import{B as R}from"./Breadcrumbs-DwpmWO_t.js";import"./utils-DPdF7W5J.js";import"./radix-ui-BcQf1l4u.js";import"./ui-utils-BxIQ3qGg.js";function E({onFileSelect:t,triggerLabel:f="Select File",maxResults:a=10,placeholder:j="Search files...",triggerClassName:r,mode:d="normal"}){const[o,m]=p.useState(!1),u=N=>{t==null||t(N),m(!1)};return e.jsxs(w,{open:o,onOpenChange:m,children:[e.jsx(S,{asChild:!0,children:e.jsxs(P,{variant:"outline",className:r,"data-test":"file-picker-popover-trigger",children:[e.jsx(z,{className:"w-4 h-4 mr-2"}),f]})}),e.jsx(C,{className:d!=="normal"?"popover-content w-[500px] p-2":"popover-content w-[600px] p-4",align:"start","data-test":"file-picker-popover-content",children:e.jsx(b,{onFileSelect:u,maxResults:a,placeholder:j,mode:d,"data-test":"file-picker-popover-picker"})})]})}function K({logger:t}){const f=[{label:"Home",href:"/"},{label:"Demo",href:"/demo"},{label:"File Picker"}],[a,j]=p.useState(null),[r,d]=p.useState(null),[o,m]=p.useState([]),u=s=>{t==null||t.info(`File selected: ${s.path}`),j(s),m(x=>[s,...x.filter(F=>F.path!==s.path)].slice(0,5))},N=s=>{t==null||t.info(`File selected from popover: ${s.path}`),d(s)},k=s=>s.split(".").pop()||"file",y=s=>`${Math.floor(Math.random()*100)}KB`;return e.jsxs("div",{className:"file-picker-demo-page flex-1 flex flex-col h-full",children:[e.jsxs("div",{className:"page-header p-6 pb-0 flex-shrink-0",children:[e.jsx("div",{className:"breadcrumb-section mb-4",children:e.jsx(R,{items:f})}),e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"File Picker"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"Fuzzy search file picker component with keyboard navigation and highlighting"})]}),e.jsx("div",{className:"page-content flex-1 p-6 overflow-y-auto min-h-0",children:e.jsxs("div",{className:"demo-content-inner space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(l,{className:"flex flex-col",children:[e.jsxs(i,{children:[e.jsx(n,{children:"Standalone File Picker"}),e.jsx(h,{children:"Full-featured file picker with fuzzy search"})]}),e.jsx(c,{className:"flex-1",children:e.jsx(b,{onFileSelect:u,maxResults:10,placeholder:"Type to search files..."})})]}),e.jsxs("div",{className:"info-panels flex flex-col gap-6",children:[e.jsxs(l,{children:[e.jsxs(i,{children:[e.jsx(n,{children:"Selected File"}),e.jsx(h,{children:"Information about the currently selected file"})]}),e.jsx(c,{children:a?e.jsx("div",{className:"selected-file-info space-y-4",children:e.jsxs("div",{className:"file-display bg-muted p-4 rounded-md",children:[e.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[e.jsx(v,{className:"w-5 h-5 text-blue-500 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-mono font-semibold break-words",children:a.filename}),e.jsxs("div",{className:"flex items-center gap-2 mt-2 text-xs text-muted-foreground",children:[e.jsx(B,{className:"w-3 h-3"}),e.jsx("p",{className:"break-words",children:a.path})]})]})]}),e.jsxs("div",{className:"file-meta flex flex-wrap gap-2 pt-3 border-t border-border",children:[e.jsxs(g,{variant:"secondary",className:"text-xs",children:[".",k(a.filename)]}),e.jsx(g,{variant:"outline",className:"text-xs",children:y(a.path)}),e.jsxs(g,{variant:"outline",className:"text-xs flex items-center gap-1",children:[e.jsx(H,{className:"w-3 h-3"}),"Selected"]})]})]})}):e.jsx("p",{className:"text-sm text-muted-foreground italic",children:"No file selected yet. Use the file picker to select a file."})})]}),e.jsxs(l,{children:[e.jsxs(i,{children:[e.jsx(n,{children:"Recent Selections"}),e.jsx(h,{children:"Last 5 files you've selected"})]}),e.jsx(c,{children:o.length>0?e.jsx("div",{className:"history-list space-y-2",children:o.map((s,x)=>e.jsxs("div",{className:"history-item bg-muted p-3 rounded text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-xs text-muted-foreground font-mono",children:["#",x+1]}),e.jsx(v,{className:"w-3 h-3 text-muted-foreground flex-shrink-0"}),e.jsx("span",{className:"font-mono text-xs truncate flex-1",children:s.filename})]}),e.jsx("div",{className:"text-xs text-muted-foreground mt-1 pl-8 truncate",children:s.path})]},s.path))}):e.jsx("p",{className:"text-sm text-muted-foreground italic",children:"Your selection history will appear here"})})]})]})]}),e.jsxs(l,{children:[e.jsxs(i,{children:[e.jsx(n,{children:"File Picker as Popover"}),e.jsx(h,{children:"Use the file picker in a popover for inline file selection"})]}),e.jsxs(c,{className:"space-y-4",children:[e.jsx("div",{className:"popover-demo-section",children:e.jsx(E,{onFileSelect:N,triggerLabel:"Open File Picker",maxResults:10})}),r&&e.jsxs("div",{className:"selected-from-popover bg-green-50 dark:bg-green-950 border border-green-200 dark:border-green-800 rounded-md p-4",children:[e.jsx("p",{className:"text-sm font-semibold text-green-900 dark:text-green-100 mb-2",children:"‚úì File selected from popover:"}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(v,{className:"w-4 h-4 text-green-700 dark:text-green-300"}),e.jsx("span",{className:"font-mono text-green-800 dark:text-green-200",children:r.filename})]}),e.jsx("p",{className:"text-xs text-green-700 dark:text-green-300 mt-1 pl-6",children:r.path})]})]})]}),e.jsxs(l,{children:[e.jsx(i,{children:e.jsx(n,{children:"Features"})}),e.jsx(c,{children:e.jsxs("div",{className:"features-grid grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{className:"feature-item",children:[e.jsx("h4",{className:"font-semibold mb-2",children:"üîç Fuzzy Search"}),e.jsx("p",{className:"text-muted-foreground",children:"Smart fuzzy matching algorithm that finds files even with typos or partial matches."})]}),e.jsxs("div",{className:"feature-item",children:[e.jsx("h4",{className:"font-semibold mb-2",children:"‚å®Ô∏è Keyboard Navigation"}),e.jsx("p",{className:"text-muted-foreground",children:"Navigate with arrow keys, select with Enter, and clear with Escape."})]}),e.jsxs("div",{className:"feature-item",children:[e.jsx("h4",{className:"font-semibold mb-2",children:"üé® Syntax Highlighting"}),e.jsx("p",{className:"text-muted-foreground",children:"Matched characters are highlighted in yellow for easy visual scanning."})]}),e.jsxs("div",{className:"feature-item",children:[e.jsx("h4",{className:"font-semibold mb-2",children:"üìä Relevance Scoring"}),e.jsx("p",{className:"text-muted-foreground",children:"Results are ranked by relevance, prioritizing better matches at the top."})]}),e.jsxs("div",{className:"feature-item",children:[e.jsx("h4",{className:"font-semibold mb-2",children:"üéØ Path Context"}),e.jsx("p",{className:"text-muted-foreground",children:"Shows file location with directory icons for better context."})]}),e.jsxs("div",{className:"feature-item",children:[e.jsx("h4",{className:"font-semibold mb-2",children:"üì¶ Dual Mode"}),e.jsx("p",{className:"text-muted-foreground",children:"Use as standalone component or in a popover for different use cases."})]})]})})]})]})})]})}export{K as FilePickerDemoPage};
