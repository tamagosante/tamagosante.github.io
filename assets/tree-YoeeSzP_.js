import{j as e,r as p}from"./react-vendor-CrhW4DYn.js";import{W as x,a1 as g,a2 as N,a3 as y}from"./index-CgyRe94A.js";import{a6 as d,a7 as w}from"./icons-6Gjq1X59.js";import"./utils-DPdF7W5J.js";import"./radix-ui-BcQf1l4u.js";import"./ui-utils-BxIQ3qGg.js";function v({node:r,onItemClick:s,level:l=0,defaultExpandedIds:i,selectedId:o,renderLeaf:a}){var u;const[t,f]=p.useState((i==null?void 0:i.has(r.id))??!1),j=r.children&&r.children.length>0,c=o===r.id,n=p.useRef(null);p.useEffect(()=>{c&&n.current&&n.current.scrollIntoView({behavior:"smooth",block:"nearest"})},[c]);const b=h=>{h.stopPropagation(),j&&f(!t),s==null||s(r)},m={paddingLeft:`${l*1.5}rem`};return j?e.jsxs(g,{open:t,onOpenChange:f,children:[e.jsx(N,{asChild:!0,children:e.jsxs("div",{ref:n,className:x("tree-item-parent flex items-center py-2 px-3 hover:bg-accent hover:text-accent-foreground cursor-pointer rounded-sm transition-colors",c&&"bg-primary/10 border border-primary"),style:m,onClick:b,children:[e.jsx("div",{className:"tree-item-chevron w-4 h-4 mr-2 flex-shrink-0",children:t?e.jsx(d,{className:"h-4 w-4"}):e.jsx(w,{className:"h-4 w-4"})}),r.icon&&e.jsx("div",{className:"tree-item-custom-icon mr-2 flex-shrink-0",children:r.icon}),e.jsx("span",{className:"tree-item-label flex-1",children:r.label})]})}),e.jsx(y,{children:e.jsx("div",{className:"tree-item-children",children:(u=r.children)==null?void 0:u.map(h=>e.jsx(v,{node:h,onItemClick:s,level:l+1,defaultExpandedIds:i,selectedId:o,renderLeaf:a},h.id))})})]}):a?e.jsx("div",{ref:n,style:m,children:a(r,c,()=>s==null?void 0:s(r))}):e.jsxs("div",{ref:n,className:x("tree-item-leaf flex items-center py-2 px-3 hover:bg-accent hover:text-accent-foreground cursor-pointer rounded-sm transition-colors",c&&"bg-primary/10 border border-primary"),style:m,onClick:b,children:[e.jsx("div",{className:"tree-item-icon w-4 h-4 mr-2 flex-shrink-0"}),r.icon&&e.jsx("div",{className:"tree-item-custom-icon mr-2 flex-shrink-0",children:r.icon}),e.jsx("span",{className:"tree-item-label flex-1",children:r.label})]})}function P({data:r,onItemClick:s,className:l,defaultExpandedIds:i,selectedId:o,renderLeaf:a}){return e.jsx("div",{className:x("tree-root",l),children:r.map(t=>e.jsx(v,{node:t,onItemClick:s,defaultExpandedIds:i,selectedId:o,renderLeaf:a},t.id))})}export{P as Tree,v as TreeItem};
