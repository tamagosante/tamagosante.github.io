import{j as e}from"./react-vendor-Byz07MLO.js";import{u as q,F as G,a as J}from"./forms-B7OAPNGv.js";import{F as V,a as I,b as R,c as L,d as P,e as p,f as Q}from"./form-4XCOk2xb.js";import{a as K,H as c,I as D,S as H,h as M,i as T,j as z,k as A,a7 as B}from"./index-hTFRJyrx.js";function O({fields:g,onSubmit:v,submitLabel:j="Submit",className:b,defaultValues:o={},loading:n=!1,resetOnSubmit:C=!1,submitButtonPosition:s="bottom",layout:r="single",hideSubmitButton:u=!1,formId:x,labelClassName:i}){const l=q({defaultValues:o}),d=async a=>{try{await v(a),C&&l.reset()}catch(t){console.error("Form submission error:",t)}},h=a=>{const t={};if(a.required&&(t.required=`${a.label} is required`),a.validation){const{minLength:w,maxLength:y,min:f,max:N,pattern:$,custom:k}=a.validation;w&&(t.minLength={value:w,message:`${a.label} must be at least ${w} characters`}),y&&(t.maxLength={value:y,message:`${a.label} must be no more than ${y} characters`}),f!==void 0&&(t.min={value:f,message:`${a.label} must be at least ${f}`}),N!==void 0&&(t.max={value:N,message:`${a.label} must be no more than ${N}`}),$&&(t.pattern={value:$,message:`${a.label} format is invalid`}),k&&(t.validate=E=>{const F=k(E);return F===!0?!0:typeof F=="string"?F:`${a.label} is invalid`})}return t},S=(a,t)=>{const{name:w,type:y,placeholder:f,options:N,className:$,description:k,step:E}=a;switch(y){case"checkbox":return e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(p,{children:e.jsx(B,{checked:t.value,onCheckedChange:t.onChange,className:$})}),e.jsxs("div",{className:"space-y-1 leading-none",children:[e.jsx(L,{className:c("font-normal cursor-pointer",i),children:a.label}),k&&e.jsx(Q,{className:"text-xs",children:k})]})]});case"select":return e.jsxs(H,{onValueChange:t.onChange,value:t.value,children:[e.jsx(p,{children:e.jsx(M,{className:$,children:e.jsx(T,{placeholder:f||`Select ${a.label.toLowerCase()}`})})}),e.jsx(z,{children:N==null?void 0:N.map(F=>e.jsx(A,{value:F.value,children:F.label},F.value))})]});case"textarea":return e.jsx(p,{children:e.jsx("textarea",{...l.register(w,h(a)),placeholder:f,className:c("flex min-h-[80px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",$)})});default:return e.jsx(p,{children:e.jsx(D,{type:y,placeholder:f,className:$,step:y==="number"?E??"any":void 0,...l.register(w,h(a))})})}},m=e.jsx(K,{type:"submit",disabled:n,className:c("submit-button w-full",n&&"opacity-50",r==="two-column"&&"col-span-2"),children:n?"Submitting...":j});return e.jsx(V,{...l,children:e.jsxs("form",{onSubmit:l.handleSubmit(d),className:b,id:x,children:[!u&&s==="top"&&m,e.jsx("div",{className:c(r==="two-column"?"grid grid-cols-2 gap-x-4 gap-y-3":"space-y-6"),children:g.map(a=>e.jsx(I,{control:l.control,name:a.name,rules:h(a),render:({field:t})=>e.jsxs(R,{className:c("form-field",a.type==="checkbox"&&"flex flex-row items-start space-x-0 space-y-0"),children:[a.type!=="checkbox"&&e.jsx(L,{className:c("form-label",i),children:a.label}),S(a,t),e.jsx(P,{className:"form-error"})]})},a.name))}),!u&&s==="bottom"&&m]})})}function Z({fields:g,onSubmit:v,submitLabel:j="Submit",className:b}){const o=g.map(n=>({...n,type:n.type||"text"}));return e.jsx(O,{fields:o,onSubmit:v,submitLabel:j,className:b})}function _({fields:g,layout:v="single",className:j,labelClassName:b}){const o=J();if(!o)return console.error("EasyFormFields must be used within EasyFormProvider"),null;const n=s=>{const r={};if(s.required&&(r.required=`${s.label} is required`),s.validation){const{minLength:u,maxLength:x,min:i,max:l,pattern:d,custom:h}=s.validation;u&&(r.minLength={value:u,message:`${s.label} must be at least ${u} characters`}),x&&(r.maxLength={value:x,message:`${s.label} must be no more than ${x} characters`}),i!==void 0&&(r.min={value:i,message:`${s.label} must be at least ${i}`}),l!==void 0&&(r.max={value:l,message:`${s.label} must be no more than ${l}`}),d&&(r.pattern={value:d,message:`${s.label} format is invalid`}),h&&(r.validate=S=>{const m=h(S);return m===!0?!0:typeof m=="string"?m:`${s.label} is invalid`})}return r},C=(s,r)=>{const{name:u,type:x,placeholder:i,options:l,className:d,description:h,step:S}=s;switch(x){case"checkbox":return e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(p,{children:e.jsx(B,{checked:r.value,onCheckedChange:r.onChange,className:d})}),e.jsxs("div",{className:"space-y-1 leading-none",children:[e.jsx(L,{className:c("text-sm font-normal cursor-pointer",b),children:s.label}),h&&e.jsx(Q,{className:"text-xs",children:h})]})]});case"select":return e.jsxs(H,{onValueChange:r.onChange,value:r.value,children:[e.jsx(p,{children:e.jsx(M,{className:d,children:e.jsx(T,{placeholder:i||`Select ${s.label.toLowerCase()}`})})}),e.jsx(z,{children:l==null?void 0:l.map(m=>e.jsx(A,{value:m.value,children:m.label},m.value))})]});case"textarea":return e.jsx(p,{children:e.jsx("textarea",{...o.register(u,n(s)),placeholder:i,className:c("flex min-h-[80px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",d)})});default:return e.jsx(p,{children:e.jsx(D,{type:x,placeholder:i,className:d,step:x==="number"?S??"any":void 0,...o.register(u,n(s))})})}};return e.jsx("div",{className:c(v==="two-column"?"grid grid-cols-2 gap-x-4 gap-y-3":"space-y-6",j),children:g.map(s=>e.jsx(I,{control:o.control,name:s.name,rules:n(s),render:({field:r})=>e.jsxs(R,{className:c("form-field",s.type==="checkbox"&&"flex flex-row items-start space-x-0 space-y-0"),children:[s.type!=="checkbox"&&e.jsx(L,{className:c("form-label",b),children:s.label}),C(s,r),e.jsx(P,{className:"form-error"})]})},s.name))})}function ee({children:g,onSubmit:v,defaultValues:j={},className:b,formId:o}){const n=q({defaultValues:j}),C=async s=>{try{await v(s)}catch(r){console.error("Form submission error:",r)}};return e.jsx(G,{...n,children:e.jsx(V,{...n,children:e.jsx("form",{onSubmit:n.handleSubmit(C),className:b,id:o,children:g})})})}export{O as E,Z as Q,ee as a,_ as b};
