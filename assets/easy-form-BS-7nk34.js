import{j as e}from"./react-vendor-Byz07MLO.js";import{u as q,F as O,a as U}from"./forms-B7OAPNGv.js";import{F as z,a as H,b as M,c as I,d as R,e as g,f as P}from"./form-CGMKtLyn.js";import{ah as Q,a as W,V as o,I as D,ai as E,S as T,h as A,i as B,j as G,k as J,aj as K}from"./index-BEUYSeX_.js";function X({fields:p,onSubmit:v,submitLabel:j="Submit",className:d,defaultValues:h={},loading:n=!1,resetOnSubmit:f=!1,submitButtonPosition:S="bottom",layout:s="single",hideSubmitButton:r=!1,formId:b,labelClassName:c}){const i=Q(),l=q({defaultValues:h}),u=async a=>{try{await v(a),f&&l.reset()}catch(t){console.error("Form submission error:",t)}},x=a=>{const t={};if(a.required&&(t.required=`${a.label} is required`),a.validation){const{minLength:w,maxLength:y,min:N,max:$,pattern:F,custom:L}=a.validation;w&&(t.minLength={value:w,message:`${a.label} must be at least ${w} characters`}),y&&(t.maxLength={value:y,message:`${a.label} must be no more than ${y} characters`}),N!==void 0&&(t.min={value:N,message:`${a.label} must be at least ${N}`}),$!==void 0&&(t.max={value:$,message:`${a.label} must be no more than ${$}`}),F&&(t.pattern={value:F,message:`${a.label} format is invalid`}),L&&(t.validate=V=>{const C=L(V);return C===!0?!0:typeof C=="string"?C:`${a.label} is invalid`})}return t},k=(a,t)=>{const{name:w,type:y,placeholder:N,options:$,className:F,description:L,step:V}=a;switch(y){case"checkbox":return e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(g,{children:e.jsx(K,{checked:t.value,onCheckedChange:t.onChange,className:F})}),e.jsxs("div",{className:"space-y-1 leading-none",children:[e.jsx(I,{className:o("font-normal cursor-pointer",c),children:a.label}),L&&e.jsx(P,{className:"text-xs",children:L})]})]});case"select":return e.jsxs(T,{onValueChange:t.onChange,value:t.value,children:[e.jsx(g,{children:e.jsx(A,{className:F,children:e.jsx(B,{placeholder:N||`Select ${a.label.toLowerCase()}`})})}),e.jsx(G,{children:$==null?void 0:$.map(C=>e.jsx(J,{value:C.value,children:C.label},C.value))})]});case"textarea":return e.jsx(g,{children:e.jsx("textarea",{...l.register(w,x(a)),placeholder:N,className:o("flex min-h-[80px] w-full rounded-md border border-input bg-transparent px-3 py-2 md:text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",F),style:{fontSize:i?E.chatInput.mobile.fontConfig.cssFontSize:void 0,lineHeight:i?E.chatInput.mobile.fontConfig.cssLineHeight:void 0}})});default:return e.jsx(g,{children:e.jsx(D,{type:y,placeholder:N,className:F,step:y==="number"?V??"any":void 0,...l.register(w,x(a))})})}},m=e.jsx(W,{type:"submit",disabled:n,className:o("submit-button w-full",n&&"opacity-50",s==="two-column"&&"col-span-2"),children:n?"Submitting...":j});return e.jsx(z,{...l,children:e.jsxs("form",{onSubmit:l.handleSubmit(u),className:d,id:b,children:[!r&&S==="top"&&m,e.jsx("div",{className:o(s==="two-column"?"grid grid-cols-2 gap-x-4 gap-y-3":"space-y-6"),children:p.map(a=>e.jsx(H,{control:l.control,name:a.name,rules:x(a),render:({field:t})=>e.jsxs(M,{className:o("form-field",a.type==="checkbox"&&"flex flex-row items-start space-x-0 space-y-0"),children:[a.type!=="checkbox"&&e.jsx(I,{className:o("form-label",c),children:a.label}),k(a,t),e.jsx(R,{className:"form-error"})]})},a.name))}),!r&&S==="bottom"&&m]})})}function se({fields:p,onSubmit:v,submitLabel:j="Submit",className:d}){const h=p.map(n=>({...n,type:n.type||"text"}));return e.jsx(X,{fields:h,onSubmit:v,submitLabel:j,className:d})}function ae({fields:p,layout:v="single",className:j,labelClassName:d}){const h=Q(),n=U();if(!n)return console.error("EasyFormFields must be used within EasyFormProvider"),null;const f=s=>{const r={};if(s.required&&(r.required=`${s.label} is required`),s.validation){const{minLength:b,maxLength:c,min:i,max:l,pattern:u,custom:x}=s.validation;b&&(r.minLength={value:b,message:`${s.label} must be at least ${b} characters`}),c&&(r.maxLength={value:c,message:`${s.label} must be no more than ${c} characters`}),i!==void 0&&(r.min={value:i,message:`${s.label} must be at least ${i}`}),l!==void 0&&(r.max={value:l,message:`${s.label} must be no more than ${l}`}),u&&(r.pattern={value:u,message:`${s.label} format is invalid`}),x&&(r.validate=k=>{const m=x(k);return m===!0?!0:typeof m=="string"?m:`${s.label} is invalid`})}return r},S=(s,r)=>{const{name:b,type:c,placeholder:i,options:l,className:u,description:x,step:k}=s;switch(c){case"checkbox":return e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(g,{children:e.jsx(K,{checked:r.value,onCheckedChange:r.onChange,className:u})}),e.jsxs("div",{className:"space-y-1 leading-none",children:[e.jsx(I,{className:o("text-sm font-normal cursor-pointer",d),children:s.label}),x&&e.jsx(P,{className:"text-xs",children:x})]})]});case"select":return e.jsxs(T,{onValueChange:r.onChange,value:r.value,children:[e.jsx(g,{children:e.jsx(A,{className:u,children:e.jsx(B,{placeholder:i||`Select ${s.label.toLowerCase()}`})})}),e.jsx(G,{children:l==null?void 0:l.map(m=>e.jsx(J,{value:m.value,children:m.label},m.value))})]});case"textarea":return e.jsx(g,{children:e.jsx("textarea",{...n.register(b,f(s)),placeholder:i,className:o("flex min-h-[80px] w-full rounded-md border border-input bg-transparent px-3 py-2 md:text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",u),style:{fontSize:h?E.chatInput.mobile.fontConfig.cssFontSize:void 0,lineHeight:h?E.chatInput.mobile.fontConfig.cssLineHeight:void 0}})});default:return e.jsx(g,{children:e.jsx(D,{type:c,placeholder:i,className:u,step:c==="number"?k??"any":void 0,...n.register(b,f(s))})})}};return e.jsx("div",{className:o(v==="two-column"?"grid grid-cols-2 gap-x-4 gap-y-3":"space-y-6",j),children:p.map(s=>e.jsx(H,{control:n.control,name:s.name,rules:f(s),render:({field:r})=>e.jsxs(M,{className:o("form-field",s.type==="checkbox"&&"flex flex-row items-start space-x-0 space-y-0"),children:[s.type!=="checkbox"&&e.jsx(I,{className:o("form-label",d),children:s.label}),S(s,r),e.jsx(R,{className:"form-error"})]})},s.name))})}function re({children:p,onSubmit:v,defaultValues:j={},className:d,formId:h}){const n=q({defaultValues:j}),f=async S=>{try{await v(S)}catch(s){console.error("Form submission error:",s)}};return e.jsx(O,{...n,children:e.jsx(z,{...n,children:e.jsx("form",{onSubmit:n.handleSubmit(f),className:d,id:h,children:p})})})}export{X as E,se as Q,re as a,ae as b};
