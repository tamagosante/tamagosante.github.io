import{r as i,j as e}from"./react-vendor-Byz07MLO.js";import{C as c,b as d,c as m,d as T,e as x,L as S,I as L,a as V,B as C,a9 as Y}from"./index-hTFRJyrx.js";import{T as $}from"./textarea-ZFIB_HyS.js";import{T as R,P as W,a as F}from"./TextareaPopoverAtCursor-DB-dMS5D.js";import{B as q}from"./Breadcrumbs-BjZV4SIv.js";import{a7 as z,a8 as Q,a9 as X,i as J}from"./icons-yhbeTEay.js";import"./utils-G1l1U0hd.js";import"./radix-ui-9f16WUVy.js";import"./ui-utils-BxIQ3qGg.js";import"./cursorPosition-otMhJ5rZ.js";function ne({logger:w}){const B=[{label:"Home",href:"/"},{label:"Demo",href:"/demo"},{label:"Popover at Cursor"}],[p,H]=i.useState(""),[P,k]=i.useState(!1),l=i.useRef(null),G=["üòÄ","üòç","üéâ","üëç","üî•","üíØ","‚ú®","üöÄ","üí°","üéØ","üìù","‚úÖ","‚ù§Ô∏è","üåü"],[h,A]=i.useState(""),[U,E]=i.useState(!1),u=i.useRef(null),O=["@alice","@bob","@charlie","@david","@emma","@frank","@grace"],[j,M]=i.useState(""),[D,I]=i.useState(!1),f=i.useRef(null),K=["<div>","<span>","<p>","<h1>","<h2>","<button>","<input>","<a>"],b=s=>{w==null||w.info(s)};return e.jsxs("div",{className:"popover-at-cursor-demo-page flex-1 flex flex-col h-full",children:[e.jsxs("div",{className:"page-header p-6 pb-0 flex-shrink-0",children:[e.jsx("div",{className:"breadcrumb-section mb-4",children:e.jsx(q,{items:B})}),e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:e.jsx(z,{className:"w-6 h-6 text-primary"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Popover at Cursor"}),e.jsx("p",{className:"text-muted-foreground",children:"Generic component that displays custom content at the cursor position in any input or textarea"})]})]})]}),e.jsx("div",{className:"page-content flex-1 p-6 overflow-y-auto min-h-0",children:e.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[e.jsxs(c,{children:[e.jsxs(d,{children:[e.jsx(m,{children:"About This Component"}),e.jsx(T,{children:"TextareaPopoverAtCursor is a fully generic, reusable component that can be dropped into any textarea or input"})]}),e.jsx(x,{className:"space-y-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-medium",children:"Key Features:"}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm text-muted-foreground ml-2",children:[e.jsx("li",{children:"Automatically tracks cursor position in any input/textarea"}),e.jsx("li",{children:"Fully customizable content via children prop"}),e.jsx("li",{children:"Handles scroll positioning automatically"}),e.jsx("li",{children:"Works with both single-line inputs and multi-line textareas"}),e.jsx("li",{children:"Optional helper components: PopoverGrid, PopoverKeyboardHints"}),e.jsx("li",{children:"Type-safe with full TypeScript support"})]})]})})]}),e.jsxs(c,{className:"border-2 border-primary/20",children:[e.jsxs(d,{children:[e.jsxs(m,{className:"flex items-center gap-2",children:[e.jsx(Q,{className:"w-5 h-5"}),"Example 1: Emoji Picker"]}),e.jsx(T,{children:'Click "Show Emojis" to display an emoji picker at the cursor'})]}),e.jsx(x,{className:"space-y-4",children:e.jsxs("div",{className:"relative",children:[e.jsx(S,{htmlFor:"emoji-input",children:"Try the emoji picker:"}),e.jsxs("div",{className:"emoji-input-wrapper relative mt-2 flex gap-2",children:[e.jsx(L,{id:"emoji-input",ref:l,value:p,onChange:s=>H(s.target.value),placeholder:"Click 'Show Emojis' and select one...",className:"text-lg flex-1"}),e.jsxs(V,{onClick:()=>{var s;k(!P),(s=l.current)==null||s.focus(),b("Toggled emoji popover")},children:[P?"Hide":"Show"," Emojis"]}),e.jsx(R,{inputRef:l,show:P,children:e.jsxs("div",{className:"emoji-picker bg-popover text-popover-foreground border border-border rounded-md shadow-lg p-2",children:[e.jsx(W,{items:G,gridColumns:7,onItemClick:s=>{var a;const t=((a=l.current)==null?void 0:a.selectionStart)||0,r=p.slice(0,t)+s+p.slice(t);H(r),k(!1),b(`Selected emoji: ${s}`),setTimeout(()=>{var o,n;(o=l.current)==null||o.setSelectionRange(t+s.length,t+s.length),(n=l.current)==null||n.focus()},0)}}),e.jsx(F,{children:"Click to insert emoji"})]})})]}),p&&e.jsxs("div",{className:"result-display mt-2 p-3 bg-muted rounded-md",children:[e.jsx("p",{className:"text-sm font-medium mb-1",children:"Result:"}),e.jsx("p",{className:"text-lg",children:p})]})]})})]}),e.jsxs(c,{className:"border-2 border-primary/20",children:[e.jsxs(d,{children:[e.jsxs(m,{className:"flex items-center gap-2",children:[e.jsx(X,{className:"w-5 h-5"}),"Example 2: Mention Autocomplete (Textarea)"]}),e.jsx(T,{children:'Type "@" to show mention suggestions in a textarea'})]}),e.jsx(x,{className:"space-y-4",children:e.jsxs("div",{className:"relative",children:[e.jsx(S,{htmlFor:"mention-textarea",children:'Try typing "@" in the textarea:'}),e.jsxs("div",{className:"mention-textarea-wrapper relative mt-2",children:[e.jsx($,{id:"mention-textarea",ref:u,value:h,onChange:s=>{const t=s.target.value;A(t);const r=s.target.selectionStart||0,a=t.charAt(r-1);E(a==="@")},placeholder:"Type @ to mention someone...",className:"text-lg min-h-[120px]"}),e.jsx(R,{inputRef:u,show:U,children:e.jsx("div",{className:"mention-autocomplete bg-popover text-popover-foreground border border-border rounded-md shadow-lg p-2",children:e.jsx("div",{className:"mentions-list space-y-1",children:O.map((s,t)=>e.jsxs("button",{onClick:()=>{var g;const r=((g=u.current)==null?void 0:g.selectionStart)||0,a=h.slice(0,r-1),o=h.slice(r),n=a+s+" "+o;A(n),E(!1),b(`Selected mention: ${s}`),setTimeout(()=>{var N,y;const v=r-1+s.length+1;(N=u.current)==null||N.setSelectionRange(v,v),(y=u.current)==null||y.focus()},0)},className:"w-full px-3 py-2 text-left rounded hover:bg-accent hover:text-accent-foreground transition-colors",children:[e.jsx("div",{className:"font-medium",children:s}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:["User ",s.slice(1)]})]},t))})})})]}),h&&e.jsxs("div",{className:"result-display mt-2 p-3 bg-muted rounded-md",children:[e.jsx("p",{className:"text-sm font-medium mb-1",children:"Result:"}),e.jsx("p",{className:"text-lg whitespace-pre-wrap",children:h})]})]})})]}),e.jsxs(c,{className:"border-2 border-primary/20",children:[e.jsxs(d,{children:[e.jsxs(m,{className:"flex items-center gap-2",children:[e.jsx(J,{className:"w-5 h-5"}),"Example 3: HTML Tag Suggestions"]}),e.jsx(T,{children:'Type "<" to show HTML tag suggestions'})]}),e.jsx(x,{className:"space-y-4",children:e.jsxs("div",{className:"relative",children:[e.jsx(S,{htmlFor:"html-input",children:'Try typing "<" to see HTML tags:'}),e.jsxs("div",{className:"html-input-wrapper relative mt-2",children:[e.jsx(L,{id:"html-input",ref:f,value:j,onChange:s=>{const t=s.target.value;M(t);const r=s.target.selectionStart||0,a=t.charAt(r-1);I(a==="<")},placeholder:"Type < to see HTML tag suggestions...",className:"text-lg font-mono"}),e.jsx(R,{inputRef:f,show:D,children:e.jsxs("div",{className:"html-suggestions bg-popover text-popover-foreground border border-border rounded-md shadow-lg p-2",children:[e.jsx("div",{className:"tags-grid grid grid-cols-2 gap-1",children:K.map((s,t)=>e.jsx("button",{onClick:()=>{var g;const r=((g=f.current)==null?void 0:g.selectionStart)||0,a=j.slice(0,r-1),o=j.slice(r),n=a+s+o;M(n),I(!1),b(`Selected HTML tag: ${s}`),setTimeout(()=>{var N,y;const v=r-1+s.length;(N=f.current)==null||N.setSelectionRange(v,v),(y=f.current)==null||y.focus()},0)},className:"px-3 py-2 text-left font-mono text-sm rounded hover:bg-accent hover:text-accent-foreground transition-colors",children:s},t))}),e.jsx(F,{children:"Click to insert HTML tag"})]})})]}),j&&e.jsxs("div",{className:"result-display mt-2 p-3 bg-muted rounded-md",children:[e.jsx("p",{className:"text-sm font-medium mb-1",children:"Result:"}),e.jsx("p",{className:"text-lg font-mono",children:j})]})]})})]}),e.jsxs(c,{children:[e.jsx(d,{children:e.jsx(m,{children:"How to Use This Component"})}),e.jsxs(x,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(C,{variant:"outline",className:"mt-0.5",children:"1"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Import the component"}),e.jsx("pre",{className:"text-xs bg-muted p-2 rounded mt-1 overflow-x-auto",children:`import {
  TextareaPopoverAtCursor,
  PopoverGrid,
  PopoverKeyboardHints,
} from '@/components/molecules/TextareaPopoverAtCursor'`})]})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(C,{variant:"outline",className:"mt-0.5",children:"2"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Create a ref for your input/textarea"}),e.jsx("pre",{className:"text-xs bg-muted p-2 rounded mt-1 overflow-x-auto",children:`const inputRef = useRef<HTMLInputElement>(null)
// or
const textareaRef = useRef<HTMLTextAreaElement>(null)`})]})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(C,{variant:"outline",className:"mt-0.5",children:"3"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Wrap your input with the popover component"}),e.jsx("pre",{className:"text-xs bg-muted p-2 rounded mt-1 overflow-x-auto",children:`<TextareaPopoverAtCursor
  inputRef={inputRef}
  show={showPopover}
>
  {/* Your custom content here */}
</TextareaPopoverAtCursor>`})]})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(C,{variant:"outline",className:"mt-0.5",children:"4"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Use helper components or custom content"}),e.jsx("pre",{className:"text-xs bg-muted p-2 rounded mt-1 overflow-x-auto",children:`{/* Option 1: Use PopoverGrid for simple grids */}
<PopoverGrid
  items={items}
  onItemClick={handleClick}
/>

{/* Option 2: Fully custom content */}
<div className="custom-popover">
  <YourCustomComponent />
</div>`})]})]})]}),e.jsx(Y,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-medium",children:"Component Props:"}),e.jsxs("div",{className:"text-sm space-y-1 font-mono",children:[e.jsxs("p",{children:[e.jsx("span",{className:"text-primary",children:"inputRef"}),": RefObject<HTMLInputElement | HTMLTextAreaElement> ",e.jsx("span",{className:"text-muted-foreground",children:"// Required"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"text-primary",children:"show"}),": boolean ",e.jsx("span",{className:"text-muted-foreground",children:"// Control visibility"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"text-primary",children:"children"}),": React.ReactNode ",e.jsx("span",{className:"text-muted-foreground",children:"// Your custom content"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"text-primary",children:"updateOn?"}),": any ",e.jsx("span",{className:"text-muted-foreground",children:"// Trigger position recalc"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"text-primary",children:"offset?"}),": ","{ top?: number; left?: number }"," ",e.jsx("span",{className:"text-muted-foreground",children:"// Custom offset"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"text-primary",children:"className?"}),": string ",e.jsx("span",{className:"text-muted-foreground",children:"// Custom styling"})]})]})]})]})]}),e.jsxs(c,{children:[e.jsx(d,{children:e.jsx(m,{children:"Common Use Cases"})}),e.jsx(x,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-medium",children:"Text Editing"}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm text-muted-foreground ml-2",children:[e.jsx("li",{children:"Diacritic/accent character pickers"}),e.jsx("li",{children:"Special character palettes"}),e.jsx("li",{children:"Emoji selectors"}),e.jsx("li",{children:"Symbol insertion tools"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-medium",children:"Code Editors"}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm text-muted-foreground ml-2",children:[e.jsx("li",{children:"HTML/XML tag suggestions"}),e.jsx("li",{children:"Code snippet insertion"}),e.jsx("li",{children:"Variable/function autocomplete"}),e.jsx("li",{children:"Template suggestions"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-medium",children:"Social Features"}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm text-muted-foreground ml-2",children:[e.jsx("li",{children:"@mention autocomplete"}),e.jsx("li",{children:"Hashtag suggestions"}),e.jsx("li",{children:"User/channel pickers"}),e.jsx("li",{children:"Command palettes"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-medium",children:"Forms & Input"}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm text-muted-foreground ml-2",children:[e.jsx("li",{children:"Address autocomplete"}),e.jsx("li",{children:"Preset value suggestions"}),e.jsx("li",{children:"Quick insert menus"}),e.jsx("li",{children:"Context-aware helpers"})]})]})]})})]})]})})]})}export{ne as PopoverAtCursorDemoPage};
