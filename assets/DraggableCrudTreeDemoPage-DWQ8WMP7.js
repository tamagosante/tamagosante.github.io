import{r as d,j as e}from"./react-vendor-Byz07MLO.js";import{B as R}from"./Breadcrumbs-BmC_qs_6.js";import{D as A}from"./DraggableCrudTree-DERsg6bO.js";import{I as $,a as h}from"./index-DPqC4dt9.js";import{S as U,X as H,a2 as F}from"./icons-Ce2OFwrV.js";import"./radix-ui-CdiC0DQF.js";import"./DragDropManager-CacIWg_Z.js";import"./treeHelpers-DUv_6quS.js";import"./utils-CsrmMPoT.js";import"./ui-utils-BxIQ3qGg.js";const B=[{id:"project-1",label:"Frontend Application",children:[{id:"workspace-1",label:"Components",children:[{id:"canvas-1",label:"Button.tsx"},{id:"canvas-2",label:"Input.tsx"},{id:"canvas-3",label:"Dialog.tsx"}]},{id:"workspace-2",label:"Pages",children:[{id:"canvas-4",label:"Home.tsx"},{id:"canvas-5",label:"Dashboard.tsx"}]}]},{id:"project-2",label:"Backend Services",children:[{id:"workspace-3",label:"API",children:[{id:"canvas-6",label:"auth.ts"},{id:"canvas-7",label:"users.ts"}]},{id:"workspace-4",label:"Database",children:[{id:"canvas-8",label:"schema.ts"},{id:"canvas-9",label:"migrations.ts"}]}]},{id:"project-3",label:"Documentation",children:[{id:"workspace-5",label:"README.md"},{id:"workspace-6",label:"API-DOCS.md"}]}];function G({logger:a}){const N=[{label:"Home",href:"/"},{label:"Demo",href:"/demo"},{label:"Draggable CRUD Tree"}],[x,c]=d.useState(B),[i,p]=d.useState(null),[D]=d.useState(new Set(["project-1","workspace-1","project-2"])),[b,o]=d.useState(""),[v,m]=d.useState(!1),[u,w]=d.useState(!0),[j,k]=d.useState(!0),[g,C]=d.useState(!0),y=s=>{p(s.id),a==null||a.info(`Selected: ${s.label} (${s.id})`)},I=(s,r)=>{const l=t=>t.map(n=>n.id===s?{...n,label:r}:n.children?{...n,children:l(n.children)}:n);c(t=>l(t)),a==null||a.info(`Renamed node ${s} to "${r}"`)},S=s=>{const r=l=>l.filter(t=>t.id!==s).map(t=>t.children?{...t,children:r(t.children)}:t);c(l=>r(l)),i===s&&p(null),a==null||a.info(`Deleted node ${s}`)},E=s=>{c(s),a==null||a.info("Tree reordered via drag-drop")},f=()=>{const s=b.trim()||"New Item",r={id:`node-${Date.now()}`,label:s};c(l=>[...l,r]),o(""),m(!1),a==null||a.info(`Added new node: ${s}`)},T=s=>{var l;const r=((l=s.children)==null?void 0:l.length)||0;return r>0?`Delete "${s.label}" and its ${r} children?`:`Delete "${s.label}"?`};return e.jsxs("div",{className:"draggable-crud-tree-demo-page flex-1 flex flex-col h-full bg-background text-foreground",children:[e.jsx("div",{className:"page-header px-4 md:px-6 py-4 flex-shrink-0 border-b border-border",children:e.jsx("div",{className:"breadcrumb-section mb-4",children:e.jsx(R,{items:N})})}),e.jsx("div",{className:"page-content flex-1 p-4 md:p-6 overflow-y-auto min-h-0",children:e.jsxs("div",{className:"content-grid grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"demo-tree-section flex flex-col gap-4",children:[e.jsx("div",{className:"section-header",children:e.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Interactive Demo"})}),e.jsx("div",{className:"tree-container bg-card border border-border rounded-lg p-4",children:e.jsx(A,{data:x,onItemClick:y,onUpdate:I,onDelete:S,onReorder:E,selectedId:i,defaultExpandedIds:D,enableEdit:u,enableDelete:j,enableDrag:g,deleteConfirmMessage:T})}),e.jsxs("div",{className:"add-node-section bg-card border border-border rounded-lg p-4",children:[e.jsx("h3",{className:"text-sm font-semibold mb-3",children:"Add Root Node"}),v?e.jsxs("div",{className:"add-input-container flex items-center gap-2",children:[e.jsx($,{type:"text",placeholder:"Enter node name...",value:b,onChange:s=>o(s.target.value),onKeyDown:s=>s.key==="Enter"&&f(),autoFocus:!0,className:"flex-1"}),e.jsx(h,{variant:"default",size:"sm",onClick:f,children:e.jsx(U,{className:"h-4 w-4"})}),e.jsx(h,{variant:"outline",size:"sm",onClick:()=>{m(!1),o("")},children:e.jsx(H,{className:"h-4 w-4"})})]}):e.jsxs(h,{variant:"outline",size:"sm",onClick:()=>m(!0),children:[e.jsx(F,{className:"h-4 w-4 mr-2"}),"Add Node"]})]}),i&&e.jsxs("div",{className:"selected-info bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsx("h3",{className:"text-sm font-semibold text-blue-800 mb-2",children:"Selected Node"}),e.jsxs("p",{className:"text-sm text-blue-700",children:[e.jsx("strong",{children:"ID:"})," ",i]}),e.jsxs("p",{className:"text-sm text-blue-700",children:[e.jsx("strong",{children:"Label:"})," ",(()=>{var r;const s=l=>{for(const t of l){if(t.id===i)return t;if(t.children){const n=s(t.children);if(n)return n}}return null};return((r=s(x))==null?void 0:r.label)||"Unknown"})()]})]})]}),e.jsxs("div",{className:"instructions-section flex flex-col gap-4",children:[e.jsx("div",{className:"section-header",children:e.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Features & Usage"})}),e.jsxs("div",{className:"feature-toggles bg-card border border-border rounded-lg p-4",children:[e.jsx("h3",{className:"text-sm font-semibold mb-3",children:"Feature Toggles"}),e.jsxs("div",{className:"toggles-grid grid grid-cols-3 gap-3",children:[e.jsxs("label",{className:"toggle-item flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:u,onChange:s=>w(s.target.checked),className:"h-4 w-4"}),e.jsx("span",{className:"text-sm",children:"Edit"})]}),e.jsxs("label",{className:"toggle-item flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:j,onChange:s=>k(s.target.checked),className:"h-4 w-4"}),e.jsx("span",{className:"text-sm",children:"Delete"})]}),e.jsxs("label",{className:"toggle-item flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:g,onChange:s=>C(s.target.checked),className:"h-4 w-4"}),e.jsx("span",{className:"text-sm",children:"Drag"})]})]})]}),e.jsxs("div",{className:"features-card bg-card border border-border rounded-lg p-4",children:[e.jsx("h3",{className:"text-sm font-semibold mb-3",children:"‚ú® Key Features"}),e.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-green-500 mt-0.5",children:"‚úì"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Drag & Drop:"})," Hover over a node to reveal the grip handle, then drag to reorder or nest within other nodes"]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-green-500 mt-0.5",children:"‚úì"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Inline Rename:"})," Click the Edit icon to rename nodes with instant save/cancel controls"]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-green-500 mt-0.5",children:"‚úì"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Delete with Confirmation:"})," Click the Trash icon to delete nodes (prompts for confirmation)"]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-green-500 mt-0.5",children:"‚úì"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Collapsible Hierarchy:"})," Click chevrons to expand/collapse parent nodes"]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-green-500 mt-0.5",children:"‚úì"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Visual Feedback:"})," Drop indicators show where nodes will land during drag operations"]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-green-500 mt-0.5",children:"‚úì"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Feature Toggles:"})," Enable/disable edit, delete, and drag features independently"]})]})]})]}),e.jsxs("div",{className:"usage-card bg-green-50 border border-green-200 rounded-lg p-4",children:[e.jsx("h3",{className:"text-sm font-semibold text-green-800 mb-3",children:"üí° How to Use"}),e.jsxs("ol",{className:"space-y-2 text-sm text-green-700 list-decimal list-inside",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Drag to Reorder:"})," Hover over any node to reveal the grip handle (‚ãÆ‚ãÆ), then click and drag to a new position"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Drop Zones:"})," Drag over the top third of a row to insert before it, middle third to nest as child, bottom third to insert after"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Rename:"})," Hover and click the pencil icon to edit the label inline"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Delete:"})," Hover and click the trash icon to remove a node (confirmation required)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Expand/Collapse:"})," Click the chevron (‚ñ∂/‚ñº) to toggle child visibility"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Select:"})," Click anywhere on a node to select it and see details below"]})]})]}),e.jsxs("div",{className:"code-card bg-gray-50 border border-gray-200 rounded-lg p-4",children:[e.jsx("h3",{className:"text-sm font-semibold mb-3",children:"üìù Code Example"}),e.jsx("pre",{className:"text-xs bg-gray-900 text-gray-100 p-3 rounded overflow-x-auto",children:`<DraggableCrudTree
  data={treeData}
  onItemClick={handleItemClick}
  onUpdate={handleUpdate}
  onDelete={handleDelete}
  onReorder={handleReorder}
  selectedId={selectedId}
  defaultExpandedIds={expandedIds}
  enableEdit={true}
  enableDelete={true}
  enableDrag={true}
  deleteConfirmMessage={(node) =>
    \`Delete "\${node.label}"?\`
  }
/>`})]}),e.jsxs("div",{className:"tech-card bg-purple-50 border border-purple-200 rounded-lg p-4",children:[e.jsx("h3",{className:"text-sm font-semibold text-purple-800 mb-3",children:"‚öôÔ∏è Technical Details"}),e.jsxs("ul",{className:"space-y-2 text-sm text-purple-700",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"font-semibold min-w-[120px]",children:"Architecture:"}),e.jsx("span",{children:"Combines CrudTree and DraggableTree patterns"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"font-semibold min-w-[120px]",children:"Drag System:"}),e.jsx("span",{children:"Uses DragDropManager for framework-agnostic drag operations"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"font-semibold min-w-[120px]",children:"Drop Logic:"}),e.jsx("span",{children:"Row-based calculation with top/middle/bottom third detection"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"font-semibold min-w-[120px]",children:"State:"}),e.jsx("span",{children:"Re-registers drag handles when tree structure changes"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"font-semibold min-w-[120px]",children:"Location:"}),e.jsx("span",{children:"src/components/organisms/DraggableTree/DraggableCrudTree.tsx"})]})]})]})]})]})})]})}export{G as DraggableCrudTreeDemoPage};
