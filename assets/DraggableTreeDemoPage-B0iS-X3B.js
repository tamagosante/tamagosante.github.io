import{r as i,j as e}from"./react-vendor-Byz07MLO.js";import{B as v}from"./Breadcrumbs-KCfVAlqp.js";import{D as T}from"./DraggableTree-a5UCAJK7.js";import{F as w,w as h,K as d,I as b}from"./icons-Detj0uxE.js";import"./radix-ui-B6r6BEmy.js";import"./index-CJ-Awmlc.js";import"./utils-DjFvUtuq.js";import"./ui-utils-BxIQ3qGg.js";import"./DragDropManager-CacIWg_Z.js";import"./treeHelpers-DUv_6quS.js";function A({logger:o}){const p=[{label:"Home",href:"/"},{label:"Demo",href:"/demo"},{label:"Draggable Tree"}],[s,j]=i.useState({isDragging:!1,nodeId:null,targetDepth:null,targetParent:null,x:null,y:null}),[c,f]=i.useState([{id:"1",label:"1",icon:e.jsx(d,{size:16}),children:[{id:"11",label:"11",icon:e.jsx(w,{size:16})},{id:"12",label:"12",icon:e.jsx(h,{size:16})}]},{id:"2",label:"2",icon:e.jsx(d,{size:16}),children:[{id:"21",label:"21",icon:e.jsx(b,{size:16})},{id:"22",label:"22",icon:e.jsx(d,{size:16}),children:[{id:"221",label:"221",icon:e.jsx(b,{size:16})}]}]},{id:"3",label:"3",icon:e.jsx(d,{size:16}),children:[{id:"31",label:"31",icon:e.jsx(h,{size:16})}]}]),[n,u]=i.useState(()=>new Set(["1","2","22"])),N=a=>{f(a);const D=(t=>{const g=new Set,m=y=>{y.forEach(l=>{l.children&&l.children.length>0&&(g.add(l.id),m(l.children))})};return m(t),g})(a),x=new Set(n);D.forEach(t=>{n.has(t)||x.add(t)}),u(x),o&&o.log("Tree reordered:",a)};return e.jsxs("div",{className:"draggable-tree-demo-page flex-1 flex flex-col h-full",children:[e.jsxs("div",{className:"page-header p-6 pb-0 flex-shrink-0",children:[e.jsx("div",{className:"breadcrumb-section mb-4",children:e.jsx(v,{items:p})}),e.jsx("h4",{className:"font-bold mb-2",children:"Draggable Tree"})]}),e.jsx("div",{className:"page-content flex-1 overflow-y-auto min-h-0",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsx("div",{className:"demo-section bg-white border border-gray-200 rounded-lg p-6",children:e.jsx("div",{className:"border border-gray-300 rounded-lg p-4 bg-gray-50",children:e.jsx(T,{data:c,onReorder:N,defaultExpandedIds:n,onDragStateChange:j})})}),e.jsxs("div",{className:"mt-4 p-3 bg-white border-2 border-blue-200 rounded-lg",children:[e.jsx("div",{className:"text-xs font-semibold text-gray-700 mb-2",children:"ðŸ” Drag State Monitor"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs font-mono",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-gray-600",children:"Status:"}),e.jsx("span",{className:`font-semibold ${s.isDragging?"text-green-600":"text-gray-400"}`,children:s.isDragging?"ðŸŸ¢ DRAGGING":"âšª IDLE"})]}),s.isDragging&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-gray-600",children:"Node ID:"}),e.jsx("span",{className:"text-blue-600 font-semibold",children:s.nodeId||"â€”"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-gray-600",children:"Target Depth:"}),e.jsxs("div",{className:"flex items-center gap-1",children:[Array.from({length:s.targetDepth||0}).map((a,r)=>e.jsx("div",{className:"w-2 h-0.5 bg-blue-400"},r)),e.jsxs("span",{className:"text-blue-600 font-bold text-sm",children:["L",s.targetDepth??"â€”"]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-gray-600",children:"Target Parent:"}),e.jsx("span",{className:"text-purple-600 font-semibold",children:s.targetParent||"root"})]})]})]}),e.jsx("div",{className:"space-y-1",children:s.isDragging&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-gray-600",children:"Mouse Position:"}),e.jsxs("span",{className:"text-orange-600 font-semibold",children:["x:",s.x??"â€”",", y:",s.y??"â€”"]})]})})]})]}),e.jsxs("div",{className:"usage-section bg-white border border-gray-200 rounded-lg p-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Usage Example"}),e.jsx("pre",{className:"bg-gray-900 text-gray-100 p-4 rounded-lg overflow-x-auto text-xs",children:`import { DraggableTree, DraggableTreeNode } from "@/components/organisms/DraggableTree";

const [treeData, setTreeData] = useState<DraggableTreeNode[]>([
  {
    id: "parent-1",
    label: "Parent Node",
    children: [
      { id: "child-1", label: "Child 1" },
      { id: "child-2", label: "Child 2" },
    ],
  },
]);

<DraggableTree
  data={treeData}
  onReorder={(newData) => setTreeData(newData)}
  defaultExpandedIds={new Set(["parent-1"])}
/>`})]}),e.jsxs("div",{className:"state-section bg-white border border-gray-200 rounded-lg p-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Current Tree Structure"}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"This shows the current state of the tree after your drag operations:"}),e.jsx("pre",{className:"bg-gray-900 text-gray-100 p-4 rounded-lg overflow-x-auto text-xs max-h-96",children:JSON.stringify(c,(a,r)=>a==="icon"?"[Icon]":r,2)})]})]})})]})}export{A as DraggableTreeDemoPage};
