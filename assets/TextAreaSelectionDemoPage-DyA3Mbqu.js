import{r as c,j as e}from"./react-vendor-Byz07MLO.js";import{C as a,b as i,c as n,d as x,a as w,e as l,E as y}from"./index-DPqC4dt9.js";import"./utils-CsrmMPoT.js";import"./radix-ui-CdiC0DQF.js";import"./ui-utils-BxIQ3qGg.js";import"./icons-Ce2OFwrV.js";const g=`Welcome to the SelectableTextArea Demo!

This component demonstrates cursor position detection and text selection features.

Try selecting any word or phrase in this text area. When you select text:
1. A popover will appear below your selection
2. The selected text will be displayed in the popover
3. You can select text using your mouse or keyboard (Shift + Arrow keys)

Special Feature - File Path Integration:
Select the word "file" to open a file picker! Try it: file or File
You can also select PART of an existing file path to replace the whole path. Try selecting just "SelectableTextArea" or "components" in: @src/components/ui/SelectableTextArea.tsx

Technical Features:
- Real-time selection detection
- Position-aware popover positioning
- Keyboard and mouse selection support
- Clean, accessible UI with shadcn components
- Native undo/redo preservation for all text operations

Feel free to edit this text and experiment with different selections!`,p=["apple","banana","cherry","dragon","elephant","forest","garden","harbor","island","jungle","kitten","lemon","meadow","nebula","ocean","panda","quartz","river","sunset","tiger","umbrella","valley","window","yellow","zebra"];function R({logger:t}){const[o,f]=c.useState(""),[d,m]=c.useState([]),h=c.useRef(null),b=s=>{t==null||t.info(`Text selected: "${s}"`),f(s),s.length>0&&m(r=>[s,...r.slice(0,9)])},j=()=>{m([]),t==null||t.info("Selection history cleared")},N=()=>{var u;const s=p[Math.floor(Math.random()*p.length)],r=s+" ";(u=h.current)==null||u.insertTextAtStart(r),t==null||t.info(`Inserted "${s}" at start (native undo/redo preserved)`)},v=s=>{t==null||t.info(`File selected: ${s.path}`)};return e.jsxs("div",{className:"textarea-selection-demo-container h-full flex flex-col p-6 gap-6 overflow-auto",children:[e.jsxs("div",{className:"demo-header",children:[e.jsx("h2",{className:"text-3xl font-bold mb-2",children:"Text Area Selection Demo"}),e.jsx("p",{className:"text-muted-foreground",children:"Interactive demonstration of cursor position detection and text selection with popovers"})]}),e.jsxs("div",{className:"demo-content grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(a,{children:[e.jsx(i,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(n,{children:"SelectableTextArea Component"}),e.jsx(x,{children:"Select any text to see the popover in action"})]}),e.jsx(w,{onClick:N,variant:"outline",size:"sm",className:"whitespace-nowrap",children:"Add Lowercase Word"})]})}),e.jsxs(l,{className:"flex flex-col gap-3",children:[e.jsx(y,{ref:h,defaultValue:g,className:"min-h-[400px] font-mono text-sm",onSelectionChange:b,onFileSelect:v,placeholder:"Type or paste your text here...",showBuiltInPopover:!1,logger:t}),e.jsxs("div",{className:"undo-redo-info p-3 bg-blue-50 dark:bg-blue-950 rounded-md border border-blue-200 dark:border-blue-800",children:[e.jsx("p",{className:"text-xs font-medium text-blue-900 dark:text-blue-100 mb-1",children:"‚ú® Native Undo/Redo Preserved"}),e.jsxs("p",{className:"text-xs text-blue-700 dark:text-blue-300",children:['Click "Add Lowercase Word" to insert text at the start. You can undo with ',e.jsx("kbd",{className:"px-1 py-0.5 bg-blue-100 dark:bg-blue-900 rounded text-blue-900 dark:text-blue-100 font-mono",children:"Ctrl+Z"})," and redo with ",e.jsx("kbd",{className:"px-1 py-0.5 bg-blue-100 dark:bg-blue-900 rounded text-blue-900 dark:text-blue-100 font-mono",children:"Ctrl+Y"})]})]}),e.jsxs("div",{className:"file-picker-info p-3 bg-green-50 dark:bg-green-950 rounded-md border border-green-200 dark:border-green-800",children:[e.jsx("p",{className:"text-xs font-medium text-green-900 dark:text-green-100 mb-1",children:"üìÅ File Path Integration"}),e.jsx("p",{className:"text-xs text-green-700 dark:text-green-300",children:'Select the word "file" anywhere in the text to open a file picker. Choose a file to replace "file" with its path (prefixed with @). You can also select ANY PART of an existing file path (like just "components" in @src/components/ui/...) and the entire path will be replaced. Undo/redo is preserved!'})]})]})]}),e.jsxs("div",{className:"info-panels flex flex-col gap-6",children:[e.jsxs(a,{children:[e.jsxs(i,{children:[e.jsx(n,{children:"Current Selection"}),e.jsx(x,{children:"The most recently selected text"})]}),e.jsx(l,{children:o?e.jsxs("div",{className:"selected-display bg-muted p-4 rounded-md",children:[e.jsx("p",{className:"text-sm font-mono break-words",children:o}),e.jsxs("div",{className:"selection-meta mt-2 pt-2 border-t border-border",children:[e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Length: ",o.length," characters"]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Words: ",o.split(/\s+/).length]})]})]}):e.jsx("p",{className:"text-sm text-muted-foreground italic",children:"No text selected yet. Try selecting some text in the textarea above."})})]}),e.jsxs(a,{children:[e.jsx(i,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(n,{children:"Selection History"}),e.jsx(x,{children:"Last 10 selections made"})]}),d.length>0&&e.jsx("button",{onClick:j,className:"text-xs px-3 py-1 rounded-md bg-destructive/10 text-destructive hover:bg-destructive/20 transition-colors",children:"Clear"})]})}),e.jsx(l,{children:d.length>0?e.jsx("div",{className:"history-list flex flex-col gap-2",children:d.map((s,r)=>e.jsxs("div",{className:"history-item bg-muted p-2 rounded text-sm font-mono break-words",children:[e.jsxs("span",{className:"text-xs text-muted-foreground mr-2",children:["#",r+1]}),s.length>50?`${s.substring(0,50)}...`:s]},r))}):e.jsx("p",{className:"text-sm text-muted-foreground italic",children:"Your selection history will appear here"})})]})]})]}),e.jsxs(a,{children:[e.jsx(i,{children:e.jsx(n,{children:"How It Works"})}),e.jsx(l,{children:e.jsxs("div",{className:"instructions grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{className:"feature-item",children:[e.jsx("h4",{className:"font-semibold mb-2",children:"üñ±Ô∏è Mouse Selection"}),e.jsx("p",{className:"text-muted-foreground",children:"Click and drag to select text. Release to see the popover."})]}),e.jsxs("div",{className:"feature-item",children:[e.jsx("h4",{className:"font-semibold mb-2",children:"‚å®Ô∏è Keyboard Selection"}),e.jsx("p",{className:"text-muted-foreground",children:"Use Shift + Arrow keys to select text with your keyboard."})]}),e.jsxs("div",{className:"feature-item",children:[e.jsx("h4",{className:"font-semibold mb-2",children:"üìç Position Detection"}),e.jsx("p",{className:"text-muted-foreground",children:"The popover automatically positions itself below your selection."})]}),e.jsxs("div",{className:"feature-item",children:[e.jsx("h4",{className:"font-semibold mb-2",children:"üé® Custom Styling"}),e.jsx("p",{className:"text-muted-foreground",children:"Built with Tailwind CSS and shadcn/ui components for consistency."})]}),e.jsxs("div",{className:"feature-item",children:[e.jsx("h4",{className:"font-semibold mb-2",children:"‚Ü©Ô∏è Native Undo/Redo"}),e.jsx("p",{className:"text-muted-foreground",children:"Programmatic text insertion uses execCommand to preserve browser undo stack."})]}),e.jsxs("div",{className:"feature-item",children:[e.jsx("h4",{className:"font-semibold mb-2",children:"üé® Dynamic Colors"}),e.jsx("p",{className:"text-muted-foreground",children:"Popover text is red for capitals, blue for lowercase first characters."})]}),e.jsxs("div",{className:"feature-item",children:[e.jsx("h4",{className:"font-semibold mb-2",children:"üìÅ File Path Integration"}),e.jsx("p",{className:"text-muted-foreground",children:'Select the word "file" to trigger a file picker. Choose a file to replace it with the path.'})]})]})})]})]})}export{R as TextAreaSelectionDemoPage};
